(function(){
/*
 Copyright (c) 2019, Uponit (Aderz Media Ltd.) All rights reserved.
 See license text at: https://uponit.com/license
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(x,I,F){x!=Array.prototype&&x!=Object.prototype&&(x[I]=F.value)};$jscomp.getGlobal=function(x){return"undefined"!=typeof window&&window===x?x:"undefined"!=typeof global&&null!=global?global:x};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(x,I,F,P){if(I){F=$jscomp.global;x=x.split(".");for(P=0;P<x.length-1;P++){var r=x[P];r in F||(F[r]={});F=F[r]}x=x[x.length-1];P=F[x];I=I(P);I!=P&&null!=I&&$jscomp.defineProperty(F,x,{configurable:!0,writable:!0,value:I})}};$jscomp.polyfill("Object.setPrototypeOf",function(x){return x?x:"object"!=typeof"".__proto__?null:function(x,F){x.__proto__=F;if(x.__proto__!==F)throw new TypeError(x+" is not extensible");return x}},"es6","es5");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(x){return $jscomp.SYMBOL_PREFIX+(x||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var x=$jscomp.global.Symbol.iterator;x||(x=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[x]&&$jscomp.defineProperty(Array.prototype,x,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(x){var I=0;return $jscomp.iteratorPrototype(function(){return I<x.length?{done:!1,value:x[I++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(x){$jscomp.initSymbolIterator();x={next:x};x[$jscomp.global.Symbol.iterator]=function(){return this};return x};$jscomp.makeIterator=function(x){$jscomp.initSymbolIterator();var I=x[Symbol.iterator];return I?I.call(x):$jscomp.arrayIterator(x)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(x){function I(){this.batch_=null}function F(k){return k instanceof r?k:new r(function(a,r){a(k)})}if(x&&!$jscomp.FORCE_POLYFILL_PROMISE)return x;I.prototype.asyncExecute=function(k){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(k);return this};I.prototype.asyncExecuteBatch_=function(){var k=this;this.asyncExecuteFunction(function(){k.executeBatch_()})};var P=$jscomp.global.setTimeout;I.prototype.asyncExecuteFunction=function(k){P(k,
0)};I.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var k=this.batch_;this.batch_=[];for(var a=0;a<k.length;++a){var r=k[a];delete k[a];try{r()}catch(R){this.asyncThrow_(R)}}}this.batch_=null};I.prototype.asyncThrow_=function(k){this.asyncExecuteFunction(function(){throw k;})};var r=function(k){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{k(a.resolve,a.reject)}catch(U){a.reject(U)}};r.prototype.createResolveAndReject_=
function(){function k(k){return function(t){r||(r=!0,k.call(a,t))}}var a=this,r=!1;return{resolve:k(this.resolveTo_),reject:k(this.reject_)}};r.prototype.resolveTo_=function(k){if(k===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(k instanceof r)this.settleSameAsPromise_(k);else{a:switch(typeof k){case "object":var a=null!=k;break a;case "function":a=!0;break a;default:a=!1}a?this.resolveToNonPromiseObj_(k):this.fulfill_(k)}};r.prototype.resolveToNonPromiseObj_=function(k){var a=
void 0;try{a=k.then}catch(U){this.reject_(U);return}"function"==typeof a?this.settleSameAsThenable_(a,k):this.fulfill_(k)};r.prototype.reject_=function(k){this.settle_(2,k)};r.prototype.fulfill_=function(k){this.settle_(1,k)};r.prototype.settle_=function(k,a){if(0!=this.state_)throw Error("Cannot settle("+k+", "+a|"): Promise already settled in state"+this.state_);this.state_=k;this.result_=a;this.executeOnSettledCallbacks_()};r.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var k=
this.onSettledCallbacks_,a=0;a<k.length;++a)k[a].call(),k[a]=null;this.onSettledCallbacks_=null}};var M=new I;r.prototype.settleSameAsPromise_=function(k){var a=this.createResolveAndReject_();k.callWhenSettled_(a.resolve,a.reject)};r.prototype.settleSameAsThenable_=function(k,a){var r=this.createResolveAndReject_();try{k.call(a,r.resolve,r.reject)}catch(R){r.reject(R)}};r.prototype.then=function(k,a){function x(a,k){return"function"==typeof a?function(k){try{F(a(k))}catch(S){t(S)}}:k}var F,t,I=new r(function(a,
k){F=a;t=k});this.callWhenSettled_(x(k,F),x(a,t));return I};r.prototype.catch=function(k){return this.then(void 0,k)};r.prototype.callWhenSettled_=function(k,a){function r(){switch(x.state_){case 1:k(x.result_);break;case 2:a(x.result_);break;default:throw Error("Unexpected state: "+x.state_);}}var x=this;null==this.onSettledCallbacks_?M.asyncExecute(r):this.onSettledCallbacks_.push(function(){M.asyncExecute(r)})};r.resolve=F;r.reject=function(k){return new r(function(a,r){r(k)})};r.race=function(k){return new r(function(a,
r){for(var x=$jscomp.makeIterator(k),t=x.next();!t.done;t=x.next())F(t.value).callWhenSettled_(a,r)})};r.all=function(k){var a=$jscomp.makeIterator(k),x=a.next();return x.done?F([]):new r(function(k,r){function t(a){return function(r){I[a]=r;M--;0==M&&k(I)}}var I=[],M=0;do I.push(void 0),M++,F(x.value).callWhenSettled_(t(I.length-1),r),x=a.next();while(!x.done)})};return r},"es6-impl","es3");
$jscomp.iteratorFromArray=function(x,I){$jscomp.initSymbolIterator();x instanceof String&&(x+="");var F=0,P={next:function(){if(F<x.length){var r=F++;return{value:I(r,x[r]),done:!1}}P.next=function(){return{done:!0,value:void 0}};return P.next()}};P[Symbol.iterator]=function(){return P};return P};$jscomp.polyfill("Array.prototype.keys",function(x){return x?x:function(){return $jscomp.iteratorFromArray(this,function(x){return x})}},"es6-impl","es3");
$jscomp.findInternal=function(x,I,F){x instanceof String&&(x=String(x));for(var P=x.length,r=0;r<P;r++){var M=x[r];if(I.call(F,M,r,x))return{i:r,v:M}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(x){return x?x:function(x,F){return $jscomp.findInternal(this,x,F).v}},"es6-impl","es3");window.SVGFEFuncCMYKElement=!0;window===top&&(window.YSVGFEFuncCMYKElement=!0);
(function(x){var I={};(function(a){var u={};(function(q){"object"===typeof a&&"undefined"!==typeof module?module.exports=q():("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).pako=q()})(function(){return function(){function a(q,h,f){function e(b,g){if(!h[b]){if(!q[b]){var l="function"==typeof require&&require;if(!g&&l)return l(b,!0);if(d)return d(b,!0);g=Error("Cannot find module '"+b+"'");throw g.code="MODULE_NOT_FOUND",g;}g=h[b]={exports:{}};
q[b][0].call(g.exports,function(d){return e(q[b][1][d]||d)},g,g.exports,a,q,h,f)}return h[b].exports}for(var d="function"==typeof require&&require,g=0;g<f.length;g++)e(f[g]);return e}return a}()({1:[function(a,n,h){function f(e){if(!(this instanceof f))return new f(e);e=this.options=g.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&16>e.windowBits&&(e.windowBits+=16);this.err=0;this.msg=
"";this.ended=!1;this.chunks=[];this.strm=new l;this.strm.avail_out=0;var a=d.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==a)throw Error(y[a]);e.header&&d.deflateSetHeader(this.strm,e.header);if(e.dictionary){e="string"===typeof e.dictionary?b.string2buf(e.dictionary):"[object ArrayBuffer]"===C.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary;a=d.deflateSetDictionary(this.strm,e);if(0!==a)throw Error(y[a]);this._dict_set=!0}}function e(b,d){d=new f(d);
d.push(b,!0);if(d.err)throw d.msg||y[d.err];return d.result}var d=a("./zlib/deflate"),g=a("./utils/common"),b=a("./utils/strings"),y=a("./zlib/messages"),l=a("./zlib/zstream"),C=Object.prototype.toString;f.prototype.push=function(e,l){var f=this.strm,y=this.options.chunkSize;if(this.ended)return!1;l=l===~~l?l:!0===l?4:0;"string"===typeof e?f.input=b.string2buf(e):"[object ArrayBuffer]"===C.call(e)?f.input=new Uint8Array(e):f.input=e;f.next_in=0;f.avail_in=f.input.length;do{0===f.avail_out&&(f.output=
new g.Buf8(y),f.next_out=0,f.avail_out=y);e=d.deflate(f,l);if(1!==e&&0!==e)return this.onEnd(e),this.ended=!0,!1;if(0===f.avail_out||0===f.avail_in&&(4===l||2===l))if("string"===this.options.to)this.onData(b.buf2binstring(g.shrinkBuf(f.output,f.next_out)));else this.onData(g.shrinkBuf(f.output,f.next_out))}while((0<f.avail_in||0===f.avail_out)&&1!==e);if(4===l)return e=d.deflateEnd(this.strm),this.onEnd(e),this.ended=!0,0===e;2===l&&(this.onEnd(0),f.avail_out=0);return!0};f.prototype.onData=function(b){this.chunks.push(b)};
f.prototype.onEnd=function(b){0===b&&(this.result="string"===this.options.to?this.chunks.join(""):g.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};h.Deflate=f;h.deflate=e;h.deflateRaw=function(b,d){d=d||{};d.raw=!0;return e(b,d)};h.gzip=function(b,d){d=d||{};d.gzip=!0;return e(b,d)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(a,n,h){a("./utils/common");a("./utils/strings");a("./zlib/constants");a("./zlib/messages");
a("./zlib/zstream");a("./zlib/gzheader")},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(a,n,h){a="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;h.assign=function(d){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var b=e.shift();if(b){if("object"!==typeof b)throw new TypeError(b+"must be non-object");for(var f in b)Object.prototype.hasOwnProperty.call(b,
f)&&(d[f]=b[f])}}return d};h.shrinkBuf=function(d,e){if(d.length===e)return d;if(d.subarray)return d.subarray(0,e);d.length=e;return d};var f={arraySet:function(d,e,b,f,l){if(e.subarray&&d.subarray)d.set(e.subarray(b,b+f),l);else for(var g=0;g<f;g++)d[l+g]=e[b+g]},flattenChunks:function(d){var e,b;var f=b=0;for(e=d.length;f<e;f++)b+=d[f].length;var l=new Uint8Array(b);f=b=0;for(e=d.length;f<e;f++){var a=d[f];l.set(a,b);b+=a.length}return l}},e={arraySet:function(d,e,b,f,l){for(var g=0;g<f;g++)d[l+
g]=e[b+g]},flattenChunks:function(d){return[].concat.apply([],d)}};h.setTyped=function(d){d?(h.Buf8=Uint8Array,h.Buf16=Uint16Array,h.Buf32=Int32Array,h.assign(h,f)):(h.Buf8=Array,h.Buf16=Array,h.Buf32=Array,h.assign(h,e))};h.setTyped(a)},{}],4:[function(a,n,h){var f=a("./common"),e=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch(b){e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(b){d=!1}var g=new f.Buf8(256);for(a=0;256>a;a++)g[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?
2:1;g[254]=g[254]=1;h.string2buf=function(b){var d,e,g=b.length,a=0;for(d=0;d<g;d++){var h=b.charCodeAt(d);if(55296===(h&64512)&&d+1<g){var p=b.charCodeAt(d+1);56320===(p&64512)&&(h=65536+(h-55296<<10)+(p-56320),d++)}a+=128>h?1:2048>h?2:65536>h?3:4}var v=new f.Buf8(a);for(d=e=0;e<a;d++)h=b.charCodeAt(d),55296===(h&64512)&&d+1<g&&(p=b.charCodeAt(d+1),56320===(p&64512)&&(h=65536+(h-55296<<10)+(p-56320),d++)),128>h?v[e++]=h:(2048>h?v[e++]=192|h>>>6:(65536>h?v[e++]=224|h>>>12:(v[e++]=240|h>>>18,v[e++]=
128|h>>>12&63),v[e++]=128|h>>>6&63),v[e++]=128|h&63);return v};h.buf2binstring=function(b){var g=b.length;if(65534>g&&(b.subarray&&d||!b.subarray&&e))b=String.fromCharCode.apply(null,f.shrinkBuf(b,g));else{for(var l="",a=0;a<g;a++)l+=String.fromCharCode(b[a]);b=l}return b};h.binstring2buf=function(b){for(var d=new f.Buf8(b.length),e=0,g=d.length;e<g;e++)d[e]=b.charCodeAt(e);return d};h.utf8border=function(b,d){var e;d=d||b.length;d>b.length&&(d=b.length);for(e=d-1;0<=e&&128===(b[e]&192);)e--;return 0>
e||0===e?d:e+g[b[e]]>d?e:d}},{"./common":3}],5:[function(a,n,h){n.exports=function(f,e,d,g){var b=f&65535|0;f=f>>>16&65535|0;for(var a;0!==d;){a=2E3<d?2E3:d;d-=a;do b=b+e[g++]|0,f=f+b|0;while(--a);b%=65521;f%=65521}return b|f<<16|0}},{}],6:[function(a,n,h){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,
Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(a,n,h){var f=function(){for(var e,d=[],f=0;256>f;f++){e=f;for(var b=0;8>b;b++)e=e&1?3988292384^e>>>1:e>>>1;d[f]=e}return d}();n.exports=function(e,d,g,b){g=b+g;for(e^=-1;b<g;b++)e=e>>>8^f[(e^d[b])&255];return e^-1}},{}],8:[function(a,n,h){function f(c,b){c.msg=A[b];return b}function e(c){for(var b=c.length;0<=--b;)c[b]=0}function d(c){var b=c.state,
m=b.pending;m>c.avail_out&&(m=c.avail_out);0!==m&&(E.arraySet(c.output,b.pending_buf,b.pending_out,m,c.next_out),c.next_out+=m,b.pending_out+=m,c.total_out+=m,c.avail_out-=m,b.pending-=m,0===b.pending&&(b.pending_out=0))}function g(c,b){W._tr_flush_block(c,0<=c.block_start?c.block_start:-1,c.strstart-c.block_start,b);c.block_start=c.strstart;d(c.strm)}function b(c,b){c.pending_buf[c.pending++]=b}function y(c,b){c.pending_buf[c.pending++]=b>>>8&255;c.pending_buf[c.pending++]=b&255}function l(c,b){var m=
c.max_chain_length,d=c.strstart,e=c.prev_length,f=c.nice_match,g=c.strstart>c.w_size-262?c.strstart-(c.w_size-262):0,a=c.window,G=c.w_mask,l=c.prev,fa=c.strstart+258,w=a[d+e-1],v=a[d+e];c.prev_length>=c.good_match&&(m>>=2);f>c.lookahead&&(f=c.lookahead);do{var p=b;if(a[p+e]===v&&a[p+e-1]===w&&a[p]===a[d]&&a[++p]===a[d+1]){d+=2;for(p++;a[++d]===a[++p]&&a[++d]===a[++p]&&a[++d]===a[++p]&&a[++d]===a[++p]&&a[++d]===a[++p]&&a[++d]===a[++p]&&a[++d]===a[++p]&&a[++d]===a[++p]&&d<fa;);p=258-(fa-d);d=fa-258;
if(p>e){c.match_start=b;e=p;if(p>=f)break;w=a[d+e-1];v=a[d+e]}}}while((b=l[b&G])>g&&0!==--m);return e<=c.lookahead?e:c.lookahead}function C(c){var b=c.w_size,d;do{var e=c.window_size-c.lookahead-c.strstart;if(c.strstart>=b+(b-262)){E.arraySet(c.window,c.window,b,b,0);c.match_start-=b;c.strstart-=b;c.block_start-=b;var f=d=c.hash_size;do{var a=c.head[--f];c.head[f]=a>=b?a-b:0}while(--d);f=d=b;do a=c.prev[--f],c.prev[f]=a>=b?a-b:0;while(--d);e+=b}if(0===c.strm.avail_in)break;f=c.strm;d=c.window;a=c.strstart+
c.lookahead;var g=f.avail_in;g>e&&(g=e);0===g?d=0:(f.avail_in-=g,E.arraySet(d,f.input,f.next_in,g,a),1===f.state.wrap?f.adler=Q(f.adler,d,g,a):2===f.state.wrap&&(f.adler=k(f.adler,d,g,a)),f.next_in+=g,f.total_in+=g,d=g);c.lookahead+=d;if(3<=c.lookahead+c.insert)for(e=c.strstart-c.insert,c.ins_h=c.window[e],c.ins_h=(c.ins_h<<c.hash_shift^c.window[e+1])&c.hash_mask;c.insert&&!(c.ins_h=(c.ins_h<<c.hash_shift^c.window[e+3-1])&c.hash_mask,c.prev[e&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=e,e++,c.insert--,
3>c.lookahead+c.insert););}while(262>c.lookahead&&0!==c.strm.avail_in)}function q(c,b){for(var d;;){if(262>c.lookahead){C(c);if(262>c.lookahead&&0===b)return 1;if(0===c.lookahead)break}d=0;3<=c.lookahead&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+3-1])&c.hash_mask,d=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart);0!==d&&c.strstart-d<=c.w_size-262&&(c.match_length=l(c,d));if(3<=c.match_length)if(d=W._tr_tally(c,c.strstart-c.match_start,c.match_length-3),c.lookahead-=
c.match_length,c.match_length<=c.max_lazy_match&&3<=c.lookahead){c.match_length--;do c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+3-1])&c.hash_mask,c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart;while(0!==--c.match_length);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else d=W._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(d&&
(g(c,!1),0===c.strm.avail_out))return 1}c.insert=2>c.strstart?c.strstart:2;return 4===b?(g(c,!0),0===c.strm.avail_out?3:4):c.last_lit&&(g(c,!1),0===c.strm.avail_out)?1:2}function u(c,b){for(var d,e;;){if(262>c.lookahead){C(c);if(262>c.lookahead&&0===b)return 1;if(0===c.lookahead)break}d=0;3<=c.lookahead&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+3-1])&c.hash_mask,d=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart);c.prev_length=c.match_length;c.prev_match=c.match_start;
c.match_length=2;0!==d&&c.prev_length<c.max_lazy_match&&c.strstart-d<=c.w_size-262&&(c.match_length=l(c,d),5>=c.match_length&&(1===c.strategy||3===c.match_length&&4096<c.strstart-c.match_start)&&(c.match_length=2));if(3<=c.prev_length&&c.match_length<=c.prev_length){e=c.strstart+c.lookahead-3;d=W._tr_tally(c,c.strstart-1-c.prev_match,c.prev_length-3);c.lookahead-=c.prev_length-1;c.prev_length-=2;do++c.strstart<=e&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+3-1])&c.hash_mask,c.prev[c.strstart&
c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart);while(0!==--c.prev_length);c.match_available=0;c.match_length=2;c.strstart++;if(d&&(g(c,!1),0===c.strm.avail_out))return 1}else if(c.match_available){if((d=W._tr_tally(c,0,c.window[c.strstart-1]))&&g(c,!1),c.strstart++,c.lookahead--,0===c.strm.avail_out)return 1}else c.match_available=1,c.strstart++,c.lookahead--}c.match_available&&(W._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0);c.insert=2>c.strstart?c.strstart:2;return 4===b?(g(c,
!0),0===c.strm.avail_out?3:4):c.last_lit&&(g(c,!1),0===c.strm.avail_out)?1:2}function p(c,b){for(var d,e,f,a=c.window;;){if(258>=c.lookahead){C(c);if(258>=c.lookahead&&0===b)return 1;if(0===c.lookahead)break}c.match_length=0;if(3<=c.lookahead&&0<c.strstart&&(e=c.strstart-1,d=a[e],d===a[++e]&&d===a[++e]&&d===a[++e])){for(f=c.strstart+258;d===a[++e]&&d===a[++e]&&d===a[++e]&&d===a[++e]&&d===a[++e]&&d===a[++e]&&d===a[++e]&&d===a[++e]&&e<f;);c.match_length=258-(f-e);c.match_length>c.lookahead&&(c.match_length=
c.lookahead)}3<=c.match_length?(d=W._tr_tally(c,1,c.match_length-3),c.lookahead-=c.match_length,c.strstart+=c.match_length,c.match_length=0):(d=W._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++);if(d&&(g(c,!1),0===c.strm.avail_out))return 1}c.insert=0;return 4===b?(g(c,!0),0===c.strm.avail_out?3:4):c.last_lit&&(g(c,!1),0===c.strm.avail_out)?1:2}function v(c,b){for(var d;;){if(0===c.lookahead&&(C(c),0===c.lookahead)){if(0===b)return 1;break}c.match_length=0;d=W._tr_tally(c,0,c.window[c.strstart]);
c.lookahead--;c.strstart++;if(d&&(g(c,!1),0===c.strm.avail_out))return 1}c.insert=0;return 4===b?(g(c,!0),0===c.strm.avail_out?3:4):c.last_lit&&(g(c,!1),0===c.strm.avail_out)?1:2}function L(c,b,d,e,f){this.good_length=c;this.max_lazy=b;this.nice_length=d;this.max_chain=e;this.func=f}function H(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=
this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new E.Buf16(1146);this.dyn_dtree=new E.Buf16(122);this.bl_tree=new E.Buf16(78);e(this.dyn_ltree);e(this.dyn_dtree);
e(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new E.Buf16(16);this.heap=new E.Buf16(573);e(this.heap);this.heap_max=this.heap_len=0;this.depth=new E.Buf16(573);e(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function z(c){if(!c||!c.state)return f(c,-2);c.total_in=c.total_out=0;c.data_type=2;var b=c.state;b.pending=0;b.pending_out=0;0>b.wrap&&(b.wrap=-b.wrap);b.status=b.wrap?
42:113;c.adler=2===b.wrap?0:1;b.last_flush=0;W._tr_init(b);return 0}function B(c){var b=z(c);0===b&&(c=c.state,c.window_size=2*c.w_size,e(c.head),c.max_lazy_match=N[c.level].max_lazy,c.good_match=N[c.level].good_length,c.nice_match=N[c.level].nice_length,c.max_chain_length=N[c.level].max_chain,c.strstart=0,c.block_start=0,c.lookahead=0,c.insert=0,c.match_length=c.prev_length=2,c.match_available=0,c.ins_h=0);return b}function w(c,b,d,e,a,g){if(!c)return-2;var m=1;-1===b&&(b=6);0>e?(m=0,e=-e):15<e&&
(m=2,e-=16);if(1>a||9<a||8!==d||8>e||15<e||0>b||9<b||0>g||4<g)return f(c,-2);8===e&&(e=9);var l=new H;c.state=l;l.strm=c;l.wrap=m;l.gzhead=null;l.w_bits=e;l.w_size=1<<l.w_bits;l.w_mask=l.w_size-1;l.hash_bits=a+7;l.hash_size=1<<l.hash_bits;l.hash_mask=l.hash_size-1;l.hash_shift=~~((l.hash_bits+3-1)/3);l.window=new E.Buf8(2*l.w_size);l.head=new E.Buf16(l.hash_size);l.prev=new E.Buf16(l.w_size);l.lit_bufsize=1<<a+6;l.pending_buf_size=4*l.lit_bufsize;l.pending_buf=new E.Buf8(l.pending_buf_size);l.d_buf=
1*l.lit_bufsize;l.l_buf=3*l.lit_bufsize;l.level=b;l.strategy=g;l.method=d;return B(c)}var E=a("../utils/common"),W=a("./trees"),Q=a("./adler32"),k=a("./crc32"),A=a("./messages");var N=[new L(0,0,0,0,function(c,b){var d=65535;for(d>c.pending_buf_size-5&&(d=c.pending_buf_size-5);;){if(1>=c.lookahead){C(c);if(0===c.lookahead&&0===b)return 1;if(0===c.lookahead)break}c.strstart+=c.lookahead;c.lookahead=0;var e=c.block_start+d;if(0===c.strstart||c.strstart>=e)if(c.lookahead=c.strstart-e,c.strstart=e,g(c,
!1),0===c.strm.avail_out)return 1;if(c.strstart-c.block_start>=c.w_size-262&&(g(c,!1),0===c.strm.avail_out))return 1}c.insert=0;if(4===b)return g(c,!0),0===c.strm.avail_out?3:4;c.strstart>c.block_start&&g(c,!1);return 1}),new L(4,4,8,4,q),new L(4,5,16,8,q),new L(4,6,32,32,q),new L(4,4,16,16,u),new L(8,16,32,32,u),new L(8,16,128,128,u),new L(8,32,128,256,u),new L(32,128,258,1024,u),new L(32,258,258,4096,u)];h.deflateInit=function(c,b){return w(c,b,8,15,8,0)};h.deflateInit2=w;h.deflateReset=B;h.deflateResetKeep=
z;h.deflateSetHeader=function(c,b){if(!c||!c.state||2!==c.state.wrap)return-2;c.state.gzhead=b;return 0};h.deflate=function(c,a){if(!c||!c.state||5<a||0>a)return c?f(c,-2):-2;var m=c.state;if(!c.output||!c.input&&0!==c.avail_in||666===m.status&&4!==a)return f(c,0===c.avail_out?-5:-2);m.strm=c;var l=m.last_flush;m.last_flush=a;if(42===m.status)if(2===m.wrap)c.adler=0,b(m,31),b(m,139),b(m,8),m.gzhead?(b(m,(m.gzhead.text?1:0)+(m.gzhead.hcrc?2:0)+(m.gzhead.extra?4:0)+(m.gzhead.name?8:0)+(m.gzhead.comment?
16:0)),b(m,m.gzhead.time&255),b(m,m.gzhead.time>>8&255),b(m,m.gzhead.time>>16&255),b(m,m.gzhead.time>>24&255),b(m,9===m.level?2:2<=m.strategy||2>m.level?4:0),b(m,m.gzhead.os&255),m.gzhead.extra&&m.gzhead.extra.length&&(b(m,m.gzhead.extra.length&255),b(m,m.gzhead.extra.length>>8&255)),m.gzhead.hcrc&&(c.adler=k(c.adler,m.pending_buf,m.pending,0)),m.gzindex=0,m.status=69):(b(m,0),b(m,0),b(m,0),b(m,0),b(m,0),b(m,9===m.level?2:2<=m.strategy||2>m.level?4:0),b(m,3),m.status=113);else{var g=8+(m.w_bits-8<<
4)<<8;g|=(2<=m.strategy||2>m.level?0:6>m.level?1:6===m.level?2:3)<<6;0!==m.strstart&&(g|=32);m.status=113;y(m,g+(31-g%31));0!==m.strstart&&(y(m,c.adler>>>16),y(m,c.adler&65535));c.adler=1}if(69===m.status)if(m.gzhead.extra){for(g=m.pending;m.gzindex<(m.gzhead.extra.length&65535)&&(m.pending!==m.pending_buf_size||(m.gzhead.hcrc&&m.pending>g&&(c.adler=k(c.adler,m.pending_buf,m.pending-g,g)),d(c),g=m.pending,m.pending!==m.pending_buf_size));)b(m,m.gzhead.extra[m.gzindex]&255),m.gzindex++;m.gzhead.hcrc&&
m.pending>g&&(c.adler=k(c.adler,m.pending_buf,m.pending-g,g));m.gzindex===m.gzhead.extra.length&&(m.gzindex=0,m.status=73)}else m.status=73;if(73===m.status)if(m.gzhead.name){g=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>g&&(c.adler=k(c.adler,m.pending_buf,m.pending-g,g)),d(c),g=m.pending,m.pending===m.pending_buf_size)){var w=1;break}w=m.gzindex<m.gzhead.name.length?m.gzhead.name.charCodeAt(m.gzindex++)&255:0;b(m,w)}while(0!==w);m.gzhead.hcrc&&m.pending>g&&(c.adler=
k(c.adler,m.pending_buf,m.pending-g,g));0===w&&(m.gzindex=0,m.status=91)}else m.status=91;if(91===m.status)if(m.gzhead.comment){g=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>g&&(c.adler=k(c.adler,m.pending_buf,m.pending-g,g)),d(c),g=m.pending,m.pending===m.pending_buf_size)){w=1;break}w=m.gzindex<m.gzhead.comment.length?m.gzhead.comment.charCodeAt(m.gzindex++)&255:0;b(m,w)}while(0!==w);m.gzhead.hcrc&&m.pending>g&&(c.adler=k(c.adler,m.pending_buf,m.pending-g,g));0===w&&
(m.status=103)}else m.status=103;103===m.status&&(m.gzhead.hcrc?(m.pending+2>m.pending_buf_size&&d(c),m.pending+2<=m.pending_buf_size&&(b(m,c.adler&255),b(m,c.adler>>8&255),c.adler=0,m.status=113)):m.status=113);if(0!==m.pending){if(d(c),0===c.avail_out)return m.last_flush=-1,0}else if(0===c.avail_in&&(a<<1)-(4<a?9:0)<=(l<<1)-(4<l?9:0)&&4!==a)return f(c,-5);if(666===m.status&&0!==c.avail_in)return f(c,-5);if(0!==c.avail_in||0!==m.lookahead||0!==a&&666!==m.status){l=2===m.strategy?v(m,a):3===m.strategy?
p(m,a):N[m.level].func(m,a);if(3===l||4===l)m.status=666;if(1===l||3===l)return 0===c.avail_out&&(m.last_flush=-1),0;if(2===l&&(1===a?W._tr_align(m):5!==a&&(W._tr_stored_block(m,0,0,!1),3===a&&(e(m.head),0===m.lookahead&&(m.strstart=0,m.block_start=0,m.insert=0))),d(c),0===c.avail_out))return m.last_flush=-1,0}if(4!==a)return 0;if(0>=m.wrap)return 1;2===m.wrap?(b(m,c.adler&255),b(m,c.adler>>8&255),b(m,c.adler>>16&255),b(m,c.adler>>24&255),b(m,c.total_in&255),b(m,c.total_in>>8&255),b(m,c.total_in>>
16&255),b(m,c.total_in>>24&255)):(y(m,c.adler>>>16),y(m,c.adler&65535));d(c);0<m.wrap&&(m.wrap=-m.wrap);return 0!==m.pending?0:1};h.deflateEnd=function(c){if(!c||!c.state)return-2;var b=c.state.status;if(42!==b&&69!==b&&73!==b&&91!==b&&103!==b&&113!==b&&666!==b)return f(c,-2);c.state=null;return 113===b?f(c,-3):0};h.deflateSetDictionary=function(c,b){var d=b.length;if(!c||!c.state)return-2;var a=c.state;var f=a.wrap;if(2===f||1===f&&42!==a.status||a.lookahead)return-2;1===f&&(c.adler=Q(c.adler,b,
d,0));a.wrap=0;if(d>=a.w_size){0===f&&(e(a.head),a.strstart=0,a.block_start=0,a.insert=0);var g=new E.Buf8(a.w_size);E.arraySet(g,b,d-a.w_size,a.w_size,0);b=g;d=a.w_size}g=c.avail_in;var l=c.next_in;var w=c.input;c.avail_in=d;c.next_in=0;c.input=b;for(C(a);3<=a.lookahead;){b=a.strstart;d=a.lookahead-2;do a.ins_h=(a.ins_h<<a.hash_shift^a.window[b+3-1])&a.hash_mask,a.prev[b&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=b,b++;while(--d);a.strstart=b;a.lookahead=2;C(a)}a.strstart+=a.lookahead;a.block_start=
a.strstart;a.insert=a.lookahead;a.lookahead=0;a.match_length=a.prev_length=2;a.match_available=0;c.next_in=l;c.input=w;c.avail_in=g;a.wrap=f;return 0};h.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(a,n,h){n.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],10:[function(a,n,h){n.exports=function(a,e){var d=
a.state;var g=a.next_in;var b=a.input;var f=g+(a.avail_in-5);var l=a.next_out;var h=a.output;e=l-(e-a.avail_out);var n=l+(a.avail_out-257);var q=d.dmax;var p=d.wsize;var v=d.whave;var L=d.wnext;var u=d.window;var z=d.hold;var B=d.bits;var w=d.lencode;var E=d.distcode;var H=(1<<d.lenbits)-1;var k=(1<<d.distbits)-1;a:do{15>B&&(z+=b[g++]<<B,B+=8,z+=b[g++]<<B,B+=8);var K=w[z&H];b:for(;;){var A=K>>>24;z>>>=A;B-=A;A=K>>>16&255;if(0===A)h[l++]=K&65535;else if(A&16){var N=K&65535;if(A&=15)B<A&&(z+=b[g++]<<
B,B+=8),N+=z&(1<<A)-1,z>>>=A,B-=A;15>B&&(z+=b[g++]<<B,B+=8,z+=b[g++]<<B,B+=8);K=E[z&k];c:for(;;){A=K>>>24;z>>>=A;B-=A;A=K>>>16&255;if(A&16){K&=65535;A&=15;B<A&&(z+=b[g++]<<B,B+=8,B<A&&(z+=b[g++]<<B,B+=8));K+=z&(1<<A)-1;if(K>q){a.msg="invalid distance too far back";d.mode=30;break a}z>>>=A;B-=A;A=l-e;if(K>A){A=K-A;if(A>v&&d.sane){a.msg="invalid distance too far back";d.mode=30;break a}var c=0;var G=u;if(0===L){if(c+=p-A,A<N){N-=A;do h[l++]=u[c++];while(--A);c=l-K;G=h}}else if(L<A){if(c+=p+L-A,A-=L,
A<N){N-=A;do h[l++]=u[c++];while(--A);c=0;if(L<N){A=L;N-=A;do h[l++]=u[c++];while(--A);c=l-K;G=h}}}else if(c+=L-A,A<N){N-=A;do h[l++]=u[c++];while(--A);c=l-K;G=h}for(;2<N;)h[l++]=G[c++],h[l++]=G[c++],h[l++]=G[c++],N-=3;N&&(h[l++]=G[c++],1<N&&(h[l++]=G[c++]))}else{c=l-K;do h[l++]=h[c++],h[l++]=h[c++],h[l++]=h[c++],N-=3;while(2<N);N&&(h[l++]=h[c++],1<N&&(h[l++]=h[c++]))}}else if(0===(A&64)){K=E[(K&65535)+(z&(1<<A)-1)];continue c}else{a.msg="invalid distance code";d.mode=30;break a}break}}else if(0===
(A&64)){K=w[(K&65535)+(z&(1<<A)-1)];continue b}else{A&32?d.mode=12:(a.msg="invalid literal/length code",d.mode=30);break a}break}}while(g<f&&l<n);N=B>>3;g-=N;B-=N<<3;a.next_in=g;a.next_out=l;a.avail_in=g<f?5+(f-g):5-(g-f);a.avail_out=l<n?257+(n-l):257-(l-n);d.hold=z&(1<<B)-1;d.bits=B}},{}],11:[function(a,n,h){a("../utils/common");a("./adler32");a("./crc32");a("./inffast");a("./inftrees")},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(a,n,h){var f=a("../utils/common"),
e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(a,l,h,n,u,p,v,L){var y=L.bits,z,B,w,E,C,q,H=0,A=new f.Buf16(16);var k=new f.Buf16(16);
var c,G=0;for(z=0;15>=z;z++)A[z]=0;for(B=0;B<n;B++)A[l[h+B]]++;var m=y;for(w=15;1<=w&&0===A[w];w--);m>w&&(m=w);if(0===w)return u[p++]=20971520,u[p++]=20971520,L.bits=1,0;for(y=1;y<w&&0===A[y];y++);m<y&&(m=y);for(z=E=1;15>=z;z++)if(E<<=1,E-=A[z],0>E)return-1;if(0<E&&(0===a||1!==w))return-1;k[1]=0;for(z=1;15>z;z++)k[z+1]=k[z]+A[z];for(B=0;B<n;B++)0!==l[h+B]&&(v[k[l[h+B]]++]=B);if(0===a){var X=c=v;var O=19}else 1===a?(X=e,H-=257,c=d,G-=257,O=256):(X=g,c=b,O=-1);B=C=0;z=y;var r=p;n=m;k=0;var x=-1;var t=
1<<m;var D=t-1;if(1===a&&852<t||2===a&&592<t)return 1;for(;;){var F=z-k;if(v[B]<O){var fa=0;var ra=v[B]}else v[B]>O?(fa=c[G+v[B]],ra=X[H+v[B]]):(fa=96,ra=0);E=1<<z-k;y=q=1<<n;do q-=E,u[r+(C>>k)+q]=F<<24|fa<<16|ra|0;while(0!==q);for(E=1<<z-1;C&E;)E>>=1;0!==E?(C&=E-1,C+=E):C=0;B++;if(0===--A[z]){if(z===w)break;z=l[h+v[B]]}if(z>m&&(C&D)!==x){0===k&&(k=m);r+=y;n=z-k;for(E=1<<n;n+k<w;){E-=A[n+k];if(0>=E)break;n++;E<<=1}t+=1<<n;if(1===a&&852<t||2===a&&592<t)return 1;x=C&D;u[x]=m<<24|n<<16|r-p|0}}0!==C&&
(u[r+C]=z-k<<24|4194304);L.bits=m;return 0}},{"../utils/common":3}],13:[function(a,n,h){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(a,n,h){function f(c){for(var b=c.length;0<=--b;)c[b]=0}function e(c,b,d,a,e){this.static_tree=c;this.extra_bits=b;this.extra_base=d;this.elems=a;this.max_length=e;this.has_stree=c&&c.length}function d(c,b){this.dyn_tree=
c;this.max_code=0;this.stat_desc=b}function g(c,b){c.pending_buf[c.pending++]=b&255;c.pending_buf[c.pending++]=b>>>8&255}function b(c,b,d){c.bi_valid>16-d?(c.bi_buf|=b<<c.bi_valid&65535,g(c,c.bi_buf),c.bi_buf=b>>16-c.bi_valid,c.bi_valid+=d-16):(c.bi_buf|=b<<c.bi_valid&65535,c.bi_valid+=d)}function y(c,d,a){b(c,a[2*d],a[2*d+1])}function l(c,b){var d=0;do d|=c&1,c>>>=1,d<<=1;while(0<--b);return d>>>1}function C(c,b,d){var a=Array(16),e=0,f;for(f=1;15>=f;f++)a[f]=e=e+d[f-1]<<1;for(d=0;d<=b;d++)e=c[2*
d+1],0!==e&&(c[2*d]=l(a[e]++,e))}function u(c){var b;for(b=0;286>b;b++)c.dyn_ltree[2*b]=0;for(b=0;30>b;b++)c.dyn_dtree[2*b]=0;for(b=0;19>b;b++)c.bl_tree[2*b]=0;c.dyn_ltree[512]=1;c.opt_len=c.static_len=0;c.last_lit=c.matches=0}function k(c){8<c.bi_valid?g(c,c.bi_buf):0<c.bi_valid&&(c.pending_buf[c.pending++]=c.bi_buf);c.bi_buf=0;c.bi_valid=0}function p(c,b,d,e){var a=2*b,f=2*d;return c[a]<c[f]||c[a]===c[f]&&e[b]<=e[d]}function v(c,b,d){for(var e=c.heap[d],a=d<<1;a<=c.heap_len;){a<c.heap_len&&p(b,
c.heap[a+1],c.heap[a],c.depth)&&a++;if(p(b,e,c.heap[a],c.depth))break;c.heap[d]=c.heap[a];d=a;a<<=1}c.heap[d]=e}function L(c,d,a){var e=0;if(0!==c.last_lit){do{var f=c.pending_buf[c.d_buf+2*e]<<8|c.pending_buf[c.d_buf+2*e+1];var g=c.pending_buf[c.l_buf+e];e++;if(0===f)y(c,g,d);else{var l=Y[g];y(c,l+256+1,d);var w=Q[l];0!==w&&(g-=r[l],b(c,g,w));f--;l=256>f?m[f]:m[256+(f>>>7)];y(c,l,a);w=K[l];0!==w&&(f-=t[l],b(c,f,w))}}while(e<c.last_lit)}y(c,256,d)}function q(c,b){var d=b.dyn_tree,a=b.stat_desc.static_tree,
e=b.stat_desc.has_stree,f=b.stat_desc.elems,g,l=-1;c.heap_len=0;c.heap_max=573;for(g=0;g<f;g++)0!==d[2*g]?(c.heap[++c.heap_len]=l=g,c.depth[g]=0):d[2*g+1]=0;for(;2>c.heap_len;){var m=c.heap[++c.heap_len]=2>l?++l:0;d[2*m]=1;c.depth[m]=0;c.opt_len--;e&&(c.static_len-=a[2*m+1])}b.max_code=l;for(g=c.heap_len>>1;1<=g;g--)v(c,d,g);m=f;do g=c.heap[1],c.heap[1]=c.heap[c.heap_len--],v(c,d,1),a=c.heap[1],c.heap[--c.heap_max]=g,c.heap[--c.heap_max]=a,d[2*m]=d[2*g]+d[2*a],c.depth[m]=(c.depth[g]>=c.depth[a]?c.depth[g]:
c.depth[a])+1,d[2*g+1]=d[2*a+1]=m,c.heap[1]=m++,v(c,d,1);while(2<=c.heap_len);c.heap[--c.heap_max]=c.heap[1];g=b.dyn_tree;m=b.max_code;var a=b.stat_desc.static_tree,e=b.stat_desc.has_stree,f=b.stat_desc.extra_bits,w=b.stat_desc.extra_base,h=b.stat_desc.max_length,p,y=0;for(p=0;15>=p;p++)c.bl_count[p]=0;g[2*c.heap[c.heap_max]+1]=0;for(b=c.heap_max+1;573>b;b++){var z=c.heap[b];p=g[2*g[2*z+1]+1]+1;p>h&&(p=h,y++);g[2*z+1]=p;if(!(z>m)){c.bl_count[p]++;var G=0;z>=w&&(G=f[z-w]);var aa=g[2*z];c.opt_len+=
aa*(p+G);e&&(c.static_len+=aa*(a[2*z+1]+G))}}if(0!==y){do{for(p=h-1;0===c.bl_count[p];)p--;c.bl_count[p]--;c.bl_count[p+1]+=2;c.bl_count[h]--;y-=2}while(0<y);for(p=h;0!==p;p--)for(z=c.bl_count[p];0!==z;)a=c.heap[--b],a>m||(g[2*a+1]!==p&&(c.opt_len+=(p-g[2*a+1])*g[2*a],g[2*a+1]=p),z--)}C(d,l,c.bl_count)}function z(c,b,d){var a,e=-1,g=b[1],f=0,m=7,l=4;0===g&&(m=138,l=3);b[2*(d+1)+1]=65535;for(a=0;a<=d;a++){var w=g;g=b[2*(a+1)+1];++f<m&&w===g||(f<l?c.bl_tree[2*w]+=f:0!==w?(w!==e&&c.bl_tree[2*w]++,c.bl_tree[32]++):
10>=f?c.bl_tree[34]++:c.bl_tree[36]++,f=0,e=w,0===g?(m=138,l=3):w===g?(m=6,l=3):(m=7,l=4))}}function B(c,d,a){var e,g=-1,f=d[1],m=0,l=7,w=4;0===f&&(l=138,w=3);for(e=0;e<=a;e++){var p=f;f=d[2*(e+1)+1];if(!(++m<l&&p===f)){if(m<w){do y(c,p,c.bl_tree);while(0!==--m)}else 0!==p?(p!==g&&(y(c,p,c.bl_tree),m--),y(c,16,c.bl_tree),b(c,m-3,2)):10>=m?(y(c,17,c.bl_tree),b(c,m-3,3)):(y(c,18,c.bl_tree),b(c,m-11,7));m=0;g=p;0===f?(l=138,w=3):p===f?(l=6,w=3):(l=7,w=4)}}}function w(c){var b=4093624447,d;for(d=0;31>=
d;d++,b>>>=1)if(b&1&&0!==c.dyn_ltree[2*d])return 0;if(0!==c.dyn_ltree[18]||0!==c.dyn_ltree[20]||0!==c.dyn_ltree[26])return 1;for(d=32;256>d;d++)if(0!==c.dyn_ltree[2*d])return 1;return 0}function E(c,d,a,e){b(c,0+(e?1:0),3);k(c);g(c,a);g(c,~a);H.arraySet(c.pending_buf,c.window,d,a,c.pending);c.pending+=a}var H=a("../utils/common"),Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],K=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=Array(576);f(c);var G=Array(60);f(G);var m=Array(512);f(m);var Y=Array(256);f(Y);var r=Array(29);f(r);var t=Array(30);f(t);var x,D,F,J=!1;h._tr_init=function(b){if(!J){var a,g,f,w=Array(16);for(f=g=0;28>f;f++)for(r[f]=g,a=0;a<1<<Q[f];a++)Y[g++]=f;Y[g-1]=f;for(f=g=0;16>f;f++)for(t[f]=g,a=0;a<1<<K[f];a++)m[g++]=f;for(g>>=7;30>f;f++)for(t[f]=g<<7,a=0;a<1<<K[f]-7;a++)m[256+g++]=f;for(a=0;15>=a;a++)w[a]=0;for(a=0;143>=a;)c[2*a+1]=8,a++,w[8]++;
for(;255>=a;)c[2*a+1]=9,a++,w[9]++;for(;279>=a;)c[2*a+1]=7,a++,w[7]++;for(;287>=a;)c[2*a+1]=8,a++,w[8]++;C(c,287,w);for(a=0;30>a;a++)G[2*a+1]=5,G[2*a]=l(a,5);x=new e(c,Q,257,286,15);D=new e(G,K,0,30,15);F=new e([],A,0,19,7);J=!0}b.l_desc=new d(b.dyn_ltree,x);b.d_desc=new d(b.dyn_dtree,D);b.bl_desc=new d(b.bl_tree,F);b.bi_buf=0;b.bi_valid=0;u(b)};h._tr_stored_block=E;h._tr_flush_block=function(d,a,e,f){var g=0;if(0<d.level){2===d.strm.data_type&&(d.strm.data_type=w(d));q(d,d.l_desc);q(d,d.d_desc);
z(d,d.dyn_ltree,d.l_desc.max_code);z(d,d.dyn_dtree,d.d_desc.max_code);q(d,d.bl_desc);for(g=18;3<=g&&0===d.bl_tree[2*N[g]+1];g--);d.opt_len+=3*(g+1)+14;var m=d.opt_len+3+7>>>3;var l=d.static_len+3+7>>>3;l<=m&&(m=l)}else m=l=e+5;if(e+4<=m&&-1!==a)E(d,a,e,f);else if(4===d.strategy||l===m)b(d,2+(f?1:0),3),L(d,c,G);else{b(d,4+(f?1:0),3);a=d.l_desc.max_code+1;e=d.d_desc.max_code+1;g+=1;b(d,a-257,5);b(d,e-1,5);b(d,g-4,4);for(m=0;m<g;m++)b(d,d.bl_tree[2*N[m]+1],3);B(d,d.dyn_ltree,a-1);B(d,d.dyn_dtree,e-1);
L(d,d.dyn_ltree,d.dyn_dtree)}u(d);f&&k(d)};h._tr_tally=function(c,b,d){c.pending_buf[c.d_buf+2*c.last_lit]=b>>>8&255;c.pending_buf[c.d_buf+2*c.last_lit+1]=b&255;c.pending_buf[c.l_buf+c.last_lit]=d&255;c.last_lit++;0===b?c.dyn_ltree[2*d]++:(c.matches++,b--,c.dyn_ltree[2*(Y[d]+256+1)]++,c.dyn_dtree[2*(256>b?m[b]:m[256+(b>>>7)])]++);return c.last_lit===c.lit_bufsize-1};h._tr_align=function(d){b(d,2,3);y(d,256,c);16===d.bi_valid?(g(d,d.bi_buf),d.bi_buf=0,d.bi_valid=0):8<=d.bi_valid&&(d.pending_buf[d.pending++]=
d.bi_buf&255,d.bi_buf>>=8,d.bi_valid-=8)}},{"../utils/common":3}],15:[function(a,n,h){n.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],"/":[function(a,n,h){n=a("./lib/utils/common").assign;h=a("./lib/deflate");a=a("./lib/zlib/constants");u.pako={};n(u.pako,h,a)},{"./lib/deflate":1,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});
a.compress=u.pako.deflate})(I);(function(a){a.crypt=function(a,k){for(var n=new Uint8Array(k),h=new ArrayBuffer(k.byteLength),h=new Uint8Array(h),f=0;f<k.byteLength;f++)h[f]=n[f]^a.charCodeAt(f%a.length);return h.buffer}})({});var F={};(function(a){a.onDomLoaded=function(a){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)a();else{var k=!1;document.addEventListener("DOMContentLoaded",function(){k||(k=!0,a())},!1);window.addEventListener("load",
function(){k||(k=!0,a())})}};a.onScroll=function(a){window.addEventListener("scroll",function(k){a()})};a.onBlur=function(a){window.addEventListener("blur",function(k){a()})};a.onFocus=function(a){window.addEventListener("focus",function(k){a()})}})(F);(function(a){a.encode=function(a){a=new Uint8Array(a);for(var k="",n=0;n<a.length;n++)k+=String.fromCharCode(a[n]);return btoa(k)};a.decode=function(a){a=atob(a);for(var k=new Uint8Array(a.length),n=0;n<a.length;n++)k[n]=a.charCodeAt(n);return k.buffer}})({});
var P={};(function(a){a.sum32a=function(a){a=new Uint8Array(a);for(var k=2166136261,n=0;n<a.byteLength;++n)k^=a[n],k+=(k<<1)+(k<<4)+(k<<7)+(k<<8)+(k<<24);return k>>>0}})(P);var r={};(function(a){var k=!1,q=!1;try{q=0<=window.location.href.indexOf("bt_debug=true")||"true"===window.localStorage.bt_debug}catch(w){q=!1}var n={0:"DFT",1:"DBG",2:"INF",3:"NTC",4:"WRN",5:"ERR",6:"CRT",7:"ALR",8:"EMR"},h={0:"#F5F5F5",1:"#BBDEFB",2:"#B3E5FC",3:"#DCEDC8",4:"#FFE0B2",5:"#FFCCBC",6:"#E57373",7:"#F06292",8:"#BA68C8"},
f="#B71C1C #880E4F #4A148C #311B92 #1A237E #0D47A1 #01579B #006064 #004D40 #1B5E20 #33691E #827717 #F57F17 #FF6F00 #E65100 #BF360C #3E2723 #37474F".split(" "),e=function(b){b=b?b.id||null:null;if(!b)return"#000000";for(var a=2166136261,d=0;d<b.length;++d)a^=b.charCodeAt(d),a+=(a<<1)+(a<<4)+(a<<7)+(a<<8)+(a<<24);return f[(a>>>0)%f.length]},d=(new Date).getTime(),g=function(){return(new Date).getTime()-d},b=function(){this.tag="Blockthrough";this.prefix="";this.level=0;this.filters=[]};b.prototype.setPrefix=
function(b){this.prefix=b};b.prototype.setLevel=function(b){this.level="number"!==typeof b||0>b||8<b?0:b};b.prototype.setFilter=function(b){for(var a=[],d=0;d<arguments.length;d++){if(!(arguments[d]instanceof RegExp))throw new TypeError;a[d]=arguments[d]}this.filters=a};b.prototype.log=function(b,a,d,f){if(q){if(3>arguments.length)throw new TypeError;if("number"!==typeof b||0>b||8<b)throw new TypeError;if("object"!==typeof a)throw new TypeError;if("string"!==typeof d)throw new TypeError;if(!(b<this.level)||
k){for(var l=0;l<this.filters.length;l++)if(null!==d.match(this.filters[l]))return;var l=g(),p=a?a.id||null:null;var w=""+("%c["+this.tag+" - "+n[b]+"]%c");w+="%c[%s]%c ";p&&(w+="%c["+p+"]%c ");this.prefix&&(w+=this.prefix);var c=[];c.push(w+d);c.push("color: #000000; background-color: "+h[b]);c.push("background-color: inherit");c.push("color: #757575;");c.push(1E3>l?Math.round(l).toString()+"ms":(l/1E3).toFixed(2)+"s");c.push("background-color: inherit");p&&(c.push("color: "+e(a)),c.push("color: inherit"));
c=c.concat(Array.prototype.slice.call(arguments,3));console.info.apply(console,c)}}};b.prototype.debugf=function(b,a,d){this.log.apply(this,[1].concat(Array.prototype.slice.call(arguments)))};b.prototype.infof=function(b,a,d){this.log.apply(this,[2].concat(Array.prototype.slice.call(arguments)))};b.prototype.noticef=function(b,a,d){this.log.apply(this,[3].concat(Array.prototype.slice.call(arguments)))};b.prototype.warningf=function(b,a,d){this.log.apply(this,[4].concat(Array.prototype.slice.call(arguments)))};
b.prototype.errorf=function(b,a,d){this.log.apply(this,[5].concat(Array.prototype.slice.call(arguments)))};b.prototype.criticalf=function(b,a,d){this.log.apply(this,[6].concat(Array.prototype.slice.call(arguments)))};b.prototype.alertf=function(b,a,d){this.log.apply(this,[7].concat(Array.prototype.slice.call(arguments)))};b.prototype.emergencyf=function(b,a,d){this.log.apply(this,[8].concat(Array.prototype.slice.call(arguments)))};var y=new b,l=y.setPrefix.bind(y),C=y.setLevel.bind(y),O=y.setFilter.bind(y),
X=y.debugf.bind(y),p=y.infof.bind(y),v=y.noticef.bind(y),L=y.warningf.bind(y),ca=y.errorf.bind(y),z=y.criticalf.bind(y),B=y.alertf.bind(y),y=y.emergencyf.bind(y);a.DEFAULT=0;a.DEBUG=1;a.INFO=2;a.NOTICE=3;a.WARNING=4;a.ERROR=5;a.CRITICAL=6;a.ALERT=7;a.EMERGENCY=8;a.new=function(){return new b};a.newContext=function(b,a){var d={},e;for(e in b)b.hasOwnProperty(e)&&(d[e]=b[e]);d.id=a;return d};a.timestamp=g;a.debugf=X;a.infof=p;a.noticef=v;a.warningf=L;a.errorf=ca;a.criticalf=z;a.alertf=B;a.emergencyf=
y;a.setPrefix=l;a.setLevel=C;a.setFilter=O;a.setVerbose=function(b){k=b};a.setOutputEnabled=function(b){q=b}})(r);var M={};(function(a){var k=new function(){this.events={};this.addEventListener=function(a,h){this.events.hasOwnProperty(a)?this.events[a].push(h):this.events[a]=[h]};this.removeEventListener=function(a,h){this.events.hasOwnProperty(a)&&(h=this.events[a].indexOf(h),-1!=h&&this.events[a].splice(h,1))};this.fireEvent=function(a,h,f,e){if(this.events.hasOwnProperty(a)){h=new q(a,h);a=this.events[a];
e=a.length;for(var d=0;d<e;d++){try{var g=a[d].call(f,h)}catch(b){}if(void 0!=g)return g;if(h.shouldStop)break}}}},q=function(a,h){this.name=a;this.data=h;this.shouldStop=!1};a.CustomEvents=k})(M);(function(a){var k=function(a,n,h,f){n=Error(n,h,f);n.type=a;Object.setPrototypeOf(n,Object.getPrototypeOf(this));Error.captureStackTrace&&Error.captureStackTrace(n,k);return n};k.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf?
Object.setPrototypeOf(k,Error):k.__proto__=Error;a.CustomError=k})({});var k={};(function(a){a.consts={selectorPosition:{APPEND_CHILD:0,INSERT_BEFORE:1},complianceStatus:{UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},acceptableStandardScreenSize:{width:1366,height:768},headerBiddingType:{prebid:1},refreshType:{UNKNOWN:0,ALL:1,VISIBLE:2,HIDDEN:3}};a.cpbjs=void 0;a.upoSettings={acceptableURLParam:"upapi=true",timeout:3E3,refreshTimeout:3E3,whitelistedFrameSettings:{url:"//mrb.upapi.net/safeFrame.html?upapi=true",
laterSrcModification:void 0,isOurOriginSafeFrame:!0},minTimeBetweenRefreshes:3E4};var k=new function(){this.data={};this.setItem=function(a,k){this.data[a]=k};this.getItem=function(a){return this.data[a]};this.removeItem=function(a){delete this.data[a]};this.clearSharedObject=function(){this.data={}}};a.SharedObject=k;a.uGoogletag=void 0;a.whitelistedFrame=void 0})(k);var a={};(function(a){var k=function(a,e,d){for(var g=[],b=0;b<a.length;b++)e.call(d,a[b],b,a)&&g.push(a[b]);return g},q=function(a){return"[object Array]"===
Object.prototype.toString.call(a)};a.map=function(a,e){for(var d=[],g=0;g<a.length;g++)d.push(e(a[g],g,a));return d};a.filter=k;a.forEach=function(a,e){if(a)for(var d=0;d<a.length;d++)e(a[d],d,a)};a.find=function(a,e){for(var d=0;d<a.length;d++){var g=a[d];if(e(g,d,a))return g}};a.flat=function(a){for(var e=[],d=0;d<a.length;d++){var g=a[d];if(q(g))for(var b=0;b<g.length;b++)e.push(g[b]);else e.push(g)}return e};a.isArray=q;a.distict=function(a){return k(a,function(a,d,g){return g.indexOf(a)===d})};
a.reduce=function(a,e){if(null===a)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof e)throw new TypeError(e+" is not a function");var d=Object(a),g=d.length>>>0,b=0;if(3<=arguments.length)var f=arguments[2];else{for(;b<g&&!(b in d);)b++;if(b>=g)throw new TypeError("Reduce of empty array with no initial value");f=d[b++]}for(;b<g;)b in d&&(f=e(f,d[b],b,d)),b++;return f};a.CDefer=function(){this.fate="unresolved";this.state="pending";var a,e;this.promise=
new h(function(d,g){a=d;e=g});this.promise.then(function(a){this.state="fulfilled";return a},function(a){this.state="rejected";return a});this.resolve=function(d){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved";a(d)};this.reject=function(a){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved";e(a)};this.isResolved=function(){return"resolved"===this.fate};this.isPending=function(){return"pending"===this.state};this.isFulfilled=
function(){return"fulfilled"===this.state};this.isRejected=function(){return"rejected"===this.state}};var n=window.Promise,h=n&&"[object Promise]"==Object.prototype.toString.call(n.resolve())?window.Promise:function(){function a(c){return"function"===typeof c}function e(){return function(){return process.nextTick(l)}}function d(){return"undefined"!==typeof t?function(){t(l)}:h()}function g(){var c=0,a=new J(l),b=document.createTextNode("");a.observe(b,{characterData:!0});return function(){b.data=
c=++c%2}}function b(){var c=new MessageChannel;c.port1.onmessage=l;return function(){return c.port2.postMessage(0)}}function h(){var c=setTimeout;return function(){return c(l,1)}}function l(){for(var c=0;c<r;c+=2)(0,M[c])(M[c+1]),M[c]=void 0,M[c+1]=void 0;r=0}function k(){try{var c=Function("return this")().require("vertx");t=c.runOnLoop||c.runOnContext;return d()}catch(ma){return h()}}function n(c,a){var b=this,d=new this.constructor(p);void 0===d[P]&&G(d);var e=b._state;if(e){var g=arguments[e-
1];D(function(){return H(e,d,g,b._result)})}else K(b,d,c,a);return d}function X(c){if(c&&"object"===typeof c&&c.constructor===this)return c;var b=new this(p);w(b,c);return b}function p(){}function v(c){try{return c.then}catch(ma){return R.error=ma,R}}function L(c,b,a,d){try{c.call(b,a,d)}catch(aa){return aa}}function u(c,b,a){D(function(c){var d=!1,e=L(a,b,function(a){d||(d=!0,b!==a?w(c,a):q(c,a))},function(b){d||(d=!0,Q(c,b))},"Settle: "+(c._label||" unknown promise"));!d&&e&&(d=!0,Q(c,e))},c)}function z(c,
b){b._state===V?q(c,b._result):b._state===U?Q(c,b._result):K(b,void 0,function(b){return w(c,b)},function(b){return Q(c,b)})}function B(c,b,d){b.constructor===c.constructor&&d===n&&b.constructor.resolve===X?z(c,b):d===R?(Q(c,R.error),R.error=null):void 0===d?q(c,b):a(d)?u(c,b,d):q(c,b)}function w(c,b){if(c===b)Q(c,new TypeError("You cannot resolve a promise with itself"));else{var a=typeof b;null===b||"object"!==a&&"function"!==a?q(c,b):B(c,b,v(b))}}function E(c){c._onerror&&c._onerror(c._result);
A(c)}function q(c,b){c._state===S&&(c._result=b,c._state=V,0!==c._subscribers.length&&D(A,c))}function Q(c,b){c._state===S&&(c._state=U,c._result=b,D(E,c))}function K(c,b,a,d){var e=c._subscribers,g=e.length;c._onerror=null;e[g]=b;e[g+V]=a;e[g+U]=d;0===g&&c._state&&D(A,c)}function A(c){var b=c._subscribers,a=c._state;if(0!==b.length){for(var d,e,g=c._result,f=0;f<b.length;f+=3)d=b[f],e=b[f+a],d?H(a,d,e,g):e(g);c._subscribers.length=0}}function H(c,b,d,e){var g=a(d),f=void 0,m=void 0,l=void 0,p=void 0;
if(g){try{f=d(e)}catch(Ca){R.error=Ca,f=R}f===R?(p=!0,m=f.error,f.error=null):l=!0;if(b===f){Q(b,new TypeError("A promises callback cannot return that same promise."));return}}else f=e,l=!0;b._state===S&&(g&&l?w(b,f):p?Q(b,m):c===V?q(b,f):c===U&&Q(b,f))}function c(c,b){try{b(function(b){w(c,b)},function(b){Q(c,b)})}catch(sa){Q(c,sa)}}function G(c){c[P]=ka++;c._state=void 0;c._result=void 0;c._subscribers=[]}var m=void 0,Y=m=Array.isArray?Array.isArray:function(c){return"[object Array]"===Object.prototype.toString.call(c)},
r=0,t=void 0,x=void 0,D=function(c,b){M[r]=c;M[r+1]=b;r+=2;2===r&&(x?x(l):T())},F=(m="undefined"!==typeof window?window:void 0)||{},J=F.MutationObserver||F.WebKitMutationObserver,F="undefined"===typeof self&&"undefined"!==typeof process&&"[object process]"==={}.toString.call(process),I="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,M=Array(1E3),T=void 0,T=F?e():J?g():I?b():void 0===m&&"function"===typeof require?k():h(),P=Math.random().toString(36).substring(2),
S=void 0,V=1,U=2,R={error:null},ka=0,ba=function(){function c(c,b){this._instanceConstructor=c;this.promise=new c(p);this.promise[P]||G(this.promise);Y(b)?(this._remaining=this.length=b.length,this._result=Array(this.length),0===this.length?q(this.promise,this._result):(this.length=this.length||0,this._enumerate(b),0===this._remaining&&q(this.promise,this._result))):Q(this.promise,Error("Array Methods must be provided an Array"))}c.prototype._enumerate=function(c){for(var b=0;this._state===S&&b<c.length;b++)this._eachEntry(c[b],
b)};c.prototype._eachEntry=function(c,b){var a=this._instanceConstructor,d=a.resolve;d===X?(d=v(c),d===n&&c._state!==S?this._settledAt(c._state,b,c._result):"function"!==typeof d?(this._remaining--,this._result[b]=c):a===Z?(a=new a(p),B(a,c,d),this._willSettleAt(a,b)):this._willSettleAt(new a(function(b){return b(c)}),b)):this._willSettleAt(d(c),b)};c.prototype._settledAt=function(c,b,a){var d=this.promise;d._state===S&&(this._remaining--,c===U?Q(d,a):this._result[b]=a);0===this._remaining&&q(d,this._result)};
c.prototype._willSettleAt=function(c,b){var a=this;K(c,void 0,function(c){return a._settledAt(V,b,c)},function(c){return a._settledAt(U,b,c)})};return c}(),Z=function(){function b(a){this[P]=ka++;this._result=this._state=void 0;this._subscribers=[];if(p!==a){if("function"!==typeof a)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof b)c(this,a);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
}}b.prototype.catch=function(c){return this.then(null,c)};b.prototype.finally=function(c){var b=this.constructor;return a(c)?this.then(function(a){return b.resolve(c()).then(function(){return a})},function(a){return b.resolve(c()).then(function(){throw a;})}):this.then(c,c)};return b}();Z.prototype.then=n;Z.all=function(c){return(new ba(this,c)).promise};Z.race=function(c){var b=this;return Y(c)?new b(function(a,d){for(var e=c.length,g=0;g<e;g++)b.resolve(c[g]).then(a,d)}):new b(function(c,b){return b(new TypeError("You must pass an array to race."))})};
Z.resolve=X;Z.reject=function(c){var b=new this(p);Q(b,c);return b};Z._setScheduler=function(c){x=c};Z._setAsap=function(c){D=c};Z._asap=D;Z.polyfill=function(){var c=void 0;if("undefined"!==typeof global)c=global;else if("undefined"!==typeof self)c=self;else try{c=Function("return this")()}catch(ta){throw Error("polyfill failed because global object is unavailable in this environment");}var b=c.Promise;if(b){var a=null;try{a=Object.prototype.toString.call(b.resolve())}catch(ta){}if("[object Promise]"===
a&&!b.cast)return}c.Promise=Z};return Z.Promise=Z}();a.CPromise=h;a.addClass=function(a,e){if(e&&a){var d=e.className;-1==d.indexOf(a)&&(""!=d&&(a=" "+a),e.className=d+a)}};a.removeClass=function(a,e){if(e&&a){var d=e.className,d=d.replace(new RegExp("\\b"+a+"\\b","g"),"");e.className=d}};a.hasClass=function(a,e){if(a&&e)return-1<(" "+a.className+" ").indexOf(" "+e+" ")};a.objectAssign=function(a,e){if(null===a||void 0===a)throw new TypeError("Cannot convert undefined or null to object");for(var d=
Object(a),g=1;g<arguments.length;g++){var b=arguments[g];if(null!==b&&void 0!==b)for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&(d[f]=b[f])}return d}})(a);var U={};(function(a){var k=function(a,e,d){if(!a||"number"!==typeof e||"number"!==typeof d||0>=e||0>=d||e>d)throw new TypeError;e=Math.floor(Math.random()*(d+1-e))+e;d="";for(var g=0;g<e;g++)d+=a.charAt(Math.floor(Math.random()*a.length));return d},q=function(a,e){return k("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
a,e)},n=function(a,e){return k("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a,e)},h=function(a,e){return k("0123456789",a,e)};a.stringRange=q;a.string=function(a){return q(a,a)};a.lettersRange=n;a.letters=function(a){return n(a,a)};a.digitsRange=h;a.digits=function(a){return h(a,a)}})(U);var R={};(function(a){var k=r.new();k.setPrefix("utf8: ");a.encode=function(a){try{if(window.TextEncoder)return(new window.TextEncoder("utf-8")).encode(a).buffer}catch(f){k.debugf(null,"TextEncoder %o",
f)}a=unescape(encodeURIComponent(a));for(var n=new Uint8Array(a.length),h=0;h<a.length;h++)n[h]=a.charCodeAt(h);return n.buffer};a.decode=function(a){try{if(window.TextDecoder)return(new window.TextDecoder("utf-8")).decode(new Uint8Array(a))}catch(e){k.debugf(null,"TextDecoder %o",e)}var n="";a=new Uint8Array(a);for(var h=a.byteLength,f=0;f<h;f++)n+=String.fromCharCode(a[f]);return decodeURIComponent(escape(n))}})(R);var t={};(function(a){var k=M.CustomEvents,q=new function(){this.Types={XHR_OPEN_PRE:"xhropenpre",
FETCH_PRE:"fetchpre",REMOVE_CHILD_PRE:"removechildpre",INSERT_BEFORE_PRE:"insertbeforepre",APPEND_CHILD_PRE:"appendchildpre",APPEND_CHILD_POST:"appendchildpost",IMG_SET_ATTRIBUTE_PRE:"imgsetattributepre",SET_ATTRIBUTE_PRE:"setattributepre",WIN_OPEN_PRE:"winopenpre",HTML_SRC_PROP_PRE:"htmlsrcproppre",HTML_ELEMENT_INNERHTML_PRE:"htmlelementinnerhtmlpre",HTML_ELEMENT_INNERHTML_POST:"htmlelementinnerhtmlpost",HTML_ELEMENT_HAS_CHILD_NODES_PRE:"htmlelementhaschildnodespre",HTML_ELEMENT_TEXTCONTENT_PRE:"htmlelementtextcontentpre"};
var a=["xhrThwartOpen","fetchThwartOpen"];this.hookFunction=function(h,f,e,d,g){var b=h[f];b&&(h[f]=function(){var f=Array.prototype.slice.call(arguments);if(e)try{var l=k.fireEvent(e,f,this);if(void 0!=l)return l}catch(C){if(!g)throw C;if(0<=a.indexOf(C.type))throw C;}l=b.apply(this,f);if(d)try{k.fireEvent(d,l,this)}catch(C){if(!g)throw C;if(0<=a.indexOf(C.type))throw C;}return l})};this.hookPropertySetter=function(h,f,e,d,g){var b=h.__lookupGetter__(f),y=h.__lookupSetter__(f);b&&(h.__defineSetter__(f,
function(){var b=Array.prototype.slice.call(arguments);if(e)try{var f=k.fireEvent(e,b,this);if(void 0!=f)return f}catch(O){if(!g)throw O;if(0<=a.indexOf(O.type))throw O;}f=y.apply(this,b);if(d)try{k.fireEvent(d,f,this)}catch(O){if(!g)throw O;if(0<=a.indexOf(O.type))throw O;}return f}),h.__defineGetter__(f,function(){try{return b.apply(this)}catch(l){}}))};this.addEventListener=function(a,f){k.addEventListener(a,f)}};a.Hooks=q})(t);var na={};(function(a){var k=M.CustomEvents,q=function(){var a="push";
window.googletag.cmd.unshift&&(a="unshift");window.googletag.cmd[a](function(){window.__cmp&&window.__cmp("getVendorConsents",null,function(a){!a||!a.gdprApplies||a.purposeConsents&&a.purposeConsents[1]&&a.purposeConsents[2]&&a.purposeConsents[3]&&a.purposeConsents[4]&&a.purposeConsents[5]||window.googletag.pubads().setRequestNonPersonalizedAds(1)});k.fireEvent("disableInitialLoad")&&window.googletag.pubads().disableInitialLoad();k.fireEvent("disableSingleRequest")||window.googletag.pubads().enableSingleRequest();
k.fireEvent("collapseEmptyDivs")&&window.googletag.pubads().collapseEmptyDivs(!0);window.googletag.pubads().enableAsyncRendering();window.googletag.enableServices()})};a.presetProvider=function(a){switch(a){case "dfp":return q}}})(na);var ba={};(function(a){var k=r.new();k.setPrefix("visibiliy: ");var q=[],n=function(a){a=a.getBoundingClientRect();return document.hasFocus()&&0<=a.top&&0<=a.left&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth)},
h=function(){for(var a=[],d=0;d<q.length;d++){var g=q[d][0];if(g&&g.parentElement){var b=q[d][1];n(g)?b():a.push([g,b])}}q=a};F.onFocus(function(){h()});F.onScroll(function(){h()});var f=function(a){if(a){var d=a.getBoundingClientRect();return d.width||d.height?(a=document.documentElement,{top:d.top+window.pageYOffset-a.clientTop,left:d.left+window.pageXOffset-a.clientLeft}):d}};a.onVisible=function(a,d){a&&a.parentElement&&(n(a)?d():q.push([a,d]))};a.calculateElementOffset=f;a.isElementVisible=function(a){var d=
!1;try{var e=document.querySelector(a)}catch(L){k.errorf(null,"document.querySelector:%o - error:%o",a,L)}if(!e)return!1;if("none"===window.getComputedStyle(e).display){var b=e.style.getPropertyValue("display");var h=e.style.getPropertyPriority("display");e.style.setProperty("display","block","important");d=!0}a=f(e);var l=document.documentElement.scrollLeft||window.scrollX,C=document.documentElement.scrollTop||window.scrollY,n=window.innerHeight,X=window.innerWidth,p=e.offsetHeight,v=e.offsetWidth;
a=a.left>=l&&a.top>=C&&v+a.left<=l+X&&p+a.top<=C+n?!0:(a.left<=l&&a.left+v>l||a.left>=l&&a.left<=l+X)&&(a.top<=C&&a.top+p>C||a.top>=C&&a.top<=C+n)?!0:!1;"hidden"===document.visibilityState&&(a=!1);d&&e.style.setProperty("display",b,h);return a}})(ba);var V={};(function(H){var u=function(){var a=navigator.userAgent;return/edge/i.test(a)?"edge":/opera/i.test(a)||/opr|opios/i.test(a)?"opera":/chrome|chromium/i.test(a)?"chrome":/firefox|iceweasel|fxios/i.test(a)?"firefox":/msie|trident/i.test(a)?"ie":
/^((?!chrome|android).)*safari/i.test(a)?"safari":/ucbrowser/i.test(a)?"uc":window.chrome?"chrome":"undefined"!==typeof InstallTrigger?"firefox":eval("/*@cc_on!@*/false")||document.documentMode?"ie":window.StyleMedia?"edge":"unknown"};H.PlatformUnknown="unknown";H.PlatformAndroid="android";H.PlatformIOS="ios";H.PlatformWindows="windows";H.PlatformLinux="linux";H.PlatformOSX="osx";H.BrowserUnknown="unknown";H.BrowserChrome="chrome";H.BrowserFirefox="firefox";H.BrowserIE="ie";H.BrowserEdge="edge";H.BrowserOpera=
"opera";H.BrowserSafari="safari";H.BrowserUCBrowser="uc";H.DeviceUnknown="unknown";H.DeviceHighEndPhone="highendphone";H.DeviceTablet="tablet";H.DevicePersonalComputer="pc";H.DeviceConnectedTV="tv";H.DeviceGameConsole="console";H.browser=u;H.platform=function(){var a=navigator.userAgent;return/windows|win32/i.test(a)?"windows":/ipod|iphone|ipad/i.test(a)?"ios":/android/i.test(a)?"android":/macintosh|mac os x/i.test(a)?"osx":/linux/i.test(a)?"linux":/windows phone/i.test(a)?"windowsphone":"unknown"};
H.device=function(){var a=navigator.userAgent;return/tablet|ipad/i.test(a)?"tablet":/mobile/i.test(a)||/android|webos|iphone|ipod|blackberry|iemobile|windows phone|opera mini/i.test(a)||/ucbrowser/i.test(a)&&window.ucweb?"highendphone":"pc"};H.isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent||
navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||
navigator.vendor||window.opera).substr(0,4))};var q=r.new();q.setPrefix("detect: ");q.setLevel(r.DEBUG);var n=function(a){try{a.parentElement.removeChild(a)}catch(f){q.debugf(null,"cleanup error --\x3e removeChild(%o) returned %o",a,f)}};H.contentRestriction=function(h){return new a.CPromise(function(a,e){if("uc"===u())q.debugf(null,"browser is UCBrowser"),a(!1);else{var d=document.createElement("img");h=h||"https://ad.doubleclick.net/favicon.ico?ad=300x250&ad_box_=1&adnet=1&showad=1&size=250x250";
d.style="display:none !important;";d.addEventListener("error",function(e){try{a(!0),n(d),q.debugf(null,"contentRestriction --\x3e img onerror dispatched, result is true"),k.SharedObject.setItem("adBlockDetectionType","image")}catch(b){a(!0)}});d.addEventListener("load",function(e){try{a(!1),n(d),q.debugf(null,"contentRestriction --\x3e img onload dispatched, checking iframe")}catch(b){a(!1)}});d.src=h;(window.document.body||window.document.documentElement).appendChild(d)}})};H.acceptableAds=function(){return new a.CPromise(function(a,
f){f="https://ad-delivery.net/px.gif?ch=1&e="+Math.random();var e=new Image;e.style="display:none !important;";e.addEventListener("load",function(){a(!0);n(e)},!1);e.addEventListener("error",function(){a(!1);n(e)},!1);e.src=f;(window.document.body||window.document.documentElement).appendChild(e)})}})(V);var ja={};(function(a){a.set=function(a,k){if(!window.localStorage&&!window.sessionStorage)return r.errorf(null,"no Storage implementations"),!1;var n=!1;if(window.localStorage)try{window.localStorage.setItem(a,
k),n=!0}catch(h){r.errorf(null,"webstore: set: localStorage(%s): %o",a,h)}if(window.sessionStorage)try{window.sessionStorage.setItem(a,k),n=!0}catch(h){r.errorf(null,"webstore: set: sessionStorage(%s): %o",a,h)}return n};a.get=function(a){return window.localStorage?window.localStorage.getItem(a):window.sessionStorage?window.sessionStorage.getItem(a):null};a.remove=function(a){var k=null;if(window.localStorage)try{window.localStorage.removeItem(a)}catch(n){r.errorf(null,"webstore: remove: localStorage(%s): %o",
a,n),k=n}if(window.sessionStorage)try{window.sessionStorage.removeItem(a)}catch(n){r.errorf(null,"webstore: remove: sessionStorage(%s): %o",a,n),k=n}return null!=k?!1:!0}})(ja);var S={};(function(k){var u=new function(){var f=M.CustomEvents,e=U.stringRange(8,10),d="e3dedf4d",g=!1,b=V.browser(),k=V.device(),l=V.platform(),C=U.stringRange(8,10);window.sessionStorage&&(window.sessionStorage._upsesid?C=window.sessionStorage._upsesid:window.sessionStorage._upsesid=C);var n=function(a,b){""==a&&
(a="/");var d="?";b.upapi=["true"];for(var e=Object.keys(b),g=0;g<e.length;g++)for(var f=e[g],l=b[f],p=0;p<l.length;p++){var k=l[p];a+=d+encodeURIComponent(f)+"="+encodeURIComponent(k);d="&"}return a};this.sendLog=function(a,g){var f={};f.event=[a];if(g)for(var p in g)f[p]=[encodeURIComponent(g[p])];f.session=[C];f.pid=[e];f.ver=[d];f.browser=[b];f.device=[k];f.platform=[l];f.ref=[location.href];f.t=[Date.now()];a={url:n("/l",f)};return h.$fetch(a)};this.testCompliance=function(b){return new a.CPromise(function(a,
g){var f={};f.pid=[e];f.cv=[d];f.nr=["1"];var l=b,p=n("/tc",f),k=JSON.stringify(b);try{k&&2048<=k.length&&window.localStorage&&!window.localStorage.updebug?(l=I.compress(k).buffer,f.z=[1],p=n("/tc",f)):l=R.encode(k)}catch(w){l=R.encode(k)}h.$fetch({method:"POST",url:p,body:l}).then(function(b){b=JSON.parse(R.decode(b.body));var d={},e;for(e in b)b.hasOwnProperty(e)&&(d[e]={status:b[e].status,id:b[e].id});a(d)},function(a){g(Error())})})};this.reportPageView=function(a,f,l,k){g||(d=d+"-"+window.__upo_d.v,
g=!0);var p={};p.pid=[e];p.br=[b];p.sid=[C];p.w=[a];p.cv=[d];p.r=[f];f&&(p.rt=l,p.aa=[k]);a={url:n("/pv",p)};return h.$fetch(a)};this.reportPageFocus=function(a,b,g,f){var l={};l.pid=[e];l.sid=[C];l.w=[a];l.r=[b];l.cv=[d];b&&(l.rt=g,l.aa=[f]);a={url:n("/pf",l)};return h.$fetch(a)};this.reportAuctionStarted=function(b,g,l,k){var p={};p.pid=[e];p.cv=[d];p.nr=["1"];var z={};z.websiteID=k;z.auctionID=b;z.spaceExternalID=g;z.bids=a.map(l,function(a){return{bidderExternalID:a.bidderId,provider:a.provider}});
f.fireEvent("auctionStartChangeRequestData",{query:p,body:z});b={method:"POST",url:n("/as",p),body:R.encode(JSON.stringify(z))};return h.$fetch(b)};this.reportAuctionEnd=function(a,b,g,l,k){var p={};p.pid=[e];p.cv=[d];p.seid=[k];p.nr=["1"];l.websiteID=g;l.auctionID=a;l.spaceExternalID=b;l.dfpAdUnit=k;f.fireEvent("auctionEndChangeRequestData",{query:p,body:l});a={method:"POST",url:n("/ae",p),body:R.encode(JSON.stringify(l))};return h.$fetch(a)};this.reportRender=function(a,b,d,e,g){var f={};f.websiteID=
g;f.auctionID=a;f.spaceExternalID=e;f.bidderExternalID=b;f.provider=d;a={method:"POST",url:n("/r",{nr:["1"]}),body:R.encode(JSON.stringify(f))};return h.$fetch(a)};this.reportView=function(a,b,d,e,g){var f={};f.websiteID=g;f.auctionID=a;f.spaceExternalID=e;f.bidderExternalID=b;f.provider=d;a={method:"POST",url:n("/v",{nr:["1"]}),body:R.encode(JSON.stringify(f))};return h.$fetch(a)};this.reportClick=function(a){var b={};b.pid=[e];b.sid=[C];b.cv=[d];b.bd=[a];b.sr=["1"];a={url:n("/c",b)};return h.$fetch(a)}};
k.Home=u;u=r.new();u.setPrefix("transport: ");u.setLevel(r.INFO);var q=function(a){for(var e={},d=Object.keys(a),g=0;g<d.length;g++)e[d[g].toLowerCase()]=a[d[g]];return e},u=function(a,e,d){d=d||{};if(d.merge&&d.override)throw new TypeError;this.tr=a;this.headers=q(e);this.merge=d.merge||!1;this.override=d.override||!1};u.prototype.$fetch=function(a,e,d){d=d||{};if("object"!==typeof e||"string"!==typeof e.url)throw new TypeError;e=this.addHeaders(e);this.tr.$fetch(a,e,d)};u.prototype.addHeaders=function(a){var e=
a.url,d=a.headers||{},g={};for(f in d)if(d.hasOwnProperty(f)){g[f]=[];for(var b=0;b<d[f].length;b++)g[f].push(d[f][b])}a={url:e,headers:q(g),body:a.body,method:a.method};var f=this.headers;var e=a.headers,l;for(l in f)if(f.hasOwnProperty(l)){if(this.override)e[l]=[];else if(!this.merge&&e[l])continue;e[l]||(e[l]=[]);for(d=0;d<f[l].length;d++)e[l].push(f[l][d])}return a};k.WithHeaders=u;var n=function(a){a=a.toLowerCase();if("proxy-"===a.substr(0,6)||"sec-"===a.substr(0,4))return!1;switch(a){case "accept-charset":case "accept-encoding":case "access-control-request-headers":case "access-control-request-method":case "connection":case "content-length":case "cookie":case "cookie2":case "date":case "dnt":case "expect":case "host":case "keep-alive":case "origin":case "te":case "trailer":case "transfer-encoding":case "upgrade":case "via":return!1;
case "x-client-version":case "x-cookie":case "x-referer":return!1}return!0},h=new function(){this.init=function(a,e){e=e||{};if(!a||"string"!==typeof a)throw new TypeError;this.host=a;this.protocol=("undefined"!==typeof e.secure?e.secure:1)?"https":"http";this.suffix="undefined"!==typeof e.suffix?e.suffix:""};this.$fetch=function(f){return new a.CPromise(function(a,d){if("object"!==typeof f||"string"!==typeof f.url)throw new TypeError;var e=!1,b=f.url||"";if(1>b.length||"/"!=b[0])b="/"+b;var b=this.protocol+
"://"+this.host+b,b=b+(this.suffix?"#"+this.suffix:""),k=f.method||"GET",l=f.headers||{},h=f.body?f.body:null,O=new XMLHttpRequest;O.onreadystatechange=function(b){if(4==O.readyState)if(0==O.status)e||(e=!0,d("status -> "+O.status));else{var g=O.getAllResponseHeaders();b={};if(g)for(var g=g.split("\r\n"),f=0;f<g.length;f++){var l=g[f],p=l.indexOf(": ");if(0<p){var k=l.substring(0,p),l=l.substring(p+2);b[k]||(b[k]=[]);b[k].push(l)}}b=q(b);b["x-content-type"]&&(b["content-type"]=b["x-content-type"],
delete b["x-content-type"]);200!==O.status?d("status -> "+O.status):a({status:O.status,headers:b,body:O.response})}};O.onerror=function(a){e||(e=!0,d(a))};O.open(k,b,!0);O.responseType="arraybuffer";for(var u in l)l.hasOwnProperty(u)&&0!=l[u].length&&(n(u)||O.setRequestHeader(u,l[u][0]));O.send(h)}.bind(this))}};k.$XHRService=h})(S);var va={};(function(a){var k="0",q=function(){var a=b(k);return a?(a=JSON.parse(a),"object"!=typeof a?{}:a):{}},n=function(a){return(a=JSON.stringify(a))?g(k,a):!1},h=
function(a){return null==a?!1:0>a-(new Date).getTime()},f=function(a){var b=q();delete b[a];return n(b)};a.setFlag=function(a,b,d){var e=q();e[a]={v:b,e:d};return n(e)};a.getFlag=function(a){var b=q();return void 0==b[a]?null:h(b[a].e)?(f(a),null):b[a].v};a.removeFlag=f;a.clearFlags=function(a){return y(k)};a.expireFlags=function(){var a=q(),b=[],d;for(d in a)h(a[d].e)&&b.push(d);if(0!=b.length){for(d in b)delete a[d];n(a)}};var e=0,d=function(a){return P.sum32a(R.encode(e.toString()+"___"+a)).toString()},
g=function(a,b){a=d(a);return ja.set(a,btoa(b))},b=function(a){a=d(a);return(a=ja.get(a))?atob(a):null},y=function(a){a=d(a);return ja.remove(a)};a.setSeed=function(a){e=a;k=d("opt_"+a.toString())};a.set=g;a.get=b;a.remove=y})(va);var wa={};(function(t){var u=r.new();u.setPrefix("report: ");u.setLevel(r.INFO);var q=new function(){var n=M.CustomEvents;this.init=function(){var f=k.SharedObject.getItem("websiteID");n.addEventListener("FirePublisherEvent",function(a){var d=a.data;a=d.eventName;d=d.payload||
{bubbles:!1,cancelable:!1,detail:void 0};if(window.CustomEvent)try{var e=new window.CustomEvent(a,d);window.dispatchEvent(e);return}catch(b){e=document.createEvent("CustomEvent");e.initCustomEvent(a,d.bubbles,d.cancelable,d.detail);window.dispatchEvent(e);return}e=document.createEvent("CustomEvent");e.initCustomEvent(a,d.bubbles,d.cancelable,d.detail);window.dispatchEvent(e)});n.addEventListener("sendLog",function(a){a=a.data;S.Home.sendLog(a.eventName,a.payload).then(function(a){u.infof(null,"sendLog - %o",
a)},function(a){u.errorf(null,"sendLog - %o",a)})});n.addEventListener("onPageView",function(a){var d=a.data;a=d.contentRestriction;var d=d.acceptableAds,e=[];a&&(e=[h.UNKNOWN]);S.Home.reportPageView(f,a,e,d).then(function(a){try{window.__pvsent=!0,window.top.__pvsent=!0}catch(y){}u.infof(null,"onPageView - %o",a)},function(a){u.errorf(null,"onPageView - %o",a)})});n.addEventListener("onPageFocus",function(a){var d=a.data;a=d.contentRestriction;var d=d.acceptableAds,e=[];a&&(e=[h.UNKNOWN]);S.Home.reportPageFocus(f,
a,e,d).then(function(a){u.infof(null,"onPageFocus - %o",a)},function(a){u.errorf(null,"onPageFocus - %o",a)})});n.addEventListener("onAuctionStarted",function(e){var d=e.data.auction;e=d.auctionId;var g=d.unit.space.id,b=[],k=d.unit.space.preBiddingSettings&&d.unit.space.preBiddingSettings.biddingSettings,d=d.unit.space.postBiddingSettings;if(k)for(var l in k)l=parseInt(l),k.hasOwnProperty(l)&&a.forEach(k[l],function(a){b.push({bidderId:a.id,provider:a.name})});d&&(d.adxId&&b.push({bidderId:d.adxId,
provider:"gad"}),d.directId&&b.push({bidderId:d.directId,provider:"direct"}));S.Home.reportAuctionStarted(e,g,b,f).then(function(a){u.infof(null,"onAuctionStarted - %o",a)},function(a){u.errorf(null,"onAuctionStarted - %o",a)})});n.addEventListener("onAuctionEnded",function(a){var d=a.data;a=d.auction;var d=d.bid,e=a.bids,b=a.unit.space.name;try{if(window.googletag&&window.googletag.pubads)for(var h=window.googletag.pubads().getSlots(),l=0;l<h.length;l++){var C=h[l],q=C.getSlotElementId(),X=a.unit.space.selector.value.substr(1);
if(q==X){b=C.getAdUnitPath().split("/")[C.getAdUnitPath().split("/").length-1];break}}}catch(p){u.errorf(null,"onAuctionEnded: %o",p)}h={bids:[],aliens:[],win:void 0};for(l=0;l<e.length;l++)if(C=e[l],q=n.fireEvent("bidCpmAdjustment",{bid:{cpm:C.cpm,bidderCode:C.bidderCode,complianceStatus:C.complianceStatus}})||1,q*=C.cpm/1E3,X=n.fireEvent("prebidTimeout")||3E3,q={bidderExternalID:C.bidderId,provider:C.bidderCode,amount:q,complianceStatus:C.complianceStatus,timeout:X,latency:C.timeToRespond,requestStatus:"OK",
creativeID:C.contentIdHash,adUnit:a.unit.space.name,adSize:String(C.width)+"x"+String(C.height),adID:C.adId},C==d)h.win=q;else switch(q.complianceStatus){case k.consts.complianceStatus.COMPLIANT:case k.consts.complianceStatus.INCOMPLIANT:h.bids.push(q);break;default:h.aliens.push(q)}S.Home.reportAuctionEnd(a.auctionId,a.unit.space.id,f,h,b).then(function(a){u.infof(null,"onAuctionEnded - %o",a)},function(a){u.errorf(null,"onAuctionEnded - %o",a)})});n.addEventListener("onAuctionRendered",function(a){var d=
a.data;a=d.auction;d=d.bid;S.Home.reportRender(a.auctionId,d.bidderId,d.bidderCode,a.unit.space.id,f).then(function(a){u.infof(null,"onAuctionRendered - %o",a)},function(a){u.errorf(null,"onAuctionRendered - %o",a)})});n.addEventListener("onAdViewed",function(a){var d=a.data;a=d.auction;d=d.bid;S.Home.reportView(a.auctionId,d.bidderId,d.bidderCode,a.unit.space.id,f).then(function(a){u.infof(null,"onAdViewed - %o",a)},function(a){u.errorf(null,"onAdViewed - %o",a)})});n.addEventListener("onAdClicked",
function(a){S.Home.reportClick(a.data.bid.bidderId).then(function(a){viewIndex++;u.infof(null,"onAdClicked - %o",a)},function(a){u.errorf(null,"onAdClicked - %o",a)})})};var h={UNKNOWN:0,ADBLOCK:1,ADBLOCK_PLUS:2,UBLOCK:3,ADGUARD:4,GHOSTERY:5,UC_BROWSER:6}};t.Report=q;q=new function(){var a=M.CustomEvents;this.run=function(){e();h()};var h=function(){a.addEventListener("getRestrictionSettingsEnded",function(d){var e=a.fireEvent("acceptableAbTest");if(e){d="//static.criteo.net/images/pixel.gif?ch=1&upapi=true";
e&&(d=e.src);var b=new Image;b.addEventListener("load",function(){e.callback(!0)},!1);b.addEventListener("error",function(){e.callback(!1)},!1);b.src=d}})},f=!1,e=function(){a.addEventListener("getRestrictionSettingsEnded",function(d){d=d.data;d.contentRestriction&&d.acceptableAds&&(window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.que.push(function(){window.pbjs.onEvent("bidResponse",function(d){if(!f&&d&&0<d.length)for(var b=0;b<d.length;b++)if(0<d[b].cpm&&"emx_digital"!==
d[b].bidder&&"districtmDMX"!==d[b].bidder){f=!0;a.addEventListener("stopFlag",function(){return!0});var e=k.SharedObject.getItem("renderedUnits"),e={adBlockDetectionType:k.SharedObject.getItem("adBlockDetectionType"),stopedProcess:!e||0==e.length};S.Home.sendLog("pbjsDetected",e)}d&&S.Home.sendLog("pbjsBidReceived",{cpm:d.cpm?d.cpm:0,creativeLength:d.ad?d.ad.length:0,bidderCode:d.bidderCode||"",adUnitCode:d.adUnitCode||""})})}))})}};t.Verifications=q})(wa);var D={};(function(r){r.addAcceptableParam=
function(a){if(-1<a.indexOf(k.upoSettings.acceptableURLParam))return a;a=-1<a.indexOf("?")?a+"&"+k.upoSettings.acceptableURLParam:a+"?"+k.upoSettings.acceptableURLParam;return a=a.replace("&&upapi=true","&upapi=true")};var u=function(b){if(!b)return b;var d=[Number,String,Boolean];try{if(a.forEach(d,function(a){b instanceof a&&(e=a(b))}),"undefined"==typeof e)if("[object Array]"===Object.prototype.toString.call(b)){var e=[];a.forEach(b,function(a,b,d){e[b]=u(a)})}else if("object"==typeof b)if(b.nodeType&&
"function"==typeof b.cloneNode)e=b.cloneNode(!0);else if(b.prototype)e=b;else if(b instanceof Date)e=new Date(b);else{e={};for(var f in b)e[f]=u(b[f])}else e=b}catch(z){e=b}return e},q=function(a){return a.replace(/[\.|\#]\d/gm,function(a){return a[0]+"\\3"+a[1]+" "})},n=function(a){try{if(a){try{var b=document.querySelector(q(a))}catch(B){}if(b){a=!1;if("none"===window.getComputedStyle(b).display){var d=b.style.getPropertyValue("display");var e=b.style.getPropertyPriority("display");b.style.setProperty("display",
"block","important");a=!0}var f=b.getBoundingClientRect().top+window.scrollY;a&&b.style.setProperty("display",d,e);return f<=k.consts.acceptableStandardScreenSize.height}}}catch(B){}};r.deepClone=u;r.escapeSelector=q;r.isFirstViewPortElement=n;r.extractQueryParamFromUrl=function(a,b){a=a.replace(/[\[\]]/g,"\\$&");return(a=(new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)")).exec(b))?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null};var h=new function(){this.insertElement=function(a,b,d){switch(d){case "appendChild":b.appendChild(a);
break;case "insertBefore":b.parentElement.insertBefore(a,b);break;case "insertAfter":b.nextElementSibling?this.insertElement(a,b.nextElementSibling,"insertBefore"):this.insertElement(a,b.parentElement,"appendChild")}}};r.ElementInsertion=h;var f=function(a){var b=a.width,d=16<=b*a.height/(k.consts.acceptableStandardScreenSize.width*k.consts.acceptableStandardScreenSize.height)*100;return 2==(350<a.width?1:2)?d||350<b:d||200<a.height},e=function(a,b){var g=a&&document.querySelector(q(a)),l=350<b.width?
1:2,h=!1,p=!1,w=b.height,y=b.width;if(g){if("none"===window.getComputedStyle(g).display){var v=g.style.getPropertyValue("display");var n=g.style.getPropertyPriority("display");g.style.setProperty("display","block","important");h=!0}w=g.getBoundingClientRect().top;w=(p=w+b.height>k.consts.acceptableStandardScreenSize.height)?k.consts.acceptableStandardScreenSize.height-w:b.height}a=2==l&&p?e(a,{width:y,height:w})&&d(b):f(b);h&&g.style.setProperty("display",v,n);return a},d=function(a){var b=350<a.width?
1:2;return 26<=a.width*a.height/(k.consts.acceptableStandardScreenSize.width*k.consts.acceptableStandardScreenSize.height)*100||1==b&&400<a.height},g=function(a,b){return a&&document.querySelector(q(a))&&!n(a)?d(b):e(a,b)};r.isUnacceptable=g;var b=[{width:300,height:250},{width:336,height:280},{width:300,height:600},{width:160,height:600},{width:120,height:600},{width:120,height:240},{width:250,height:250},{width:200,height:200},{width:180,height:150},{width:125,height:125},{width:728,height:90},
{width:970,height:90},{width:970,height:250},{width:468,height:60},{width:234,height:60}],y=function(b,d){return a.filter(b,function(a){return(350<a.width?1:2)==d})},l=function(d,e){d=y(b,d);return d=a.filter(d,function(a){return f(a)?!e:!0})},C=function(a,b,d){for(var e,f,g=f=e=0;g<a.length;g++){var k=a[g];k&&k.width&&k.height&&(k.width>e&&(e=k.width),k.height>f&&(f=k.height))}b=l(350<b.width?1:2,d);for(d=0;d<b.length;d++)if(g=b[d],g.width<=e&&g.height<=f){for(var k=!0,h=0;h<a.length;h++){var p=
a[h];if(p&&p.width==g.width&&p.height==g.height){k=!1;break}}if(k)return g}};r.sizesReplacer=function(b,d){var e=[];a.forEach(d,function(a){e.push({width:a.width,height:a.height})});for(d=0;d<e.length;d++){var f=e[d],l=n(b);f&&f.width&&f.height&&g(b,f)&&(e[d]=C(e,f,l))}return e};r.SubscriptionLayer=function(){var b={};this.subscribeForEvent=function(a,d){b[a]=b[a]||[];0>b[a].indexOf(d)&&b[a].push(d)};this.invokeEventCallbacks=function(d,e){a.forEach(b[d]||[],function(a){a.call(void 0,e)})}};var O=
function(a){var b=document.createElement("a");b.setAttribute("href",a);return b},X=function(a,b){if(a&&0<a.length)for(var d=0;d<a.length;d++){for(var e=a[d],f=!0,g=0;g<e.length;g++){var l=e[g];if(0>b[l.type].indexOf(l.string)){f=!1;break}}if(f)return!0}};r.isSyncUrl=function(a,b){if("IMG"!==b)return!1;a=O(a);b=[[{string:"/sync",type:"pathname"}],[{string:"/cookiesync",type:"pathname"}],[{string:"/rset",type:"pathname"}],[{string:"/getuid",type:"pathname"}],[{string:"/track",type:"pathname"}],[{string:"/pixel",
type:"pathname"}],[{string:"/Pixel",type:"pathname"}],[{string:".pixel",type:"pathname"}],[{string:"pixel.",type:"pathname"}],[{string:"/match",type:"pathname"}],[{string:"/partner",type:"pathname"}],[{string:"/visitormatch",type:"pathname"}],[{string:"/ping_match",type:"pathname"}],[{string:"/ImgSync",type:"pathname"}],[{string:"/identify",type:"pathname"}],[{string:"/usync/",type:"pathname"}],[{string:"/usersync",type:"pathname"}],[{string:"/user-sync",type:"pathname"}],[{string:"/ddm/trackimp",
type:"pathname"}],[{string:"/user_sync.php",type:"pathname"}],[{string:"/bh/rtset",type:"pathname"}],[{string:"%2Fsync",type:"pathname"}],[{string:"cksync.php",type:"pathname"}],[{string:".sync",type:"hostname"}],[{string:"sync-",type:"hostname"}],[{string:"storygize.net",type:"hostname"},{string:"/ccm",type:"href"}],[{string:"geo-um.btrll.com",type:"hostname"}],[{string:"nexac.com",type:"hostname"},{string:"/e/sr",type:"href"}],[{string:"api.bttrack.com",type:"hostname"}],[{string:"postrelease.com",
type:"hostname"}],[{string:"sitescout.com",type:"hostname"}],[{string:"criteo.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"},{string:"/sync",type:"href"}]];for(var d=0;d<b.length;d++){for(var e=b[d],f=!0,g=0;g<e.length;g++){var l=e[g];if(0>a[l.type].indexOf(l.string)){f=!1;break}}if(f)return!0}return!1};r.isWhitelistURL=function(a,b){a=O(a);return X({SCRIPT:[[{string:"3lift.com",type:"hostname"},{string:"/header",type:"href"}]]}[b],a)?!1:X({IMG:[[{string:"adsafeprotected.com",type:"hostname"}],
[{string:"doubleclick.net",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"mynativeplatform.com",type:"hostname"}],[{string:"360yield.com",type:"hostname"}],[{string:"sharethrough.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"zemanta.com",type:"hostname"}],[{string:"adnxs.com",type:"hostname"}],[{string:"sonobi.com",type:"hostname"}],[{string:"insight.adsrvr.org",type:"hostname"}],[{string:"serving-sys.com",
type:"hostname"}],[{string:"advertising.com",type:"hostname"}],[{string:"openx.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"flashtalking.com",type:"hostname"},{string:"/imp",type:"href"}],[{string:"adroll.com",type:"hostname"}],[{string:"33across.com",type:"hostname"},{string:"/ps",type:"href"}],[{string:"adsrvr.org/bid",type:"href"}],[{string:"imrworldwide.com",type:"hostname"}],[{string:"criteo.com",type:"hostname"},{string:"/delivery",type:"href"}],[{string:"ad_overlays",
type:"pathname"}]],IFRAME:[[{string:"googlesyndication.com/safeframe",type:"href"}],[{string:"ad.doubleclick.net/ddm",type:"hostname"}],[{string:"rubiconproject.com",type:"hostname"},{string:"multi-sync.html",type:"href"}],[{string:"3lift.com",type:"hostname"},{string:"sync?",type:"href"}],[{string:"ca-pub-15988",type:"href"}],[{string:"ff.doubleclick.net",type:"hostname"}]],SCRIPT:[[{string:"adnxs.com",type:"hostname"},{string:"trk.js",type:"href"}],[{string:"/sync",type:"pathname"}],[{string:"pagead2.googlesyndication.com",
type:"hostname"}],[{string:"adservice.google.",type:"hostname"}],[{string:"doubleclick.net/gpt/pubads_impl_",type:"href"}],[{string:"native.sharethrough.com/assets/sfp.js",type:"href"}],[{string:"sharethrough.com/api",type:"href"}],[{string:"moatads.com",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"match.adsrvr.org",type:"hostname"}],[{string:".adnxs.com/getuidp",type:"href"}],[{string:"pubads_impl_rendering_",
type:"href"}],[{string:"cdn.ampproject.org",type:"href"}]],LINK:[[{string:"//tpc.googlesyndication.com/safeframe",type:"href"}],[{string:"ntv.io",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}]]}[b],a)?!0:!1}})(D);var T={};(function(t){var u=r.new();u.setPrefix("utils: ");var q=function(a){return{element:a.element,space:n(a.space),currentBid:a.currentBid,countOfDispatches:a.countOfDispatches,lastInvokeTime:a.lastInvokeTime}},n=function(a){var b=
{id:a.id,name:a.name,staging:a.staging,selector:{position:a.selector.position,value:a.selector.value},sizes:a.sizes};if(a.preBiddingSettings&&(b.preBiddingSettings={enabled:a.preBiddingSettings.enabled,biddingSettings:{}},a.preBiddingSettings.enabled&&a.preBiddingSettings.biddingSettings))for(var d in a.preBiddingSettings.biddingSettings)if(a.preBiddingSettings.biddingSettings.hasOwnProperty(d)){var e=a.preBiddingSettings.biddingSettings[d];b.preBiddingSettings.biddingSettings[d]=[];for(var f=0;f<
e.length;f++){var g=e[f];b.preBiddingSettings.biddingSettings[d].push({id:g.id,name:g.name,testCompliance:g.testCompliance,params:g.params})}}b.postBiddingSettings={enabled:!1};if(a.postBiddingSettings&&a.postBiddingSettings.enabled)for(b.postBiddingSettings={adxId:a.postBiddingSettings.adxId,directId:a.postBiddingSettings.directId,enabled:a.postBiddingSettings.enabled,type:a.postBiddingSettings.type,order:[]},f=0;f<a.postBiddingSettings.order.length;f++)d=a.postBiddingSettings.order[f],b.postBiddingSettings.order.push({params:{keyValues:d.params.keyValues||
{},queryParams:d.params.queryParams||{}},adx:{bidderID:d.adx.bidderID,testCompliance:d.adx.testCompliance},direct:{bidderID:d.direct.bidderID,testCompliance:d.direct.testCompliance}});return b},h=function(a){if(a)return{bidId:a.bidId,ad:a.ad,adId:a.adId,adUrl:a.adUrl,bidderId:a.bidderId,bidder:a.bidder,bidderCode:a.bidderCode,contentIdHash:a.contentIdHash,currency:a.currency,creativeId:a.creativeId,c:a.c,cpm:a.cpm,complianceStatus:a.complianceStatus,height:a.height,timeToRespond:a.timeToRespond,size:a.size,
width:a.width,rawBid:a.rawBid,type:a.type,status:a.status}};t.auctionDecoder=function(b){return{auctionId:b.auctionId,unit:q(b.unit),state:b.state,creationTime:b.creationTime,bids:a.map(b.bids,function(a){return h(a)}),winningBid:b.getWinningBid()}};t.unitDecoder=q;t.spaceDecoder=n;t.bidDecoder=h;t.getSpaceElement=function(a){if(!a||!a.selector)return null;try{var b=document.querySelector(a.selector.value)}catch(l){u.errorf(null,"document.querySelector:%o - space:%o - error:%o",a.selector,a,l)}return b};
t.refreshTypeDecoder=function(a){switch(a){case "ALL":return k.consts.refreshType.ALL;case "VISIBLE":return k.consts.refreshType.VISIBLE;case "HIDDEN":return k.consts.refreshType.HIDDEN;default:return k.consts.refreshType.UNKNOWN}};var f=new function(){var b=[],d=[];this.setMovePositionRules=function(a){b=a||[]};this.dispatch=function(f){try{if(!(!b||0>=b.length||!(f=a.filter(f,function(a){return 0>d.indexOf(a)}))||0>=f.length)){var g=function(l,k){if(!(l>k)){for(var h=0;h<f.length;h++){for(var p=
f[h],y=[],z=0;z<b.length;z++){var B=b[z],w={space:n(p)};e(B,w)&&(d.push(p),B.stayLive||y.push(B))}b=0<y.length?a.filter(b,function(a){return 0>y.indexOf(a)}):b}0<b.length&&setTimeout(function(){g(l+1,k)},100)}};g(0,20)}}catch(X){}};var e=function(a,b){var d=a.elementToMove(b);b=a.relativeElement(b);return d&&b&&!d.__upo_moved?(D.ElementInsertion.insertElement(d,b,a.htmlElementInsertionType),d.__upo_moved=!0):!1}};t.movePositionService=f;var e={},d=function(b,d){try{b.addEventListenerOrginal=b.addEventListener,
b.addEventListener=function(){var a=Array.prototype.slice.call(arguments);if("load"==a[0])e[d]=e[d]||[],e[d].push(a[1]);else return b.addEventListenerOrginal.apply(this,a)},b.removeEventListenerOrginal=b.removeEventListener,b.removeEventListener=function(){var f=Array.prototype.slice.call(arguments);if("load"==f[0])e[d]&&(e[d]=a.filter(e[d],function(a){return a!=f[1]}));else return b.removeEventListenerOrginal.apply(this,f)}}catch(l){}},g=function(a){a=a.contentWindow;var b=function(a){0==a.indexOf("//")&&
(a=top.location.protocol+a);return a},d=function(a,d){if(a&&""==a.src&&a.outerHTML){var e=(new RegExp(d+'="([^"]+)"',"g")).exec(a.outerHTML);e&&e[1]&&(a[d]=b(e[1]))}},e=a.XMLHttpRequest.prototype.open;a.XMLHttpRequest.prototype.open=function(){try{var a=Array.prototype.slice.call(arguments);a[1]=b(a[1])}catch(w){}return e.apply(this,a)};var f=a.open;a.open=function(){try{var a=Array.prototype.slice.call(arguments);a[0]=b(a[0])}catch(w){}return f.apply(this,a)};var g=a.HTMLElement.prototype.insertBefore;
a.HTMLElement.prototype.insertBefore=function(){try{var a=Array.prototype.slice.call(arguments);var b=g.apply(this,a);-1<["SCRIPT","IFRAME"].indexOf(a[0].tagName)&&d(a[0],"src");"LINK"===a[0].tagName&&d(a[0],"href")}catch(E){}return b};var k=a.HTMLElement.prototype.appendChild;a.HTMLElement.prototype.appendChild=function(){try{var a=Array.prototype.slice.call(arguments);var b=k.apply(this,a);-1<["SCRIPT","IFRAME"].indexOf(a[0].tagName)&&d(a[0],"src");"LINK"===a[0].tagName&&d(a[0],"href")}catch(E){}return b};
var h=a.HTMLElement.prototype.__lookupGetter__("innerHTML"),n=a.HTMLElement.prototype.__lookupSetter__("innerHTML");a.HTMLElement.prototype.__defineSetter__("innerHTML",function(){try{var a=Array.prototype.slice.call(arguments);var b=n.apply(this,a);d(this.firstChild,"src")}catch(E){}return b});a.HTMLElement.prototype.__defineGetter__("innerHTML",function(){try{return h.apply(this)}catch(B){}});for(var q="HTMLScriptElement HTMLElement HTMLVideoElement HTMLAudioElement HTMLHtmlElement HTMLHeadElement HTMLLinkElement HTMLStyleElement HTMLBodyElement HTMLFormElement HTMLSelectElement HTMLOptionElement HTMLInputElement HTMLTextAreaElement HTMLButtonElement HTMLLabelElement HTMLFieldSetElement HTMLLegendElement HTMLUListElement HTMLOListElement HTMLDListElement HTMLDirectoryElement HTMLMenuElement HTMLLIElement HTMLDivElement HTMLParagraphElement HTMLHeadingElement HTMLQuoteElement HTMLPreElement HTMLBRElement HTMLFontElement HTMLHRElement HTMLAnchorElement HTMLImageElement HTMLObjectElement HTMLParamElement HTMLMapElement HTMLModElement HTMLAreaElement HTMLTableElement HTMLTableCaptionElement HTMLTableColElement HTMLTableSectionElement HTMLTableRowElement HTMLTableCellElement HTMLFrameSetElement HTMLFrameElement HTMLIFrameElement".split(" "),
z=0;z<q.length;z++)a[q[z]]&&function(a){a=a.prototype;var d=a.__lookupGetter__("src"),e=a.__lookupSetter__("src");d&&(a.__defineSetter__("src",function(){try{var a=Array.prototype.slice.call(arguments);a[0]=b(a[0])}catch(Q){}return e.apply(this,a)}),a.__defineGetter__("src",function(){try{return d.apply(this)}catch(W){}}))}(a[q[z]])};t.createSafeFrame=function(){var b=document.createElement("iframe"),f=U.stringRange(16,24),l=function(){this.removeEventListener("load",l);try{if(-1<this.src.indexOf("about:blank")&&
g(this),"firefox"===V.browser())if(k.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame){var a="var script = document.createElement('script'); script.textContent=atob('"+btoa('document.write(\'<html> <head> <script> var evalCode = function (code) { try { window.eval(code) } catch (error) { } }; window.addEventListener("message", function (event) { var data; if (typeof(event) === "object" && event.data.type) { data = event.data; } else { try { data = JSON.parse(event.data); } catch (err) { } }; if (!data) { return; } switch (data.type) { case "eval": evalCode(data.code); break; default: break; } }); \x3c/script> </head> <body> </body> </html>\');try{document.__defineGetter__("readyState",function(){return "complete"});window.setTimeout(function(){document.close();},300);}catch(e){};')+
"'); document.documentElement.appendChild(script);";this.contentWindow.postMessage({type:"eval",code:a},"*")}else{var b=this.contentWindow.document,d=b.createElement("script");d.textContent='document.write(\'<html><head></head><body><div></div></body></html>\');try{document.__defineGetter__("readyState",function(){return "complete"});window.setTimeout(function(){document.close();},300);}catch(e){};';b.documentElement.appendChild(d)}}catch(v){}},h=function(){try{this.addEventListener=this.addEventListenerOrginal,
delete this.addEventListenerOrginal,this.removeEventListener=this.removeEventListenerOrginal,delete this.removeEventListenerOrginal}catch(O){}this.removeEventListener("load",h);this.addEventListener("load",l);e[f]&&a.forEach(e[f],function(a){this.addEventListener("load",a)}.bind(this));this.src=k.upoSettings.whitelistedFrameSettings.laterSrcModification};k.upoSettings.whitelistedFrameSettings.laterSrcModification?(b.addEventListener("load",h),d(b,f)):b.addEventListener("load",l);b.src=k.upoSettings.whitelistedFrameSettings.url;
return b}})(T);var da={};(function(r){var u=new function(){var e=new D.SubscriptionLayer;this.subscribeForEvent=function(a,b){e.subscribeForEvent(a,b)};var d=function(){return new a.CPromise(function(a,b){var d=!1;try{if(window.googletag&&window.googletag.getVersion){d=!0;var e=document.createElement("script");e.async="true";e.type="text/javascript";e.addEventListener("load",function(){a()});e.addEventListener("error",function(a){b(a)});e.src="https://securepubads.g.doubleclick.net/gpt/pubads_impl_"+
window.googletag.getVersion()+".js?upapi=true";(document.head||document.body||document.documentElement).appendChild(e)}}catch(E){b("error in getting pubads_impl -> "+E)}if(window.googletag._vars_){var f=window.googletag._vars_,g=[21063911,21063048,21063670,21063817,21063671],l=[],k;for(k in f){var h=f[k];if("string"===typeof h&&-1<h.indexOf("pubads_impl_")&&!d)try{d=!0,e=document.createElement("script"),e.async="true",e.type="text/javascript",e.addEventListener("load",function(){a()}),e.addEventListener("error",
function(a){b(a)}),-1<h.indexOf("?")?e.src=h+"&upapi=true":e.src=h+"?upapi=true",(document.head||document.body||document.documentElement).appendChild(e)}catch(E){b("error in getting pubads_impl -> "+E)}else if(Array.isArray(h))try{var z=h.length;if(g)for(;z--;){var n=h[z];-1<g.indexOf(n)&&h.splice(z,1)}if(l)for(var w=0;w<l.length;w++)n=l[w],-1===h.indexOf(n)&&h.push(n)}catch(E){}}}d||b()})},f=function(){return new a.CPromise(function(a,b){var d=document.createElement("script");d.async="true";d.type=
"text/javascript";d.addEventListener("load",function(){a()});d.addEventListener("error",function(a){b(a)});d.src="https://adservice.google.com/adsid/integrator.js?domain="+window.location.hostname+"&upapi=true";(document.head||document.body||document.documentElement).appendChild(d)})},b=function(){return new a.CPromise(function(b,e){var g=document.createElement("script");g.async="true";g.type="text/javascript";g.addEventListener("load",function(){a.CPromise.all([f(),d()]).then(function(){b()},function(a){e(a)})});
g.addEventListener("error",function(){e()});g.src="//www.googletagservices.com/tag/js/gpt.js?upapi=true";(document.head||document.body||document.documentElement).appendChild(g)})};this.load=function(){window.googletag=window.googletag||{};window.googletag.cmd=window.googletag.cmd||[];e.invokeEventCallbacks("preset");b()}},q=new D.SubscriptionLayer,n=!1,h=function(){n||(n=!0,u.subscribeForEvent("preset",function(){q.invokeEventCallbacks("dfp")}),u.subscribeForEvent("postset",function(){q.invokeEventCallbacks("dfp")}),
f.subscribeForEvent("preset",function(){q.invokeEventCallbacks("prebid")}),f.subscribeForEvent("postset",function(){q.invokeEventCallbacks("prebid")}))};r.init=h;r.loadThirdParty=function(a){n||h();switch(a){case "dfp":u.load();break;case "prebid":f.load()}};r.addPresetCallback=function(a,d){q.subscribeForEvent(a,d)};r.addPostsetCallback=function(a,d){q.subscribeForEvent(a,d)};var f=new function(){var a=new D.SubscriptionLayer;this.subscribeForEvent=function(d,b){a.subscribeForEvent(d,b)};var d=function(){try{var a=
atob("LyogcHJlYmlkLmpzIHYyLjQ0LjgtcHJlClVwZGF0ZWQgOiAyMDIwLTA1LTE0ICovCiFmdW5jdGlvbih1KXt2YXIgcz13aW5kb3cudXBianNDaHVuazt3aW5kb3cudXBianNDaHVuaz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByLGksbyxhPTAsYz1bXTthPGUubGVuZ3RoO2ErKylpPWVbYV0sZFtpXSYmYy5wdXNoKGRbaV1bMF0pLGRbaV09MDtmb3IociBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYodVtyXT10W3JdKTtmb3IocyYmcyhlLHQsbik7Yy5sZW5ndGg7KWMuc2hpZnQoKSgpO2lmKG4pZm9yKGE9MDthPG4ubGVuZ3RoO2ErKylvPWYoZi5zPW5bYV0pO3JldHVybiBvfTt2YXIgbj17fSxkPXsyOTk6MH07ZnVuY3Rpb24gZihlKXtpZihuW2VdKXJldHVybiBuW2VdLmV4cG9ydHM7dmFyIHQ9bltlXT17aTplLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHVbZV0uY2FsbCh0LmV4cG9ydHMsdCx0LmV4cG9ydHMsZiksdC5sPSEwLHQuZXhwb3J0c31mLm09dSxmLmM9bixmLmQ9ZnVuY3Rpb24oZSx0LG4pe2YubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxmLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIGYuZCh0LCJhIix0KSx0fSxmLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LGYucD0iIixmLm9lPWZ1bmN0aW9uKGUpe3Rocm93IGNvbnNvbGUuZXJyb3IoZSksZX0sZihmLnM9NzMzKX0oezA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsImludGVybmFsIixmdW5jdGlvbigpe3JldHVybiBVfSksbi5kKHQsImJpbmQiLGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSx0LnJlcGxhY2VUb2tlbkluU3RyaW5nPWZ1bmN0aW9uKGksZSxvKXtyZXR1cm4gb2UoZSxmdW5jdGlvbihlLHQpe2U9dm9pZCAwPT09ZT8iIjplO3ZhciBuPW8rdC50b1VwcGVyQ2FzZSgpK28scj1uZXcgUmVnRXhwKG4sImciKTtpPWkucmVwbGFjZShyLGUpfSksaX0sdC5nZXRVbmlxdWVJZGVudGlmaWVyU3RyPWssdC5nZW5lcmF0ZVVVSUQ9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdD8odF5QKCk+PnQvNCkudG9TdHJpbmcoMTYpOihbMWU3XSstMWUzKy00ZTMrLThlMystMWUxMSkucmVwbGFjZSgvWzAxOF0vZyxlKX0sdC5nZXRCaWRJZFBhcmFtZXRlcj1mdW5jdGlvbihlLHQpe2lmKHQmJnRbZV0pcmV0dXJuIHRbZV07cmV0dXJuIiJ9LHQudHJ5QXBwZW5kUXVlcnlTdHJpbmc9ZnVuY3Rpb24oZSx0LG4pe2lmKG4pcmV0dXJuIGUrPXQrIj0iK2VuY29kZVVSSUNvbXBvbmVudChuKSsiJiI7cmV0dXJuIGV9LHQucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9IiI7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHQrPW4rIj0iK2VuY29kZVVSSUNvbXBvbmVudChlW25dKSsiJiIpO3JldHVybiB0fSx0LnRyYW5zZm9ybUFkU2VydmVyVGFyZ2V0aW5nT2JqPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYwPE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmxlbmd0aD9iZSh0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KGUsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHZlKHQsZSkpKX0pLmpvaW4oIiYiKToiIn0sdC5nZXRBZFVuaXRTaXplcz1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47dmFyIHQ9W107aWYoZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZBcnJheS5pc0FycmF5KGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpKXt2YXIgbj1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzO0FycmF5LmlzQXJyYXkoblswXSk/dD1uOnQucHVzaChuKX1lbHNlIEFycmF5LmlzQXJyYXkoZS5zaXplcykmJihBcnJheS5pc0FycmF5KGUuc2l6ZXNbMF0pP3Q9ZS5zaXplczp0LnB1c2goZS5zaXplcykpO3JldHVybiB0fSx0LnBhcnNlU2l6ZXNJbnB1dD1mdW5jdGlvbihlKXt2YXIgdD1bXTtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciBuPWUuc3BsaXQoIiwiKSxyPS9eKFxkKSt4KFxkKSskL2k7aWYobilmb3IodmFyIGkgaW4gbiljZShuLGkpJiZuW2ldLm1hdGNoKHIpJiZ0LnB1c2gobltpXSl9ZWxzZSBpZigib2JqZWN0Ij09PXYoZSkpe3ZhciBvPWUubGVuZ3RoO2lmKDA8bylpZigyPT09byYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV0pdC5wdXNoKE0oZSkpO2Vsc2UgZm9yKHZhciBhPTA7YTxvO2ErKyl0LnB1c2goTShlW2FdKSl9cmV0dXJuIHR9LHQucGFyc2VHUFRTaW5nbGVTaXplQXJyYXk9TSx0LnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplPWZ1bmN0aW9uKGUpe2lmKHEoZSkpcmV0dXJue3c6ZVswXSxoOmVbMV19fSx0LmdldFRvcFdpbmRvd0xvY2F0aW9uPUcsdC5nZXRUb3BGcmFtZVJlZmVycmVyPVcsdC5nZXRBbmNlc3Rvck9yaWdpbnM9TCx0LmdldFdpbmRvd1RvcD1GLHQuZ2V0V2luZG93U2VsZj16LHQuZ2V0V2luZG93TG9jYXRpb249Vix0LmdldFRvcFdpbmRvd1VybD1mdW5jdGlvbigpe3ZhciB0O3RyeXt0PVUuZ2V0VG9wV2luZG93TG9jYXRpb24oKS5ocmVmfWNhdGNoKGUpe3Q9IiJ9cmV0dXJuIHR9LHQuZ2V0VG9wV2luZG93UmVmZXJyZXI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX0sdC5sb2dNZXNzYWdlPUgsdC5sb2dJbmZvPUssdC5sb2dXYXJuPUosdC5sb2dFcnJvcj1ZLHQuaGFzQ29uc29sZUxvZ2dlcj1mdW5jdGlvbigpe3JldHVybiBDfSx0LmRlYnVnVHVybmVkT249WCx0LmNyZWF0ZUludmlzaWJsZUlmcmFtZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBlLmlkPWsoKSxlLmhlaWdodD0wLGUud2lkdGg9MCxlLmJvcmRlcj0iMHB4IixlLmhzcGFjZT0iMCIsZS52c3BhY2U9IjAiLGUubWFyZ2luV2lkdGg9IjAiLGUubWFyZ2luSGVpZ2h0PSIwIixlLnN0eWxlLmJvcmRlcj0iMCIsZS5zY3JvbGxpbmc9Im5vIixlLmZyYW1lQm9yZGVyPSIwIixlLnNyYz0iYWJvdXQ6YmxhbmsiLGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsZX0sdC5nZXRQYXJhbWV0ZXJCeU5hbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFJlZ0V4cCgiW1xcPyZdIitlKyI9KFteJiNdKikiKS5leGVjKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO3JldHVybiBudWxsIT09dD9kZWNvZGVVUklDb21wb25lbnQodFsxXS5yZXBsYWNlKC9cKy9nLCIgIikpOiIifSx0Lmhhc1ZhbGlkQmlkUmVxdWVzdD1mdW5jdGlvbihlLG4sdCl7dmFyIHI9ITE7ZnVuY3Rpb24gaShlLHQpe3Q9PT1uW29dJiYocj0hMCl9Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspaWYocj0hMSxvZShlLGkpLCFyKXJldHVybiBZKCJQYXJhbXMgYXJlIG1pc3NpbmcgZm9yIGJpZCByZXF1ZXN0LiBPbmUgb2YgdGhlc2UgcmVxdWlyZWQgcGFyYW1hdGVycyBhcmUgbWlzc2luZzogIituLHQpLCExO3JldHVybiEwfSx0LmFkZEV2ZW50SGFuZGxlcj1mdW5jdGlvbihlLHQsbil7ZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcih0LG4sITApOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9uIit0LG4pfSx0LmlzQT0kLHQuaXNGbj1aLHQuaXNTdHI9ZWUsdC5pc0FycmF5PXRlLHQuaXNOdW1iZXI9bmUsdC5pc1BsYWluT2JqZWN0PXJlLHQuaXNCb29sZWFuPWZ1bmN0aW9uKGUpe3JldHVybiAkKGUsVCl9LHQuaXNFbXB0eT1pZSx0LmlzRW1wdHlTdHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGVlKGUpJiYoIWV8fDA9PT1lLmxlbmd0aCl9LHQuX2VhY2g9b2UsdC5jb250YWlucz1mdW5jdGlvbihlLHQpe2lmKGllKGUpKXJldHVybiExO2lmKFooZS5pbmRleE9mKSlyZXR1cm4tMSE9PWUuaW5kZXhPZih0KTt2YXIgbj1lLmxlbmd0aDtmb3IoO24tLTspaWYoZVtuXT09PXQpcmV0dXJuITA7cmV0dXJuITF9LG4uZCh0LCJpbmRleE9mIixmdW5jdGlvbigpe3JldHVybiBhZX0pLHQuX21hcD1mdW5jdGlvbihuLHIpe2lmKGllKG4pKXJldHVybltdO2lmKFoobi5tYXApKXJldHVybiBuLm1hcChyKTt2YXIgaT1bXTtyZXR1cm4gb2UobixmdW5jdGlvbihlLHQpe2kucHVzaChyKGUsdCxuKSl9KSxpfSx0Lmhhc093bj1jZSx0Lmluc2VydEVsZW1lbnQ9dWUsdC50cmlnZ2VyUGl4ZWw9c2UsdC5jYWxsQnVybD1mdW5jdGlvbihlKXt2YXIgdD1lLnNvdXJjZSxuPWUuYnVybDt0PT09eS5TMlMuU1JDJiZuJiZVLnRyaWdnZXJQaXhlbChuKX0sdC5pbnNlcnRIdG1sSW50b0lmcmFtZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7dC5pZD1rKCksdC53aWR0aD0wLHQuaGVpZ2h0PTAsdC5oc3BhY2U9IjAiLHQudnNwYWNlPSIwIix0Lm1hcmdpbldpZHRoPSIwIix0Lm1hcmdpbkhlaWdodD0iMCIsdC5zdHlsZS5kaXNwbGF5PSJub25lIix0LnN0eWxlLmhlaWdodD0iMHB4Iix0LnN0eWxlLndpZHRoPSIwcHgiLHQuc2Nyb2xsaW5nPSJubyIsdC5mcmFtZUJvcmRlcj0iMCIsdC5hbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSIsVS5pbnNlcnRFbGVtZW50KHQsZG9jdW1lbnQsImJvZHkiKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQub3BlbigpLHQuY29udGVudFdpbmRvdy5kb2N1bWVudC53cml0ZShlKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKX0sdC5pbnNlcnRVc2VyU3luY0lmcmFtZT1kZSx0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiIiO2U9Zi5jKGUpO3ZhciB0PWVuY29kZVVSSShlKSxuPSc8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDt0b3A6MHB4O3Zpc2liaWxpdHk6aGlkZGVuOyI+JztyZXR1cm4gbis9JzxpbWcgc3JjPSInK3QrJyI+PC9kaXY+J30sdC5jcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbD1mZSx0LmdldElmcmFtZURvY3VtZW50PWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybjt2YXIgdDt0cnl7dD1lLmNvbnRlbnRXaW5kb3c/ZS5jb250ZW50V2luZG93LmRvY3VtZW50OmUuY29udGVudERvY3VtZW50LmRvY3VtZW50P2UuY29udGVudERvY3VtZW50LmRvY3VtZW50OmUuY29udGVudERvY3VtZW50fWNhdGNoKGUpe1UubG9nRXJyb3IoIkNhbm5vdCBnZXQgaWZyYW1lIGRvY3VtZW50IixlKX1yZXR1cm4gdH0sdC5nZXRWYWx1ZVN0cmluZz1sZSx0LnVuaXF1ZXM9cGUsdC5mbGF0dGVuPWdlLHQuZ2V0QmlkUmVxdWVzdD1mdW5jdGlvbihuLGUpe3JldHVybiBuPyhlLnNvbWUoZnVuY3Rpb24oZSl7dmFyIHQ9YygpKGUuYmlkcyxmdW5jdGlvbih0KXtyZXR1cm5bImJpZElkIiwiYWRJZCIsImJpZF9pZCJdLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV09PT1ufSl9KTtyZXR1cm4gdCYmKHI9dCksdH0pLHIpOnZvaWQgMDt2YXIgcn0sdC5nZXRLZXlzPWJlLHQuZ2V0VmFsdWU9dmUsdC5nZXRLZXlCeVZhbHVlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShuKSYmZVtuXT09PXQpcmV0dXJuIG59LHQuZ2V0QmlkZGVyQ29kZXM9ZnVuY3Rpb24oKXtyZXR1cm4oMDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnVwYmpzLmFkVW5pdHMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJ9KS5yZWR1Y2UoZ2UsW10pfSkucmVkdWNlKGdlKS5maWx0ZXIocGUpfSx0LmlzR3B0UHViYWRzRGVmaW5lZD1mdW5jdGlvbigpe2lmKHdpbmRvdy5nb29nbGV0YWcmJlood2luZG93Lmdvb2dsZXRhZy5wdWJhZHMpJiZaKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMpKXJldHVybiEwfSxuLmQodCwiZ2V0SGlnaGVzdENwbSIsZnVuY3Rpb24oKXtyZXR1cm4geWV9KSxuLmQodCwiZ2V0T2xkZXN0SGlnaGVzdENwbUJpZCIsZnVuY3Rpb24oKXtyZXR1cm4gaGV9KSxuLmQodCwiZ2V0TGF0ZXN0SGlnaGVzdENwbUJpZCIsZnVuY3Rpb24oKXtyZXR1cm4gbWV9KSx0LnNodWZmbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7Zm9yKDswPHQ7KXt2YXIgbj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdCkscj1lWy0tdF07ZVt0XT1lW25dLGVbbl09cn1yZXR1cm4gZX0sdC5hZFVuaXRzRmlsdGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoKShlLHQmJnQuYWRVbml0Q29kZSl9LHQuaXNTcmNkb2NTdXBwb3J0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVmYXVsdFZpZXcmJmUuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50JiYic3JjZG9jImluIGUuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50JiYhL2ZpcmVmb3gvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSx0LmRlZXBDbG9uZT1FZSx0LmluSWZyYW1lPUFlLHQuaXNTYWZhcmlCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sdC5yZXBsYWNlQXVjdGlvblByaWNlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wkXHtBVUNUSU9OX1BSSUNFXH0vZyx0KX0sdC50aW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdC5jaGVja0Nvb2tpZVN1cHBvcnQ9VGUsdC5jb29raWVzQXJlRW5hYmxlZD1mdW5jdGlvbigpe2lmKFUuY2hlY2tDb29raWVTdXBwb3J0KCkpcmV0dXJuITA7cmV0dXJuIHdpbmRvdy5kb2N1bWVudC5jb29raWU9InByZWJpZC5jb29raWVUZXN0IiwtMSE9d2luZG93LmRvY3VtZW50LmNvb2tpZS5pbmRleE9mKCJwcmViaWQuY29va2llVGVzdCIpfSx0LmdldENvb2tpZT1mdW5jdGlvbihlKXt2YXIgdD13aW5kb3cuZG9jdW1lbnQuY29va2llLm1hdGNoKCIoXnw7KVxccyoiK2UrIlxccyo9XFxzKihbXjtdKilcXHMqKDt8JCkiKTtyZXR1cm4gdD9kZWNvZGVVUklDb21wb25lbnQodFsyXSk6bnVsbH0sdC5zZXRDb29raWU9ZnVuY3Rpb24oZSx0LG4scil7ZG9jdW1lbnQuY29va2llPSIiLmNvbmNhdChlLCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0KSkuY29uY2F0KCIiIT09bj8iOyBleHBpcmVzPSIuY29uY2F0KG4pOiIiLCI7IHBhdGg9LyIpLmNvbmNhdChyPyI7IFNhbWVTaXRlPSIuY29uY2F0KHIpOiIiKX0sdC5sb2NhbFN0b3JhZ2VJc0VuYWJsZWQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJwcmViaWQuY29va2llVGVzdCIsIjEiKSwiMSI9PT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHJlYmlkLmNvb2tpZVRlc3QiKX1jYXRjaChlKXtyZXR1cm4hMX19LHQuZGVsYXlFeGVjdXRpb249ZnVuY3Rpb24oZSx0KXtpZih0PDEpdGhyb3cgbmV3IEVycm9yKCJudW1SZXF1aXJlZENhbGxzIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIuIEdvdCAiLmNvbmNhdCh0KSk7dmFyIG49MDtyZXR1cm4gZnVuY3Rpb24oKXsrK249PT10JiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LHQuZ3JvdXBCeT1mdW5jdGlvbihlLG4pe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybihlW3Rbbl1dPWVbdFtuXV18fFtdKS5wdXNoKHQpLGV9LHt9KX0sdC5jcmVhdGVDb250ZW50VG9FeGVjdXRlRXh0U2NyaXB0SW5GcmllbmRseUZyYW1lPWZ1bmN0aW9uKGUpe3JldHVybiBlPyc8IURPQ1RZUEUgSFRNTCBQVUJMSUMgIi0vL1czQy8vRFREIEhUTUwgNC4wMSBUcmFuc2l0aW9uYWwvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDQvbG9vc2UuZHRkIj48aHRtbD48aGVhZD48YmFzZSB0YXJnZXQ9Il90b3AiIC8+PHNjcmlwdD5pbkRhcElGPXRydWU7PFwvc2NyaXB0PjwvaGVhZD48Ym9keT5ceDNjIS0tUFJFX1NDUklQVF9UQUdfTUFDUk8tLVx4M2U8c2NyaXB0IHNyYz0iJy5jb25jYXQoZSwnIj48XC9zY3JpcHQ+XHgzYyEtLVBPU1RfU0NSSVBUX1RBR19NQUNSTy0tXHgzZTwvYm9keT48L2h0bWw+Jyk6IiJ9LHQuZ2V0RGVmaW5lZFBhcmFtcz1mdW5jdGlvbihuLGUpe3JldHVybiBlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gbltlXX0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBiKGUsZnVuY3Rpb24oZSx0LG4pe3QgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uO3JldHVybiBlfSh7fSx0LG5bdF0pKX0se30pfSx0LmlzVmFsaWRNZWRpYVR5cGVzPWZ1bmN0aW9uKGUpe3ZhciB0PVsiYmFubmVyIiwibmF0aXZlIiwidmlkZW8iXTtpZighT2JqZWN0LmtleXMoZSkuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIHMoKSh0LGUpfSkpcmV0dXJuITE7aWYoZS52aWRlbyYmZS52aWRlby5jb250ZXh0KXJldHVybiBzKCkoWyJpbnN0cmVhbSIsIm91dHN0cmVhbSIsImFkcG9kIl0sZS52aWRlby5jb250ZXh0KTtyZXR1cm4hMH0sdC5nZXRCaWRkZXJSZXF1ZXN0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYygpKGUsZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZS5iaWRzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXI9PT10JiZlLmFkVW5pdENvZGU9PT1ufSkubGVuZ3RofSl8fHtzdGFydDpudWxsLGF1Y3Rpb25JZDpudWxsfX0sdC5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvZGU9PT10fSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHN9KS5yZWR1Y2UoZ2UsW10pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXI9PT1ufSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtc3x8e319KX0sdC5nZXRPcmlnaW49ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmxvY2F0aW9uLm9yaWdpbj93aW5kb3cubG9jYXRpb24ub3JpZ2luOndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCsiLy8iK3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSsod2luZG93LmxvY2F0aW9uLnBvcnQ/IjoiK3dpbmRvdy5sb2NhdGlvbi5wb3J0OiIiKX0sdC5nZXRETlQ9ZnVuY3Rpb24oKXtyZXR1cm4iMSI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT09d2luZG93LmRvTm90VHJhY2t8fCIxIj09PW5hdmlnYXRvci5tc0RvTm90VHJhY2t8fCJ5ZXMiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t9LHQuaXNBZFVuaXRDb2RlTWF0Y2hpbmdTbG90PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gT2UodCxlKX19LHQuaXNTbG90TWF0Y2hpbmdBZFVuaXRDb2RlPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gT2UoZSx0KX19LHQudW5zdXBwb3J0ZWRCaWRkZXJNZXNzYWdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZS5tZWRpYVR5cGVzfHx7YmFubmVyOiJiYW5uZXIifSkuam9pbigiLCAiKTtyZXR1cm4iXG4gICAgIi5jb25jYXQoZS5jb2RlLCIgaXMgYSAiKS5jb25jYXQobiwiIGFkIHVuaXRcbiAgICBjb250YWluaW5nIGJpZGRlcnMgdGhhdCBkb24ndCBzdXBwb3J0ICIpLmNvbmNhdChuLCI6ICIpLmNvbmNhdCh0LCIuXG4gICAgVGhpcyBiaWRkZXIgd29uJ3QgZmV0Y2ggZGVtYW5kLlxuICAiKX0sdC5kZWxldGVQcm9wZXJ0eUZyb21PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj1iKHt9LGUpO3JldHVybiBkZWxldGUgblt0XSxufSx0LmlzSW50ZWdlcj1JZSx0LmNvbnZlcnRDYW1lbFRvVW5kZXJzY29yZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8oPzpefFwuPykoW0EtWl0pL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4iXyIrdC50b0xvd2VyQ2FzZSgpfSkucmVwbGFjZSgvXl8vLCIiKX0sdC5jbGVhbk9iaj1mdW5jdGlvbihuKXtyZXR1cm4gT2JqZWN0LmtleXMobikucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMCE9PW5bdF0mJihlW3RdPW5bdF0pLGV9LHt9KX0sdC5waWNrPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIm9iamVjdCI9PT12KGEpP2MucmVkdWNlKGZ1bmN0aW9uKGUsdCxuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClyZXR1cm4gZTt2YXIgcj10LGk9dC5tYXRjaCgvXiguKz8pXHNhc1xzKC4rPykkL2kpO2kmJih0PWlbMV0scj1pWzJdKTt2YXIgbz1hW3RdO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBjW24rMV0mJihvPWNbbisxXShvLGUpKSx2b2lkIDAhPT1vJiYoZVtyXT1vKSxlfSx7fSk6e319LHQudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3Jkcz1mdW5jdGlvbihlKXt2YXIgcj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ImtleXdvcmRzIixpPVtdO3JldHVybiBvZShlLGZ1bmN0aW9uKGUsdCl7aWYodGUoZSkpe3ZhciBuPVtdO29lKGUsZnVuY3Rpb24oZSl7IShlPWxlKHIrIi4iK3QsZSkpJiYiIiE9PWV8fG4ucHVzaChlKX0pLGU9bn1lbHNle2lmKCFlZShlPWxlKHIrIi4iK3QsZSkpKXJldHVybjtlPVtlXX1pLnB1c2goe2tleTp0LHZhbHVlOmV9KX0pLGl9LHQuY29udmVydFR5cGVzPWZ1bmN0aW9uKHIsaSl7cmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbjtpW2VdJiYoWihyW2VdKT9pW2VdPXJbZV0oaVtlXSk6aVtlXT0odD1yW2VdLG49aVtlXSwic3RyaW5nIj09PXQ/biYmbi50b1N0cmluZygpOiJudW1iZXIiPT09dD9OdW1iZXIobik6biksaXNOYU4oaVtlXSkmJmRlbGV0ZSBpLmtleSl9KSxpfSx0LnNldERhdGFJbkxvY2FsU3RvcmFnZT1mdW5jdGlvbihlLHQpe3dlKCkmJndpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLHQpfSx0LmdldERhdGFGcm9tTG9jYWxTdG9yYWdlPWZ1bmN0aW9uKGUpe2lmKHdlKCkpcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKX0sdC5yZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZT1mdW5jdGlvbihlKXt3ZSgpJiZ3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSl9LHQuaGFzTG9jYWxTdG9yYWdlPXdlLHQuaXNBcnJheU9mTnVtcz1mdW5jdGlvbihlLHQpe3JldHVybiB0ZShlKSYmKCF0fHxlLmxlbmd0aD09PXQpJiZlLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBJZShlKX0pfSx0LmZpbGw9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wO3I8dDtyKyspe3ZhciBpPXJlKGUpP0VlKGUpOmU7bi5wdXNoKGkpfXJldHVybiBufSx0LmNodW5rPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPE1hdGguY2VpbChlLmxlbmd0aC90KTtyKyspe3ZhciBpPXIqdCxvPWkrdDtuLnB1c2goZS5zbGljZShpLG8pKX1yZXR1cm4gbn0sdC5nZXRNaW5WYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxnKGUpKX0sdC5nZXRNYXhWYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxnKGUpKX0sdC5jb21wYXJlT249ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbbl08dFtuXT8xOmVbbl0+dFtuXT8tMTowfX07dmFyIHI9bigzKSxpPW4oMTE5KSxvPW4ubihpKSxhPW4oMTIpLGM9bi5uKGEpLHU9bigxMSkscz1uLm4odSksZD1uKDkpLGY9bigzMSksbD1uKDEyMCk7bi5kKHQsImRlZXBBY2Nlc3MiLGZ1bmN0aW9uKCl7cmV0dXJuIGwuYX0pO3ZhciBwPW4oMTIxKTtmdW5jdGlvbiBnKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0Kyspblt0XT1lW3RdO3JldHVybiBufX0oZSl8fGZ1bmN0aW9uKGUpe2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpfWZ1bmN0aW9uIGIoKXtyZXR1cm4oYj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHYoZSl7cmV0dXJuKHY9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1uLmQodCwiZGVlcFNldFZhbHVlIixmdW5jdGlvbigpe3JldHVybiBwLmF9KTt2YXIgeT1uKDQpLGg9IkFycmF5IixtPSJTdHJpbmciLFM9IkZ1bmN0aW9uIixFPSJOdW1iZXIiLEE9Ik9iamVjdCIsVD0iQm9vbGVhbiIsTz1bXSxJPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsdz1Cb29sZWFuKHdpbmRvdy5jb25zb2xlKSxDPUJvb2xlYW4odyYmd2luZG93LmNvbnNvbGUubG9nKSxqPUJvb2xlYW4odyYmd2luZG93LmNvbnNvbGUuaW5mbyksXz1Cb29sZWFuKHcmJndpbmRvdy5jb25zb2xlLndhcm4pLEI9Qm9vbGVhbih3JiZ3aW5kb3cuY29uc29sZS5lcnJvciksVT17Y2hlY2tDb29raWVTdXBwb3J0OlRlLGNyZWF0ZVRyYWNrUGl4ZWxJZnJhbWVIdG1sOmZlLGdldFdpbmRvd1NlbGY6eixnZXRXaW5kb3dUb3A6RixnZXRBbmNlc3Rvck9yaWdpbnM6TCxnZXRUb3BGcmFtZVJlZmVycmVyOlcsZ2V0V2luZG93TG9jYXRpb246VixnZXRUb3BXaW5kb3dMb2NhdGlvbjpHLGluc2VydFVzZXJTeW5jSWZyYW1lOmRlLGluc2VydEVsZW1lbnQ6dWUsaXNGbjpaLHRyaWdnZXJQaXhlbDpzZSxsb2dFcnJvcjpZLGxvZ1dhcm46Sixsb2dNZXNzYWdlOkgsbG9nSW5mbzpLfSxSPXt9LHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0uYmluZChudWxsLDEsUikoKT09PVI/RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLG4uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpKX19O3ZhciBELE49KEQ9MCxmdW5jdGlvbigpe3JldHVybisrRH0pO2Z1bmN0aW9uIGsoKXtyZXR1cm4gTigpK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cigyKX1mdW5jdGlvbiBQKCl7cmV0dXJuIHdpbmRvdyYmd2luZG93LmNyeXB0byYmd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXM/Y3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0lMTY6MTYqTWF0aC5yYW5kb20oKX1mdW5jdGlvbiBNKGUpe2lmKHEoZSkpcmV0dXJuIGVbMF0rIngiK2VbMV19ZnVuY3Rpb24gcShlKXtyZXR1cm4gdGUoZSkmJjI9PT1lLmxlbmd0aCYmIWlzTmFOKGVbMF0pJiYhaXNOYU4oZVsxXSl9ZnVuY3Rpb24gRygpe2lmKEFlKCkpe3ZhciBlO3RyeXtlPVUuZ2V0QW5jZXN0b3JPcmlnaW5zKCl8fFUuZ2V0VG9wRnJhbWVSZWZlcnJlcigpfWNhdGNoKGUpe0soImNvdWxkIG5vdCBvYnRhaW4gdG9wIHdpbmRvdyBsb2NhdGlvbiIsZSl9aWYoZSlyZXR1cm4gT2JqZWN0KGQuYykoZSx7ZGVjb2RlU2VhcmNoQXNTdHJpbmc6ITB9KX1yZXR1cm4gVS5nZXRXaW5kb3dMb2NhdGlvbigpfWZ1bmN0aW9uIFcoKXt0cnl7d2luZG93LnRvcC5sb2NhdGlvbi50b1N0cmluZygpO2Zvcih2YXIgZSx0PSIiOyhlPWU/ZS5wYXJlbnQ6d2luZG93KS5kb2N1bWVudCYmZS5kb2N1bWVudC5yZWZlcnJlciYmKHQ9ZS5kb2N1bWVudC5yZWZlcnJlciksZSE9PXdpbmRvdy50b3A7KTtyZXR1cm4gdH1jYXRjaChlKXtyZXR1cm4gd2luZG93LmRvY3VtZW50LnJlZmVycmVyfX1mdW5jdGlvbiBMKCl7aWYod2luZG93LmRvY3VtZW50LmxvY2F0aW9uJiZ3aW5kb3cuZG9jdW1lbnQubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zJiYxPD13aW5kb3cuZG9jdW1lbnQubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zLmxlbmd0aClyZXR1cm4gd2luZG93LmRvY3VtZW50LmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2luc1t3aW5kb3cuZG9jdW1lbnQubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zLmxlbmd0aC0xXX1mdW5jdGlvbiBGKCl7cmV0dXJuIHdpbmRvdy50b3B9ZnVuY3Rpb24geigpe3JldHVybiB3aW5kb3cuc2VsZn1mdW5jdGlvbiBWKCl7cmV0dXJuIHdpbmRvdy5sb2NhdGlvbn1mdW5jdGlvbiBIKCl7WCgpJiZDJiZjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLFEoYXJndW1lbnRzLCJNRVNTQUdFOiIpKX1mdW5jdGlvbiBLKCl7WCgpJiZqJiZjb25zb2xlLmluZm8uYXBwbHkoY29uc29sZSxRKGFyZ3VtZW50cywiSU5GTzoiKSl9ZnVuY3Rpb24gSigpe1goKSYmXyYmY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsUShhcmd1bWVudHMsIldBUk5JTkc6IikpfWZ1bmN0aW9uIFkoKXtYKCkmJkImJmNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSxRKGFyZ3VtZW50cywiRVJST1I6IikpfWZ1bmN0aW9uIFEoZSx0KXtyZXR1cm4gZT1bXS5zbGljZS5jYWxsKGUpLHQmJmUudW5zaGlmdCh0KSxlLnVuc2hpZnQoImRpc3BsYXk6IGlubGluZS1ibG9jazsgY29sb3I6ICNmZmY7IGJhY2tncm91bmQ6ICMzYjg4YzM7IHBhZGRpbmc6IDFweCA0cHg7IGJvcmRlci1yYWRpdXM6IDNweDsiKSxlLnVuc2hpZnQoIiVjUHJlYmlkIiksZX1mdW5jdGlvbiBYKCl7cmV0dXJuISFyLmIuZ2V0Q29uZmlnKCJkZWJ1ZyIpfWZ1bmN0aW9uICQoZSx0KXtyZXR1cm4gSS5jYWxsKGUpPT09IltvYmplY3QgIit0KyJdIn1mdW5jdGlvbiBaKGUpe3JldHVybiAkKGUsUyl9ZnVuY3Rpb24gZWUoZSl7cmV0dXJuICQoZSxtKX1mdW5jdGlvbiB0ZShlKXtyZXR1cm4gJChlLGgpfWZ1bmN0aW9uIG5lKGUpe3JldHVybiAkKGUsRSl9ZnVuY3Rpb24gcmUoZSl7cmV0dXJuICQoZSxBKX1mdW5jdGlvbiBpZShlKXtpZighZSlyZXR1cm4hMDtpZih0ZShlKXx8ZWUoZSkpcmV0dXJuISgwPGUubGVuZ3RoKTtmb3IodmFyIHQgaW4gZSlpZihoYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gb2UoZSx0KXtpZighaWUoZSkpe2lmKFooZS5mb3JFYWNoKSlyZXR1cm4gZS5mb3JFYWNoKHQsdGhpcyk7dmFyIG49MCxyPWUubGVuZ3RoO2lmKDA8cilmb3IoO248cjtuKyspdChlW25dLG4sZSk7ZWxzZSBmb3IobiBpbiBlKWhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jYWxsKHRoaXMsZVtuXSxuKX19dmFyIGFlPWZ1bmN0aW9uKCl7aWYoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mfSgpO2Z1bmN0aW9uIGNlKGUsdCl7cmV0dXJuIGUuaGFzT3duUHJvcGVydHk/ZS5oYXNPd25Qcm9wZXJ0eSh0KTp2b2lkIDAhPT1lW3RdJiZlLmNvbnN0cnVjdG9yLnByb3RvdHlwZVt0XSE9PWVbdF19ZnVuY3Rpb24gdWUoZSx0LG4scil7dmFyIGk7dD10fHxkb2N1bWVudCxpPW4/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKTp0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIik7dHJ5e2lmKChpPWkubGVuZ3RoP2k6dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpKS5sZW5ndGgpe2Uuc3JjPWYuYyhlLnNyYyksaT1pWzBdO3ZhciBvPXI/bnVsbDppLmZpcnN0Q2hpbGQ7cmV0dXJuIGkuaW5zZXJ0QmVmb3JlKGUsbyl9fWNhdGNoKGUpe319ZnVuY3Rpb24gc2UodCxyKXt2YXIgZSxuPWYuYSgpO3Q9Zi5jKHQpO3RyeXtuP24uY29udGVudFdpbmRvdy5kb2N1bWVudCYmKGU9bmV3IG4uY29udGVudFdpbmRvdy5JbWFnZSk6ZT1uZXcgSW1hZ2UsZSYmKHImJlUuaXNGbihyKSYmKGUuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsciksZS5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIscikpLGUuc3JjPXQpfWNhdGNoKGUpe2lmKDA8PW4uc3JjLmluZGV4T2YoIm1yYi51cGFwaS5uZXQvc2FmZUZyYW1lLmh0bWwiKSl7dmFyIGk9ZnVuY3Rpb24gZSh0KXt2YXIgbjt0cnl7bj1KU09OLnBhcnNlKHQuZGF0YSl9Y2F0Y2goZSl7fW4mJiJkb25lVHJpZ2dlcmluZ1BpeGVsIj09bi50eXBlJiYod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGUpLHImJlUuaXNGbihyKSYmcigpKX07d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGkpO3ZhciBvPSJsZXQgaW1nID0gbmV3IEltYWdlKCk7IGZ1bmN0aW9uIGRvbmUoKSB7IHRvcC5wb3N0TWVzc2FnZSh7IHR5cGU6IFwiZG9uZVRyaWdnZXJpbmdQaXhlbFwiIH0sIFwiKlwiKSB9OyBpbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvbmUpOyBpbWcuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBkb25lKTsgaW1nLnNyYyA9ICciK3QrIic7IjtuLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe3R5cGU6ImV2YWwiLGNvZGU6b30sIioiKX19fWZ1bmN0aW9uIGRlKGUsdCl7dHJ5e2lmKCFlfHwtMTxPLmluZGV4T2YoZSkpcmV0dXJufWNhdGNoKGUpe31PLnB1c2goZSk7dmFyIG49VS5jcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbChlLCExLCJhbGxvdy1zY3JpcHRzIGFsbG93LXNhbWUtb3JpZ2luIikscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpPWYuYSgpO3IuaW5uZXJIVE1MPW47dmFyIG89ci5maXJzdENoaWxkO2lmKHQmJlUuaXNGbih0KSYmKG8uYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsdCksby5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsdCkpLGkmJmkuY29udGVudFdpbmRvdy5kb2N1bWVudCl7dmFyIGE9aS5jb250ZW50V2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2kuY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5PyhpLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKSxhLmFwcGVuZENoaWxkKG8pKTppLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGZ1bmN0aW9uKCl7aS5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSksYS5hcHBlbmRDaGlsZChvKX0pfWVsc2Ugby5zcmM9Zi5jKG8uc3JjKSxVLmluc2VydEVsZW1lbnQobyxkb2N1bWVudCwiaHRtbCIsITApfWZ1bmN0aW9uIGZlKGUpe3ZhciB0PTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToiIjtyZXR1cm4gZT8oKCEoMTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0pJiYoZT1lbmNvZGVVUkkoZSkpLHQ9dCYmJ3NhbmRib3g9IicuY29uY2F0KHQsJyInKSwiPGlmcmFtZSAiLmNvbmNhdCh0LCcgaWQ9IicpLmNvbmNhdChrKCksJyJcbiAgICAgIGZyYW1lYm9yZGVyPSIwIlxuICAgICAgYWxsb3d0cmFuc3BhcmVuY3k9InRydWUiXG4gICAgICBtYXJnaW5oZWlnaHQ9IjAiIG1hcmdpbndpZHRoPSIwIlxuICAgICAgd2lkdGg9IjAiIGhzcGFjZT0iMCIgdnNwYWNlPSIwIiBoZWlnaHQ9IjAiXG4gICAgICBzdHlsZT0iaGVpZ2h0OjBweDt3aWR0aDowcHg7ZGlzcGxheTpub25lOyJcbiAgICAgIHNjcm9sbGluZz0ibm8iXG4gICAgICBzcmM9IicpLmNvbmNhdChlLCciPlxuICAgIDwvaWZyYW1lPicpKToiIn1mdW5jdGlvbiBsZShlLHQsbil7cmV0dXJuIG51bGw9PXQ/bjplZSh0KT90Om5lKHQpP3QudG9TdHJpbmcoKTp2b2lkIFUubG9nV2FybigiVW5zdXBvcnRlZCB0eXBlIGZvciBwYXJhbTogIitlKyIgcmVxdWlyZWQgdHlwZTogU3RyaW5nIil9ZnVuY3Rpb24gcGUoZSx0LG4pe3JldHVybiBuLmluZGV4T2YoZSk9PT10fWZ1bmN0aW9uIGdlKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfWZ1bmN0aW9uIGJlKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKX1mdW5jdGlvbiB2ZShlLHQpe3JldHVybiBlW3RdfXZhciB5ZT1TZSgidGltZVRvUmVzcG9uZCIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdDxlfSksaGU9U2UoInJlc3BvbnNlVGltZXN0YW1wIixmdW5jdGlvbihlLHQpe3JldHVybiB0PGV9KSxtZT1TZSgicmVzcG9uc2VUaW1lc3RhbXAiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU8dH0pO2Z1bmN0aW9uIFNlKG4scil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY3BtPT09dC5jcG0/cihlW25dLHRbbl0pP3Q6ZTplLmNwbTx0LmNwbT90OmV9fWZ1bmN0aW9uIEVlKGUpe3JldHVybiBvKCkoZSl9ZnVuY3Rpb24gQWUoKXt0cnl7cmV0dXJuIFUuZ2V0V2luZG93U2VsZigpIT09VS5nZXRXaW5kb3dUb3AoKX1jYXRjaChlKXtyZXR1cm4hMH19ZnVuY3Rpb24gVGUoKXtpZih3aW5kb3cubmF2aWdhdG9yLmNvb2tpZUVuYWJsZWR8fGRvY3VtZW50LmNvb2tpZS5sZW5ndGgpcmV0dXJuITB9dmFyIE9lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZ2V0QWRVbml0UGF0aCgpPT09dHx8ZS5nZXRTbG90RWxlbWVudElkKCk9PT10fTtmdW5jdGlvbiBJZShlKXtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcj9OdW1iZXIuaXNJbnRlZ2VyKGUpOiJudW1iZXIiPT10eXBlb2YgZSYmaXNGaW5pdGUoZSkmJk1hdGguZmxvb3IoZSk9PT1lfWZ1bmN0aW9uIHdlKCl7dHJ5e3JldHVybiEhd2luZG93LmxvY2FsU3RvcmFnZX1jYXRjaChlKXtZKCJMb2NhbCBzdG9yYWdlIGFwaSBkaXNhYmxlZCIpfX19LDE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5yZWdpc3RlckJpZGRlcj1mdW5jdGlvbih0KXt2YXIgbj1BcnJheS5pc0FycmF5KHQuc3VwcG9ydGVkTWVkaWFUeXBlcyk/e3N1cHBvcnRlZE1lZGlhVHlwZXM6dC5zdXBwb3J0ZWRNZWRpYVR5cGVzfTp2b2lkIDA7ZnVuY3Rpb24gcihlKXt2YXIgdD1JKGUpO2EuZGVmYXVsdC5yZWdpc3RlckJpZEFkYXB0ZXIodCxlLmNvZGUsbil9cih0KSxBcnJheS5pc0FycmF5KHQuYWxpYXNlcykmJnQuYWxpYXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2EuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2VdPXQuY29kZSxyKEEoe30sdCx7Y29kZTplfSkpfSl9LHQubmV3QmlkZGVyPUksdC5wcmVsb2FkQmlkZGVyTWFwcGluZ0ZpbGU9dyx0LmdldElhYlN1YkNhdGVnb3J5PWZ1bmN0aW9uKHQsZSl7dmFyIG49YS5kZWZhdWx0LmdldEJpZEFkYXB0ZXIodCk7aWYobi5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKXt2YXIgcj1uLmdldFNwZWMoKS5nZXRNYXBwaW5nRmlsZUluZm8oKSxpPXIubG9jYWxTdG9yYWdlS2V5P3IubG9jYWxTdG9yYWdlS2V5Om4uZ2V0QmlkZGVyQ29kZSgpLG89T2JqZWN0KG0uZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UpKGkpO2lmKG8pe3RyeXtvPUpTT04ucGFyc2Uobyl9Y2F0Y2goZSl7T2JqZWN0KG0ubG9nRXJyb3IpKCJGYWlsZWQgdG8gcGFyc2UgIi5jb25jYXQodCwiIG1hcHBpbmcgZGF0YSBzdG9yZWQgaW4gbG9jYWwgc3RvcmFnZSIpKX1yZXR1cm4gby5tYXBwaW5nW2VdP28ubWFwcGluZ1tlXTpudWxsfX19LHQuaXNWYWxpZD1DO3ZhciByPW4oNTUpLGE9big3KSxvPW4oMyksdj1uKDIzKSxjPW4oMzMpLHU9bigyNykscz1uKDM0KSxpPW4oNCkseT1uLm4oaSksZD1uKDgpLGg9bi5uKGQpLGY9bigxMSksbD1uLm4oZikscD1uKDUpLG09bigwKSxnPW4oMiksYj1uKDEzKTtmdW5jdGlvbiBTKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpKXJldHVybjt2YXIgbj1bXSxyPSEwLGk9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgYSxjPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0oYT1jLm5leHQoKSkuZG9uZSkmJihuLnB1c2goYS52YWx1ZSksIXR8fG4ubGVuZ3RoIT09dCk7cj0hMCk7fWNhdGNoKGUpe2k9ITAsbz1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1yZXR1cm4gbn0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9ZnVuY3Rpb24gRShlKXtyZXR1cm4oRT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIEEoKXtyZXR1cm4oQT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBUPVsicmVxdWVzdElkIiwiY3BtIiwidHRsIiwiY3JlYXRpdmVJZCIsIm5ldFJldmVudWUiLCJjdXJyZW5jeSJdLE89MTtmdW5jdGlvbiBJKHApe3JldHVybiBBKG5ldyByLmEocC5jb2RlKSx7Z2V0U3BlYzpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZnJlZXplKHApfSxyZWdpc3RlclN5bmNzOmcsY2FsbEJpZHM6ZnVuY3Rpb24obyxhLGUsbixjLHIpe2lmKEFycmF5LmlzQXJyYXkoby5iaWRzKSl7dmFyIHU9e30scz1bXSx0PW8uYmlkcy5maWx0ZXIoYik7aWYoMCE9PXQubGVuZ3RoKXt2YXIgZD17fTt0LmZvckVhY2goZnVuY3Rpb24oZSl7KGRbZS5iaWRJZF09ZSkuYWRVbml0Q29kZXx8KGUuYWRVbml0Q29kZT1lLnBsYWNlbWVudENvZGUpfSk7dmFyIGk9cC5idWlsZFJlcXVlc3RzKHQsbyk7aWYoaSYmMCE9PWkubGVuZ3RoKXtBcnJheS5pc0FycmF5KGkpfHwoaT1baV0pO3ZhciBmPU9iamVjdChtLmRlbGF5RXhlY3V0aW9uKShyKGwpLGkubGVuZ3RoKTtpLmZvckVhY2goZnVuY3Rpb24oaSl7c3dpdGNoKGkubWV0aG9kKXtjYXNlIkdFVCI6bigiIi5jb25jYXQoaS51cmwpLmNvbmNhdChmdW5jdGlvbihlKXtpZihlKXJldHVybiI/Ii5jb25jYXQoIm9iamVjdCI9PT1FKGUpP09iamVjdChtLnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKShlKTplKTtyZXR1cm4iIn0oaS5kYXRhKSkse3N1Y2Nlc3M6cihlKSxlcnJvcjp0fSx2b2lkIDAsQSh7bWV0aG9kOiJHRVQiLHdpdGhDcmVkZW50aWFsczohMH0saS5vcHRpb25zKSk7YnJlYWs7Y2FzZSJQT1NUIjpuKGkudXJsLHtzdWNjZXNzOnIoZSksZXJyb3I6dH0sInN0cmluZyI9PXR5cGVvZiBpLmRhdGE/aS5kYXRhOkpTT04uc3RyaW5naWZ5KGkuZGF0YSksQSh7bWV0aG9kOiJQT1NUIixjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSxpLm9wdGlvbnMpKTticmVhaztkZWZhdWx0Ok9iamVjdChtLmxvZ1dhcm4pKCJTa2lwcGluZyBpbnZhbGlkIHJlcXVlc3QgZnJvbSAiLmNvbmNhdChwLmNvZGUsIi4gUmVxdWVzdCB0eXBlICIpLmNvbmNhdChpLnR5cGUsIiBtdXN0IGJlIEdFVCBvciBQT1NUIikpLGYoKX1mdW5jdGlvbiBlKGUsdCl7YyhwLmNvZGUpO3RyeXtlPUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7fXZhciBuO2U9e2JvZHk6ZSxoZWFkZXJzOntnZXQ6dC5nZXRSZXNwb25zZUhlYWRlci5iaW5kKHQpfX0scy5wdXNoKGUpO3RyeXtuPXAuaW50ZXJwcmV0UmVzcG9uc2UoZSxpKX1jYXRjaChlKXtyZXR1cm4gT2JqZWN0KG0ubG9nRXJyb3IpKCJCaWRkZXIgIi5jb25jYXQocC5jb2RlLCIgZmFpbGVkIHRvIGludGVycHJldCB0aGUgc2VydmVyJ3MgcmVzcG9uc2UuIENvbnRpbnVpbmcgd2l0aG91dCBiaWRzIiksbnVsbCxlKSx2b2lkIGYoKX1mdW5jdGlvbiByKGUpe3ZhciB0LG4scj1kW2UucmVxdWVzdElkXTtpZihyKXtlLm9yaWdpbmFsQ3BtPWUuY3BtLGUub3JpZ2luYWxDdXJyZW5jeT1lLmN1cnJlbmN5O3ZhciBpPUEoT2JqZWN0KHYuYSkoeS5hLlNUQVRVUy5HT09ELHIpLGUpO3Q9ci5hZFVuaXRDb2RlLG49aSx1W3RdPSEwLEModCxuLFtvXSkmJmEodCxuKX1lbHNlIE9iamVjdChtLmxvZ1dhcm4pKCJCaWRkZXIgIi5jb25jYXQocC5jb2RlLCIgbWFkZSBiaWQgZm9yIHVua25vd24gcmVxdWVzdCBJRDogIikuY29uY2F0KGUucmVxdWVzdElkLCIuIElnbm9yaW5nLiIpKX1uJiYoT2JqZWN0KG0uaXNBcnJheSkobik/bi5mb3JFYWNoKHIpOnIobikpLGYobil9ZnVuY3Rpb24gdChlKXtjKHAuY29kZSksT2JqZWN0KG0ubG9nRXJyb3IpKCJTZXJ2ZXIgY2FsbCBmb3IgIi5jb25jYXQocC5jb2RlLCIgZmFpbGVkOiAiKS5jb25jYXQoZSwiLiBDb250aW51aW5nIHdpdGhvdXQgYmlkcy4iKSksZigpfX0pfWVsc2UgbCgpfWVsc2UgbCgpfWZ1bmN0aW9uIGwoKXtlKCksaC5hLmVtaXQoeS5hLkVWRU5UUy5CSURERVJfRE9ORSxvKSxnKHMsby5nZHByQ29uc2VudCxvLnVzcENvbnNlbnQpfX19KTtmdW5jdGlvbiBnKGUsdCxuKXtpZihwLmdldFVzZXJTeW5jcyYmIWEuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W3AuY29kZV0pe3ZhciByPW8uYi5nZXRDb25maWcoInVzZXJTeW5jLmZpbHRlclNldHRpbmdzIiksaT1wLmdldFVzZXJTeW5jcyh7aWZyYW1lRW5hYmxlZDohIShvLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYy5pZnJhbWVFbmFibGVkIil8fHImJihyLmlmcmFtZXx8ci5hbGwpKSxwaXhlbEVuYWJsZWQ6ISEoby5iLmdldENvbmZpZygidXNlclN5bmMucGl4ZWxFbmFibGVkIil8fHImJihyLmltYWdlfHxyLmFsbCkpfSxlLHQsbik7aSYmKEFycmF5LmlzQXJyYXkoaSl8fChpPVtpXSksaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2MuYS5yZWdpc3RlclN5bmMoZS50eXBlLHAuY29kZSxlLnVybCl9KSl9fWZ1bmN0aW9uIGIoZSl7cmV0dXJuISFwLmlzQmlkUmVxdWVzdFZhbGlkKGUpfHwoT2JqZWN0KG0ubG9nV2FybikoIkludmFsaWQgYmlkIHNlbnQgdG8gYmlkZGVyICIuY29uY2F0KHAuY29kZSwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSkpKSwhMSl9fWZ1bmN0aW9uIHcoZSx0KXtpZighby5iLmdldENvbmZpZygiYWRwb2QuYnJhbmRDYXRlZ29yeUV4Y2x1c2lvbiIpKXJldHVybiBlLmNhbGwodGhpcyx0KTt0LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG0uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik9PT1nLmF9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSl9KS5yZWR1Y2UobS5mbGF0dGVuLFtdKS5maWx0ZXIobS51bmlxdWVzKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBlPWEuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKG4pO2lmKGUuZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbyl7dmFyIHQ9ZS5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKCkscj10LnJlZnJlc2hJbkRheXM/dC5yZWZyZXNoSW5EYXlzOk8saT10LmxvY2FsU3RvcmFnZUtleT90LmxvY2FsU3RvcmFnZUtleTplLmdldFNwZWMoKS5jb2RlLG89T2JqZWN0KG0uZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UpKGkpOyghb3x8T2JqZWN0KG0udGltZXN0YW1wKSgpPG8ubGFzdFVwZGF0ZWQrMjQqcio2MCo2MCoxZTMpJiZPYmplY3QocC5hKSh0LnVybCx7c3VjY2VzczpmdW5jdGlvbihlKXt0cnl7ZT1KU09OLnBhcnNlKGUpO3ZhciB0PXtsYXN0VXBkYXRlZDpPYmplY3QobS50aW1lc3RhbXApKCksbWFwcGluZzplLm1hcHBpbmd9O09iamVjdChtLnNldERhdGFJbkxvY2FsU3RvcmFnZSkoaSxKU09OLnN0cmluZ2lmeSh0KSl9Y2F0Y2goZSl7T2JqZWN0KG0ubG9nRXJyb3IpKCJGYWlsZWQgdG8gcGFyc2UgIi5jb25jYXQobiwiIGJpZGRlciB0cmFuc2xhdGlvbiBtYXBwaW5nIGZpbGUiKSl9fSxlcnJvcjpmdW5jdGlvbigpe09iamVjdChtLmxvZ0Vycm9yKSgiRmFpbGVkIHRvIGxvYWQgIi5jb25jYXQobiwiIGJpZGRlciB0cmFuc2xhdGlvbiBmaWxlIikpfX0pfX0pLGUuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIEMoZSx0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIkludmFsaWQgYmlkIGZyb20gIi5jb25jYXQodC5iaWRkZXJDb2RlLCIuIElnbm9yaW5nIGJpZDogIikuY29uY2F0KGUpfXJldHVybiBlP3Q/KGk9T2JqZWN0LmtleXModCksVC5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gbCgpKGksZSkmJiFsKCkoW3ZvaWQgMCxudWxsXSx0W2VdKX0pPyJuYXRpdmUiIT09dC5tZWRpYVR5cGV8fE9iamVjdCh1LmYpKHQsbik/InZpZGVvIiE9PXQubWVkaWFUeXBlfHxPYmplY3Qocy5kKSh0LG4pPyEoImJhbm5lciI9PT10Lm1lZGlhVHlwZSYmIWZ1bmN0aW9uKGUsdCxuKXtpZigodC53aWR0aHx8MD09PXBhcnNlSW50KHQud2lkdGgsMTApKSYmKHQuaGVpZ2h0fHwwPT09cGFyc2VJbnQodC5oZWlnaHQsMTApKSlyZXR1cm4gdC53aWR0aD1wYXJzZUludCh0LndpZHRoLDEwKSx0LmhlaWdodD1wYXJzZUludCh0LmhlaWdodCwxMCksITA7dmFyIHI9T2JqZWN0KG0uZ2V0QmlkZGVyUmVxdWVzdCkobix0LmJpZGRlckNvZGUsZSksaT1yJiZyLmJpZHMmJnIuYmlkc1swXSYmci5iaWRzWzBdLnNpemVzLG89T2JqZWN0KG0ucGFyc2VTaXplc0lucHV0KShpKTtpZigxIT09by5sZW5ndGgpcmV0dXJuITE7dmFyIGE9UyhvWzBdLnNwbGl0KCJ4IiksMiksYz1hWzBdLHU9YVsxXTtyZXR1cm4gdC53aWR0aD1wYXJzZUludChjLDEwKSx0LmhlaWdodD1wYXJzZUludCh1LDEwKSwhMH0oZSx0LG4pKXx8KE9iamVjdChtLmxvZ0Vycm9yKShyKCJCYW5uZXIgYmlkcyByZXF1aXJlIGEgd2lkdGggYW5kIGhlaWdodCIpKSwhMSk6KE9iamVjdChtLmxvZ0Vycm9yKShyKCJWaWRlbyBiaWQgZG9lcyBub3QgaGF2ZSByZXF1aXJlZCB2YXN0VXJsIG9yIHJlbmRlcmVyIHByb3BlcnR5IikpLCExKTooT2JqZWN0KG0ubG9nRXJyb3IpKHIoIk5hdGl2ZSBiaWQgbWlzc2luZyBzb21lIHJlcXVpcmVkIHByb3BlcnRpZXMuIikpLCExKTooT2JqZWN0KG0ubG9nRXJyb3IpKHIoIkJpZGRlciAiLmNvbmNhdCh0LmJpZGRlckNvZGUsIiBpcyBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtcy4gQ2hlY2sgaHR0cDovL3ByZWJpZC5vcmcvZGV2LWRvY3MvYmlkZGVyLWFkYXB0ZXItMS5odG1sIGZvciBsaXN0IG9mIHBhcmFtcy4iKSkpLCExKSk6KE9iamVjdChtLmxvZ1dhcm4pKCJTb21lIGFkYXB0ZXIgdHJpZWQgdG8gYWRkIGFuIHVuZGVmaW5lZCBiaWQgZm9yICIuY29uY2F0KGUsIi4iKSksITEpOihPYmplY3QobS5sb2dXYXJuKSgiTm8gYWRVbml0Q29kZSB3YXMgc3VwcGxpZWQgdG8gYWRkQmlkUmVzcG9uc2UuIiksITEpO3ZhciBpfU9iamVjdChiLmEpKCJjaGVja0FkVW5pdFNldHVwIikuYmVmb3JlKHcpfSwxMDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1pLHQuYz1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS51cmwpfSx0LmI9ZnVuY3Rpb24oZSx0KXtlLnJlbmRlcih0KX07dmFyIGY9bigzNSksbD1uKDApLHI9bigxMikscD1uLm4ocik7ZnVuY3Rpb24gaShlKXt2YXIgdCxuLHIsaT10aGlzLG89ZS51cmwsYT1lLmNvbmZpZyxjPWUuaWQsdT1lLmNhbGxiYWNrLHM9ZS5sb2FkZWQsZD1lLmFkVW5pdENvZGU7dGhpcy51cmw9byx0aGlzLmNvbmZpZz1hLHRoaXMuaGFuZGxlcnM9e30sdGhpcy5pZD1jLHRoaXMubG9hZGVkPXMsdGhpcy5jbWQ9W10sdGhpcy5wdXNoPWZ1bmN0aW9uKGUpeyJmdW5jdGlvbiI9PXR5cGVvZiBlP2kubG9hZGVkP2UuY2FsbCgpOmkuY21kLnB1c2goZSk6bC5sb2dFcnJvcigiQ29tbWFuZHMgZ2l2ZW4gdG8gUmVuZGVyZXIucHVzaCBtdXN0IGJlIHdyYXBwZWQgaW4gYSBmdW5jdGlvbiIpfSx0aGlzLmNhbGxiYWNrPXV8fGZ1bmN0aW9uKCl7aS5sb2FkZWQ9ITAsaS5wcm9jZXNzKCl9LHQ9ZCxuPXVwYmpzLmFkVW5pdHMsKHI9cCgpKG4sZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29kZT09PXR9KSkmJnIucmVuZGVyZXImJnIucmVuZGVyZXIudXJsJiZyLnJlbmRlcmVyLnJlbmRlcj9sLmxvZ1dhcm4oIkV4dGVybmFsIEpzIG5vdCBsb2FkZWQgYnkgUmVuZGVyZXIgc2luY2UgcmVuZGVyZXIgdXJsIGFuZCBjYWxsYmFjayBpcyBhbHJlYWR5IGRlZmluZWQgb24gYWRVbml0ICIuY29uY2F0KGQpKTpPYmplY3QoZi5jKShvLHRoaXMuY2FsbGJhY2ssITApfWkuaW5zdGFsbD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkoe3VybDplLnVybCxjb25maWc6ZS5jb25maWcsaWQ6ZS5pZCxjYWxsYmFjazplLmNhbGxiYWNrLGxvYWRlZDplLmxvYWRlZCxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pfSxpLnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWd9LGkucHJvdG90eXBlLnNldFJlbmRlcj1mdW5jdGlvbihlKXt0aGlzLnJlbmRlcj1lfSxpLnByb3RvdHlwZS5zZXRFdmVudEhhbmRsZXJzPWZ1bmN0aW9uKGUpe3RoaXMuaGFuZGxlcnM9ZX0saS5wcm90b3R5cGUuaGFuZGxlVmlkZW9FdmVudD1mdW5jdGlvbihlKXt2YXIgdD1lLmlkLG49ZS5ldmVudE5hbWU7ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuaGFuZGxlcnNbbl0mJnRoaXMuaGFuZGxlcnNbbl0oKSxsLmxvZ01lc3NhZ2UoIlByZWJpZCBSZW5kZXJlciBldmVudCBmb3IgaWQgIi5jb25jYXQodCwiIHR5cGUgIikuY29uY2F0KG4pKX0saS5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbigpe2Zvcig7MDx0aGlzLmNtZC5sZW5ndGg7KXRyeXt0aGlzLmNtZC5zaGlmdCgpLmNhbGwoKX1jYXRjaChlKXtsLmxvZ0Vycm9yKCJFcnJvciBwcm9jZXNzaW5nIFJlbmRlcmVyIGNvbW1hbmQ6ICIsZSl9fX0sMTAwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgYT1uKDI5KSxjPW4oNTEpLHU9big2NSkoITEpLHM9big1MykoIklFX1BST1RPIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1jKGUpLGk9MCxvPVtdO2ZvcihuIGluIHIpbiE9cyYmYShyLG4pJiZvLnB1c2gobik7Zm9yKDt0Lmxlbmd0aD5pOylhKHIsbj10W2krK10pJiYofnUobyxuKXx8by5wdXNoKG4pKTtyZXR1cm4gb319LDEwMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxOSkuZG9jdW1lbnQ7ZS5leHBvcnRzPXImJnIuZG9jdW1lbnRFbGVtZW50fSwxMDI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpLGk9big0OCksbz1uKDUzKSgiSUVfUFJPVE8iKSxhPU9iamVjdC5wcm90b3R5cGU7ZS5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9aShlKSxyKGUsbyk/ZVtvXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9hOm51bGx9fSwxMDM6ZnVuY3Rpb24oZSx0LG4pe24oMTA0KTtmb3IodmFyIHI9bigxOSksaT1uKDIxKSxvPW4oMzApLGE9bigxNCkoInRvU3RyaW5nVGFnIiksYz0iQ1NTUnVsZUxpc3QsQ1NTU3R5bGVEZWNsYXJhdGlvbixDU1NWYWx1ZUxpc3QsQ2xpZW50UmVjdExpc3QsRE9NUmVjdExpc3QsRE9NU3RyaW5nTGlzdCxET01Ub2tlbkxpc3QsRGF0YVRyYW5zZmVySXRlbUxpc3QsRmlsZUxpc3QsSFRNTEFsbENvbGxlY3Rpb24sSFRNTENvbGxlY3Rpb24sSFRNTEZvcm1FbGVtZW50LEhUTUxTZWxlY3RFbGVtZW50LE1lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsU1ZHUGF0aFNlZ0xpc3QsU1ZHUG9pbnRMaXN0LFNWR1N0cmluZ0xpc3QsU1ZHVHJhbnNmb3JtTGlzdCxTb3VyY2VCdWZmZXJMaXN0LFN0eWxlU2hlZXRMaXN0LFRleHRUcmFja0N1ZUxpc3QsVGV4dFRyYWNrTGlzdCxUb3VjaExpc3QiLnNwbGl0KCIsIiksdT0wO3U8Yy5sZW5ndGg7dSsrKXt2YXIgcz1jW3VdLGQ9cltzXSxmPWQmJmQucHJvdG90eXBlO2YmJiFmW2FdJiZpKGYsYSxzKSxvW3NdPW8uQXJyYXl9fSwxMDQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDQyKSxpPW4oNzApLG89bigzMCksYT1uKDUxKTtlLmV4cG9ydHM9big1MikoQXJyYXksIkFycmF5IixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9YShlKSx0aGlzLl9pPTAsdGhpcy5faz10fSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3QsdD10aGlzLl9rLG49dGhpcy5faSsrO3JldHVybiFlfHxuPj1lLmxlbmd0aD8odGhpcy5fdD12b2lkIDAsaSgxKSk6aSgwLCJrZXlzIj09dD9uOiJ2YWx1ZXMiPT10P2Vbbl06W24sZVtuXV0pfSwidmFsdWVzIiksby5Bcmd1bWVudHM9by5BcnJheSxyKCJrZXlzIikscigidmFsdWVzIikscigiZW50cmllcyIpfSwxMDU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEwNiksaT1uKDc4KTtlLmV4cG9ydHM9bigxMDgpKCJTZXQiLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdCh0aGlzLDA8YXJndW1lbnRzLmxlbmd0aD9lOnZvaWQgMCl9fSx7YWRkOmZ1bmN0aW9uKGUpe3JldHVybiByLmRlZihpKHRoaXMsIlNldCIpLGU9MD09PWU/MDplLGUpfX0scil9LDEwNjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoZSx0KXt2YXIgbixyPWcodCk7aWYoIkYiIT09cilyZXR1cm4gZS5faVtyXTtmb3Iobj1lLl9mO247bj1uLm4paWYobi5rPT10KXJldHVybiBufXZhciBjPW4oMjApLmYsdT1uKDY4KSxzPW4oNzEpLGQ9bigyNiksZj1uKDcyKSxsPW4oNDMpLHI9big1MiksaT1uKDcwKSxvPW4oMTA3KSxwPW4oMjIpLGc9big3NykuZmFzdEtleSxiPW4oNzgpLHY9cD8iX3MiOiJzaXplIjtlLmV4cG9ydHM9e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsbyxuLHIpe3ZhciBpPWUoZnVuY3Rpb24oZSx0KXtmKGUsaSxvLCJfaSIpLGUuX3Q9byxlLl9pPXUobnVsbCksZS5fZj12b2lkIDAsZS5fbD12b2lkIDAsZVt2XT0wLG51bGwhPXQmJmwodCxuLGVbcl0sZSl9KTtyZXR1cm4gcyhpLnByb3RvdHlwZSx7Y2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGU9Yih0aGlzLG8pLHQ9ZS5faSxuPWUuX2Y7bjtuPW4ubiluLnI9ITAsbi5wJiYobi5wPW4ucC5uPXZvaWQgMCksZGVsZXRlIHRbbi5pXTtlLl9mPWUuX2w9dm9pZCAwLGVbdl09MH0sZGVsZXRlOmZ1bmN0aW9uKGUpe3ZhciB0PWIodGhpcyxvKSxuPWEodCxlKTtpZihuKXt2YXIgcj1uLm4saT1uLnA7ZGVsZXRlIHQuX2lbbi5pXSxuLnI9ITAsaSYmKGkubj1yKSxyJiYoci5wPWkpLHQuX2Y9PW4mJih0Ll9mPXIpLHQuX2w9PW4mJih0Ll9sPWkpLHRbdl0tLX1yZXR1cm4hIW59LGZvckVhY2g6ZnVuY3Rpb24oZSx0KXtiKHRoaXMsbyk7Zm9yKHZhciBuLHI9ZChlLDE8YXJndW1lbnRzLmxlbmd0aD90OnZvaWQgMCwzKTtuPW4/bi5uOnRoaXMuX2Y7KWZvcihyKG4udixuLmssdGhpcyk7biYmbi5yOyluPW4ucH0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiEhYShiKHRoaXMsbyksZSl9fSkscCYmYyhpLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBiKHRoaXMsbylbdl19fSksaX0sZGVmOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89YShlLHQpO3JldHVybiBvP28udj1uOihlLl9sPW89e2k6aT1nKHQsITApLGs6dCx2Om4scDpyPWUuX2wsbjp2b2lkIDAscjohMX0sZS5fZnx8KGUuX2Y9byksciYmKHIubj1vKSxlW3ZdKyssIkYiIT09aSYmKGUuX2lbaV09bykpLGV9LGdldEVudHJ5OmEsc2V0U3Ryb25nOmZ1bmN0aW9uKGUsbix0KXtyKGUsbixmdW5jdGlvbihlLHQpe3RoaXMuX3Q9YihlLG4pLHRoaXMuX2s9dCx0aGlzLl9sPXZvaWQgMH0sZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PWUuX2ssbj1lLl9sO24mJm4ucjspbj1uLnA7cmV0dXJuIGUuX3QmJihlLl9sPW49bj9uLm46ZS5fdC5fZik/aSgwLCJrZXlzIj09dD9uLms6InZhbHVlcyI9PXQ/bi52OltuLmssbi52XSk6KGUuX3Q9dm9pZCAwLGkoMSkpfSx0PyJlbnRyaWVzIjoidmFsdWVzIiwhdCwhMCksbyhuKX19fSwxMDc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE5KSxpPW4oMTYpLG89bigyMCksYT1uKDIyKSxjPW4oMTQpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBpW2VdP2lbZV06cltlXTthJiZ0JiYhdFtjXSYmby5mKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sMTA4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGY9bigxOSksbD1uKDE1KSxwPW4oNzcpLGc9bigzOCksYj1uKDIxKSx2PW4oNzEpLHk9big0MyksaD1uKDcyKSxtPW4oMTcpLFM9big1NCksRT1uKDIwKS5mLEE9big0NykoMCksVD1uKDIyKTtlLmV4cG9ydHM9ZnVuY3Rpb24obixlLHQscixpLG8pe3ZhciBhPWZbbl0sYz1hLHU9aT8ic2V0IjoiYWRkIixzPWMmJmMucHJvdG90eXBlLGQ9e307cmV0dXJuIFQmJiJmdW5jdGlvbiI9PXR5cGVvZiBjJiYob3x8cy5mb3JFYWNoJiYhZyhmdW5jdGlvbigpeyhuZXcgYykuZW50cmllcygpLm5leHQoKX0pKT8oYz1lKGZ1bmN0aW9uKGUsdCl7aChlLGMsbiwiX2MiKSxlLl9jPW5ldyBhLG51bGwhPXQmJnkodCxpLGVbdV0sZSl9KSxBKCJhZGQsY2xlYXIsZGVsZXRlLGZvckVhY2gsZ2V0LGhhcyxzZXQsa2V5cyx2YWx1ZXMsZW50cmllcyx0b0pTT04iLnNwbGl0KCIsIiksZnVuY3Rpb24ocil7dmFyIGk9ImFkZCI9PXJ8fCJzZXQiPT1yO3IgaW4gcyYmKCFvfHwiY2xlYXIiIT1yKSYmYihjLnByb3RvdHlwZSxyLGZ1bmN0aW9uKGUsdCl7aWYoaCh0aGlzLGMsciksIWkmJm8mJiFtKGUpKXJldHVybiJnZXQiPT1yJiZ2b2lkIDA7dmFyIG49dGhpcy5fY1tyXSgwPT09ZT8wOmUsdCk7cmV0dXJuIGk/dGhpczpufSl9KSxvfHxFKGMucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Muc2l6ZX19KSk6KGM9ci5nZXRDb25zdHJ1Y3RvcihlLG4saSx1KSx2KGMucHJvdG90eXBlLHQpLHAuTkVFRD0hMCksUyhjLG4pLGRbbl09YyxsKGwuRytsLlcrbC5GLGQpLG98fHIuc2V0U3Ryb25nKGMsbixpKSxjfX0sMTA5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE1KTtyKHIuUCtyLlIsIlNldCIse3RvSlNPTjpuKDExMCkoIlNldCIpfSl9LDExOmZ1bmN0aW9uKGUsdCxuKXtuKDkyKSxlLmV4cG9ydHM9bigxNikuQXJyYXkuaW5jbHVkZXN9LDExMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big3NiksaT1uKDExMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe2lmKHIodGhpcykhPWUpdGhyb3cgVHlwZUVycm9yKGUrIiN0b0pTT04gaXNuJ3QgZ2VuZXJpYyIpO3JldHVybiBpKHRoaXMpfX19LDExMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big0Myk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49W107cmV0dXJuIHIoZSwhMSxuLnB1c2gsbix0KSxufX0sMTEyOmZ1bmN0aW9uKGUsdCxuKXtuKDExMykoIlNldCIpfSwxMTM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cihyLlMsZSx7b2Y6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKTtlLS07KXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgdGhpcyh0KX19KX19LDExNDpmdW5jdGlvbihlLHQsbil7bigxMTUpKCJTZXQiKX0sMTE1OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksdT1uKDYwKSxzPW4oMjYpLGQ9big0Myk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3Ioci5TLGUse2Zyb206ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLGM9dDtyZXR1cm4gdSh0aGlzKSwocj12b2lkIDAhPT1jKSYmdShjKSxudWxsPT1lP25ldyB0aGlzOihpPVtdLHI/KG89MCxhPXMoYyxuLDIpLGQoZSwhMSxmdW5jdGlvbihlKXtpLnB1c2goYShlLG8rKykpfSkpOmQoZSwhMSxpLnB1c2gsaSksbmV3IHRoaXMoaSkpfX0pfX0sMTE2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGc9bigyNikscj1uKDE1KSxiPW4oNDgpLHY9big3MykseT1uKDc0KSxoPW4oNDEpLG09bigxMTcpLFM9big3NSk7cihyLlMrci5GKiFuKDExOCkoZnVuY3Rpb24oZSl7QXJyYXkuZnJvbShlKX0pLCJBcnJheSIse2Zyb206ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLGM9YihlKSx1PSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzP3RoaXM6QXJyYXkscz1hcmd1bWVudHMubGVuZ3RoLGQ9MTxzP3Q6dm9pZCAwLGY9dm9pZCAwIT09ZCxsPTAscD1TKGMpO2lmKGYmJihkPWcoZCwyPHM/bjp2b2lkIDAsMikpLG51bGw9PXB8fHU9PUFycmF5JiZ5KHApKWZvcihpPW5ldyB1KHI9aChjLmxlbmd0aCkpO2w8cjtsKyspbShpLGwsZj9kKGNbbF0sbCk6Y1tsXSk7ZWxzZSBmb3IoYT1wLmNhbGwoYyksaT1uZXcgdTshKG89YS5uZXh0KCkpLmRvbmU7bCsrKW0oaSxsLGY/dihhLGQsW28udmFsdWUsbF0sITApOm8udmFsdWUpO3JldHVybiBpLmxlbmd0aD1sLGl9fSl9LDExNzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjApLGk9big0Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt0IGluIGU/ci5mKGUsdCxpKDAsbikpOmVbdF09bn19LDExODpmdW5jdGlvbihlLHQsbil7dmFyIG89bigxNCkoIml0ZXJhdG9yIiksYT0hMTt0cnl7dmFyIHI9WzddW29dKCk7ci5yZXR1cm49ZnVuY3Rpb24oKXthPSEwfSxBcnJheS5mcm9tKHIsZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goZSl7fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhYSlyZXR1cm4hMTt2YXIgbj0hMTt0cnl7dmFyIHI9WzddLGk9cltvXSgpO2kubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOm49ITB9fSxyW29dPWZ1bmN0aW9uKCl7cmV0dXJuIGl9LGUocil9Y2F0Y2goZSl7fXJldHVybiBufX0sMTE5OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uIGUodCl7dmFyIG49QXJyYXkuaXNBcnJheSh0KT9bXTp7fTtmb3IodmFyIHIgaW4gdCl7dmFyIGk9dFtyXTtuW3JdPWkmJiJvYmplY3QiPT10eXBlb2YgaT9lKGkpOml9cmV0dXJuIG59fSwxMjpmdW5jdGlvbihlLHQsbil7big4NiksZS5leHBvcnRzPW4oMTYpLkFycmF5LmZpbmR9LDEyMDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQsbixyLGkpe2Zvcih0PXQuc3BsaXQ/dC5zcGxpdCgiLiIpOnQscj0wO3I8dC5sZW5ndGg7cisrKWU9ZT9lW3Rbcl1dOmk7cmV0dXJuIGU9PT1pP246ZX19LDEyMTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQsbil7dC5zcGxpdCYmKHQ9dC5zcGxpdCgiLiIpKTtmb3IodmFyIHIsaT0wLG89dC5sZW5ndGgsYT1lO2k8bzsrK2kpcj1hW3RbaV1dLGE9YVt0W2ldXT1pPT09by0xP246bnVsbCE9cj9yOiF+dFtpKzFdLmluZGV4T2YoIi4iKSYmLTE8K3RbaSsxXT9bXTp7fX19LDEyMjpmdW5jdGlvbihlLHQpe2guU1lOQz0xLGguQVNZTkM9MixoLlFVRVVFPTQ7dmFyIGc9ImZ1bi1ob29rcyI7dmFyIG49T2JqZWN0LmZyZWV6ZSh7dXNlUHJveHk6ITAscmVhZHk6MH0pLGI9bmV3IFdlYWtNYXAscj0iMiwxLDAiPT09WzFdLnJlZHVjZShmdW5jdGlvbihlLHQsbil7cmV0dXJuW2UsdCxuXX0sMikudG9TdHJpbmcoKT9BcnJheS5wcm90b3R5cGUucmVkdWNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1PYmplY3QodGhpcyksaT1yLmxlbmd0aD4+PjAsbz0wO2lmKHQpbj10O2Vsc2V7Zm9yKDtvPGkmJiEobyBpbiByKTspbysrO249cltvKytdfWZvcig7bzxpOylvIGluIHImJihuPWUobixyW29dLG8scikpLG8rKztyZXR1cm4gbn07ZnVuY3Rpb24gdihlLHQpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLHQpfXZhciB5PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe3JldHVybiByLmNhbGwodihhcmd1bWVudHMsMSksZnVuY3Rpb24odCxuKXtyZXR1cm4gbiYmT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPW5bZV19KSx0fSxlKX07ZnVuY3Rpb24gaCh1KXt2YXIgcyxlPXt9LGQ9W107ZnVuY3Rpb24gdChlLHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2YuY2FsbChudWxsLCJzeW5jIixlLHQpOiJzdHJpbmciPT10eXBlb2YgZSYmImZ1bmN0aW9uIj09dHlwZW9mIHQ/Zi5hcHBseShudWxsLGFyZ3VtZW50cyk6Im9iamVjdCI9PXR5cGVvZiBlP2Z1bmN0aW9uKG8sZSxhKXt2YXIgdD0hMDt2b2lkIDA9PT1lJiYoZT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvKSx0PSExKTt2YXIgYz17fSxuPVsiY29uc3RydWN0b3IiXTtmb3IoOyhlPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiEoImZ1bmN0aW9uIiE9dHlwZW9mIG9bZV18fC0xIT09bi5pbmRleE9mKGUpfHxlLm1hdGNoKC9eXy8pKX0pKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIjoiKSxuPXRbMF0scj10WzFdfHwic3luYyI7aWYoIWNbbl0pe3ZhciBpPW9bbl07Y1tuXT1vW25dPWYocixpLGE/W2Esbl06dm9pZCAwKX19KSxvPU9iamVjdC5nZXRQcm90b3R5cGVPZihvKSx0JiZvOyk7cmV0dXJuIGN9LmFwcGx5KG51bGwsYXJndW1lbnRzKTp2b2lkIDB9ZnVuY3Rpb24gbChvKXt2YXIgYT1BcnJheS5pc0FycmF5KG8pP286by5zcGxpdCgiLiIpO3JldHVybiByLmNhbGwoYSxmdW5jdGlvbih0LG4sZSl7dmFyIHI9dFtuXSxpPSExO3JldHVybiByfHwoZT09PWEubGVuZ3RoLTE/KHN8fGQucHVzaChmdW5jdGlvbigpe2l8fGNvbnNvbGUud2FybihnKyI6IHJlZmVyZW5jZWQgJyIrbysiJyBidXQgaXQgd2FzIG5ldmVyIGNyZWF0ZWQiKX0pLHRbbl09cChmdW5jdGlvbihlKXt0W25dPWUsaT0hMH0pKTp0W25dPXt9KX0sZSl9ZnVuY3Rpb24gcChyKXt2YXIgbz1bXSxhPVtdLGM9ZnVuY3Rpb24oKXt9LGU9e2JlZm9yZTpmdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwodGhpcyxvLCJiZWZvcmUiLGUsdCl9LGFmdGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbCh0aGlzLGEsImFmdGVyIixlLHQpfSxnZXRIb29rczpmdW5jdGlvbihuKXt2YXIgZT1vLmNvbmNhdChhKTtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIG4mJihlPWUuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qua2V5cyhuKS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gdFtlXT09PW5bZV19KX0pKSx5KGUse3JlbW92ZTpmdW5jdGlvbigpe3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLHRoaXN9fSl9LHJlbW92ZUFsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEhvb2tzKCkucmVtb3ZlKCl9fSx0PXtpbnN0YWxsOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLnR5cGU9ZSwoYz1uKShvLGEpLHImJnIodCl9fTtyZXR1cm4gYi5zZXQoZS5hZnRlcix0KSxlO2Z1bmN0aW9uIG4odCxlLG4scil7dmFyIGk9e2hvb2s6bix0eXBlOmUscHJpb3JpdHk6cnx8MTAscmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIGU9dC5pbmRleE9mKGkpOy0xIT09ZSYmKHQuc3BsaWNlKGUsMSksYyhvLGEpKX19O3JldHVybiB0LnB1c2goaSksdC5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucHJpb3JpdHktZS5wcmlvcml0eX0pLGMobyxhKSx0aGlzfX1mdW5jdGlvbiBmKGYsZSx0KXt2YXIgbj1lLmFmdGVyJiZiLmdldChlLmFmdGVyKTtpZihuKXtpZihuLnR5cGUhPT1mKXRocm93IGcrIjogcmVjcmVhdGVkIGhvb2thYmxlIHdpdGggZGlmZmVyZW50IHR5cGUiO3JldHVybiBlfXZhciByLGksbz10P2wodCk6cCgpLGE9e2dldDpmdW5jdGlvbihlLHQpe3JldHVybiBvW3RdfHxSZWZsZWN0LmdldC5hcHBseShSZWZsZWN0LGFyZ3VtZW50cyl9fTtyZXR1cm4gc3x8ZC5wdXNoKGMpLHUudXNlUHJveHkmJiJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSYmUHJveHkucmV2b2NhYmxlP2k9bmV3IFByb3h5KGUsYSk6eShpPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHk/YS5hcHBseShlLHRoaXMsdihhcmd1bWVudHMpKTplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbyksYi5nZXQoaS5hZnRlcikuaW5zdGFsbChmLGksZnVuY3Rpb24oZSx0KXt2YXIgcyxkPVtdO3I9ZS5sZW5ndGh8fHQubGVuZ3RoPyhlLmZvckVhY2gobikscz1kLnB1c2godm9pZCAwKS0xLHQuZm9yRWFjaChuKSxmdW5jdGlvbihuLHIsZSl7dmFyIGksbz0wLGE9ImFzeW5jIj09PWYmJiJmdW5jdGlvbiI9PXR5cGVvZiBlW2UubGVuZ3RoLTFdJiZlLnBvcCgpO2Z1bmN0aW9uIGMoZSl7InN5bmMiPT09Zj9pPWU6YSYmYS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdShlKXtpZihkW29dKXt2YXIgdD12KGFyZ3VtZW50cyk7cmV0dXJuIHUuYmFpbD1jLHQudW5zaGlmdCh1KSxkW28rK10uYXBwbHkocix0KX0ic3luYyI9PT1mP2k9ZTphJiZhLmFwcGx5KG51bGwsYXJndW1lbnRzKX1yZXR1cm4gZFtzXT1mdW5jdGlvbigpe3ZhciBlPXYoYXJndW1lbnRzLDEpOyJhc3luYyI9PT1mJiZhJiYoZGVsZXRlIHUuYmFpbCxlLnB1c2godSkpO3ZhciB0PW4uYXBwbHkocixlKTsic3luYyI9PT1mJiZ1KHQpfSx1LmFwcGx5KG51bGwsZSksaX0pOnZvaWQgMDtmdW5jdGlvbiBuKGUpe2QucHVzaChlLmhvb2spfWMoKX0pLGk7ZnVuY3Rpb24gYygpeyFzJiYoInN5bmMiIT09Znx8dS5yZWFkeSZoLlNZTkMpJiYoImFzeW5jIiE9PWZ8fHUucmVhZHkmaC5BU1lOQyk/InN5bmMiIT09ZiYmdS5yZWFkeSZoLlFVRVVFP2EuYXBwbHk9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7ZC5wdXNoKGZ1bmN0aW9uKCl7aS5hcHBseShlWzFdLGVbMl0pfSl9OmEuYXBwbHk9ZnVuY3Rpb24oKXt0aHJvdyBnKyI6IGhvb2tlZCBmdW5jdGlvbiBub3QgcmVhZHkifTphLmFwcGx5PXJ9fXJldHVybih1PXkoe30sbix1KSkucmVhZHk/dC5yZWFkeT1mdW5jdGlvbigpe3M9ITAsZnVuY3Rpb24oZSl7Zm9yKHZhciB0O3Q9ZS5zaGlmdCgpOyl0KCl9KGQpfTpzPSEwLHQuZ2V0PWwsdH1lLmV4cG9ydHM9aH0sMTM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsZnVuY3Rpb24oKXtyZXR1cm4gb30pLG4uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiBhfSksdC5kPWZ1bmN0aW9uKGUsdCl7dmFyIG49Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjE1OzA9PT1lLmdldEhvb2tzKHtob29rOnR9KS5sZW5ndGgmJmUuYmVmb3JlKHQsbil9LHQuYz1mdW5jdGlvbihlLG4pe28oImFzeW5jIixmdW5jdGlvbihlKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIG4uYXBwbHkodm9pZCAwLGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKyluW3RdPWVbdF07cmV0dXJuIG59fSh0PWUpfHxmdW5jdGlvbihlKXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSlyZXR1cm4gQXJyYXkuZnJvbShlKX0odCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKSk7dmFyIHR9KX0sZSkoW10pfSx0LmU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoMTx0P3QtMTowKSxyPTE7cjx0O3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2EoZSkuYmVmb3JlKGZ1bmN0aW9uKGUsdCl7dC5wdXNoKG4pLGUodCl9KX07dmFyIHI9bigxMjIpLGk9bi5uKHIpO3ZhciBvPWkoKSh7cmVhZHk6aS5hLlNZTkN8aS5hLkFTWU5DfGkuYS5RVUVVRX0pLGE9by5nZXR9LDE0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDYzKSgid2tzIiksaT1uKDUwKSxvPW4oMTkpLlN5bWJvbCxhPSJmdW5jdGlvbiI9PXR5cGVvZiBvOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHJbZV18fChyW2VdPWEmJm9bZV18fChhP286aSkoIlN5bWJvbC4iK2UpKX0pLnN0b3JlPXJ9LDE1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgYj1uKDE5KSx2PW4oMTYpLHk9bigyNiksaD1uKDIxKSxtPW4oMjkpLFM9InByb3RvdHlwZSIsRT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ZSZFLkYsYz1lJkUuRyx1PWUmRS5TLHM9ZSZFLlAsZD1lJkUuQixmPWUmRS5XLGw9Yz92OnZbdF18fCh2W3RdPXt9KSxwPWxbU10sZz1jP2I6dT9iW3RdOihiW3RdfHx7fSlbU107Zm9yKHIgaW4gYyYmKG49dCksbikoaT0hYSYmZyYmdm9pZCAwIT09Z1tyXSkmJm0obCxyKXx8KG89aT9nW3JdOm5bcl0sbFtyXT1jJiYiZnVuY3Rpb24iIT10eXBlb2YgZ1tyXT9uW3JdOmQmJmk/eShvLGIpOmYmJmdbcl09PW8/ZnVuY3Rpb24ocil7ZnVuY3Rpb24gZShlLHQsbil7aWYodGhpcyBpbnN0YW5jZW9mIHIpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyByO2Nhc2UgMTpyZXR1cm4gbmV3IHIoZSk7Y2FzZSAyOnJldHVybiBuZXcgcihlLHQpfXJldHVybiBuZXcgcihlLHQsbil9cmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBlW1NdPXJbU10sZX0obyk6cyYmImZ1bmN0aW9uIj09dHlwZW9mIG8/eShGdW5jdGlvbi5jYWxsLG8pOm8scyYmKChsLnZpcnR1YWx8fChsLnZpcnR1YWw9e30pKVtyXT1vLGUmRS5SJiZwJiYhcFtyXSYmaChwLHIsbykpKX07RS5GPTEsRS5HPTIsRS5TPTQsRS5QPTgsRS5CPTE2LEUuVz0zMixFLlU9NjQsRS5SPTEyOCxlLmV4cG9ydHM9RX0sMTY6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmV4cG9ydHM9e3ZlcnNpb246IjIuNi4xMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSwxNjc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oNDcpKDYpLG89ImZpbmRJbmRleCIsYT0hMDtvIGluW10mJkFycmF5KDEpW29dKGZ1bmN0aW9uKCl7YT0hMX0pLHIoci5QK3IuRiphLCJBcnJheSIse2ZpbmRJbmRleDpmdW5jdGlvbihlLHQpe3JldHVybiBpKHRoaXMsZSwxPGFyZ3VtZW50cy5sZW5ndGg/dDp2b2lkIDApfX0pLG4oNDIpKG8pfSwxNzpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSwxNzA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oKXthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixhLCExKX07dmFyIHI9big4KSxiPW4ubihyKSx2PW4oMjcpLGk9big0KSx5PShuLm4oaSksbigwKSksaD1uKDI1KSxvPW4oMTIpLG09bi5uKG8pLFM9bigxMCksRT1pLkVWRU5UUy5CSURfV09OO2Z1bmN0aW9uIGEoZSl7dmFyIHQsbixyLGksbyxhLGMsdSxzLGQsZj1lLm1lc3NhZ2U/Im1lc3NhZ2UiOiJkYXRhIixsPXt9O3RyeXtsPUpTT04ucGFyc2UoZVtmXSl9Y2F0Y2goZSl7cmV0dXJufWlmKGwmJmwuYWRJZCl7dmFyIHA9bSgpKGguYS5nZXRCaWRzUmVjZWl2ZWQoKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5hZElkPT09bC5hZElkfSk7aWYocCYmIlByZWJpZCBSZXF1ZXN0Ij09PWwubWVzc2FnZSYmKHQ9cCxuPWwuYWRTZXJ2ZXJEb21haW4scj1lLnNvdXJjZSxpPXQuYWRJZCxvPXQuYWQsYT10LmFkVXJsLGM9dC53aWR0aCx1PXQuaGVpZ2h0LHM9dC5yZW5kZXJlcixkPXQuY3BtLE9iamVjdChTLmMpKHMpP09iamVjdChTLmIpKHMsdCk6aSYmKGZ1bmN0aW9uKGUpe3ZhciBpPWUuYWRVbml0Q29kZSxyPWUud2lkdGgsbz1lLmhlaWdodDtmdW5jdGlvbiBhKGUpe3ZhciB0LG49KHQ9aSx3aW5kb3cuZ29vZ2xldGFnP2Z1bmN0aW9uKGUpe3JldHVybiBtKCkod2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLmZpbHRlcihPYmplY3QoeS5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGUpKGUpKSxmdW5jdGlvbihlKXtyZXR1cm4gZX0pLmdldFNsb3RFbGVtZW50SWQoKX0odCk6d2luZG93LmFwbnRhZz9mdW5jdGlvbihlKXt2YXIgdD13aW5kb3cuYXBudGFnLmdldFRhZyhlKTtyZXR1cm4gdCYmdC50YXJnZXRJZH0odCk6dCkscj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKTtyZXR1cm4gciYmci5xdWVyeVNlbGVjdG9yKGUpfVsiZGl2IiwiaWZyYW1lIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1hKGUrJzpub3QoW3N0eWxlKj0iZGlzcGxheTogbm9uZSJdKScpO2lmKHQpe3ZhciBuPXQuc3R5bGU7bi53aWR0aD1yKyJweCIsbi5oZWlnaHQ9bysicHgifWVsc2UgT2JqZWN0KHkubG9nV2FybikoIlVuYWJsZSB0byBsb2NhdGUgbWF0Y2hpbmcgcGFnZSBlbGVtZW50IGZvciBhZFVuaXRDb2RlICIuY29uY2F0KGksIi4gIENhbid0IHJlc2l6ZSBpdCB0byBhZCdzIGRpbWVuc2lvbnMuICBQbGVhc2UgcmV2aWV3IHNldHVwLiIpKX0pfSh0KSxyLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHttZXNzYWdlOiJQcmViaWQgUmVzcG9uc2UiLGFkOk9iamVjdCh5LnJlcGxhY2VBdWN0aW9uUHJpY2UpKG8sZCksYWRVcmw6T2JqZWN0KHkucmVwbGFjZUF1Y3Rpb25QcmljZSkoYSxkKSxhZElkOmksd2lkdGg6YyxoZWlnaHQ6dX0pLG4pKSxoLmEuYWRkV2lubmluZ0JpZChwKSxiLmEuZW1pdChFLHApKSxwJiYiUHJlYmlkIE5hdGl2ZSI9PT1sLm1lc3NhZ2Upe2lmKCJhc3NldFJlcXVlc3QiPT09bC5hY3Rpb24pe3ZhciBnPU9iamVjdCh2LmMpKGwscCk7cmV0dXJuIHZvaWQgZS5zb3VyY2UucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoZyksZS5vcmlnaW4pfWlmKCJjbGljayI9PT1PYmplY3Qodi5iKShsLHApKXJldHVybjtoLmEuYWRkV2lubmluZ0JpZChwKSxiLmEuZW1pdChFLHApfX19fSwxNzE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e2U9ZXx8d2luZG93LnNlc3Npb25TdG9yYWdlLHQ9SlNPTi5wYXJzZShlLmdldEl0ZW0odSkpfWNhdGNoKGUpe310JiZmKHQsITApfTt2YXIgcj1uKDMpLG89bigwKSxpPW4oNDQpO2Z1bmN0aW9uIGEoKXtyZXR1cm4oYT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBjLHU9InVwYmpzOmRlYnVnZ2luZyI7ZnVuY3Rpb24gcyhlKXtPYmplY3Qoby5sb2dNZXNzYWdlKSgiREVCVUc6ICIrZSl9ZnVuY3Rpb24gZCgpe2kuYy5nZXRIb29rcyh7aG9vazpjfSkucmVtb3ZlKCl9ZnVuY3Rpb24gZihlLHQpe3ZhciBuPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dCYmdDtyLmIuc2V0Q29uZmlnKHtkZWJ1ZzohMH0pLHMoImJpZGRlciBvdmVycmlkZXMgZW5hYmxlZCIuY29uY2F0KG4/IiBmcm9tIHNlc3Npb24iOiIiKSksZCgpLGM9ZnVuY3Rpb24oZSxyLGkpe2lmKEFycmF5LmlzQXJyYXkodGhpcy5iaWRkZXJzKSYmLTE9PT10aGlzLmJpZGRlcnMuaW5kZXhPZihpLmJpZGRlckNvZGUpKXJldHVybiB2b2lkIGZ1bmN0aW9uKGUpe09iamVjdChvLmxvZ1dhcm4pKCJERUJVRzogIitlKX0oImJpZGRlciAnIi5jb25jYXQoaS5iaWRkZXJDb2RlLCInIGV4Y2x1ZGVkIGZyb20gYXVjdGlvbiBieSBiaWRkZXIgb3ZlcnJpZGVzIikpO0FycmF5LmlzQXJyYXkodGhpcy5iaWRzKSYmdGhpcy5iaWRzLmZvckVhY2goZnVuY3Rpb24obil7bi5iaWRkZXImJm4uYmlkZGVyIT09aS5iaWRkZXJDb2RlfHxuLmFkVW5pdENvZGUmJm4uYWRVbml0Q29kZSE9PXJ8fChpPWEoe30saSksT2JqZWN0LmtleXMobikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09WyJiaWRkZXIiLCJhZFVuaXRDb2RlIl0uaW5kZXhPZihlKX0pLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtzKCJiaWRkZXIgb3ZlcnJpZGVzIGNoYW5nZWQgJyIuY29uY2F0KHIsIi8iKS5jb25jYXQoaS5iaWRkZXJDb2RlLCInIGJpZC4iKS5jb25jYXQoZSwiIGZyb20gJyIpLmNvbmNhdChpW2VdLCInIHRvICciKS5jb25jYXQodCwiJyIpKSxpW2VdPXR9KSl9KTtlKHIsaSl9LmJpbmQoZSksaS5jLmJlZm9yZShjLDUpfWZ1bmN0aW9uIGwoZSl7aWYoZS5lbmFibGVkKXt0cnl7d2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odSxKU09OLnN0cmluZ2lmeShlKSl9Y2F0Y2goZSl7fWYoZSl9ZWxzZXtkKCkscygiYmlkZGVyIG92ZXJyaWRlcyBkaXNhYmxlZCIpO3RyeXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSh1KX1jYXRjaChlKXt9fX1yLmIuZ2V0Q29uZmlnKCJkZWJ1Z2dpbmciLGZ1bmN0aW9uKGUpe3JldHVybiBsKGUuZGVidWdnaW5nKX0pfSwxOTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0sMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJjIixmdW5jdGlvbigpe3JldHVybiByfSksbi5kKHQsImQiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSxuLmQodCwiYiIsZnVuY3Rpb24oKXtyZXR1cm4gb30pLG4uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiBhfSk7dmFyIHI9Im5hdGl2ZSIsaT0idmlkZW8iLG89ImJhbm5lciIsYT0iYWRwb2QifSwyMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOCksaT1uKDg3KSxvPW4oODgpLGE9T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZj1uKDIyKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LG4pe2lmKHIoZSksdD1vKHQsITApLHIobiksaSl0cnl7cmV0dXJuIGEoZSx0LG4pfWNhdGNoKGUpe31pZigiZ2V0ImluIG58fCJzZXQiaW4gbil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkISIpO3JldHVybiJ2YWx1ZSJpbiBuJiYoZVt0XT1uLnZhbHVlKSxlfX0sMjE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjApLGk9big0Nik7ZS5leHBvcnRzPW4oMjIpP2Z1bmN0aW9uKGUsdCxuKXtyZXR1cm4gci5mKGUsdCxpKDEsbikpfTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bixlfX0sMjI6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz0hbigzOCkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSwyMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgcihlLHQpfTt2YXIgaT1uKDApO2Z1bmN0aW9uIHIoZSx0KXt2YXIgbj10JiZ0LnNyY3x8ImNsaWVudCIscj1lfHwwO3RoaXMuYmlkZGVyQ29kZT10JiZ0LmJpZGRlcnx8IiIsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5zdGF0dXNNZXNzYWdlPWZ1bmN0aW9uKCl7c3dpdGNoKHIpe2Nhc2UgMDpyZXR1cm4iUGVuZGluZyI7Y2FzZSAxOnJldHVybiJCaWQgYXZhaWxhYmxlIjtjYXNlIDI6cmV0dXJuIkJpZCByZXR1cm5lZCBlbXB0eSBvciBlcnJvciByZXNwb25zZSI7Y2FzZSAzOnJldHVybiJCaWQgdGltZWQgb3V0In19KCksdGhpcy5hZElkPWkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLHRoaXMucmVxdWVzdElkPXQmJnQuYmlkSWQsdGhpcy5tZWRpYVR5cGU9ImJhbm5lciIsdGhpcy5zb3VyY2U9bix0aGlzLmdldFN0YXR1c0NvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gcn0sdGhpcy5nZXRTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGgrIngiK3RoaXMuaGVpZ2h0fX19LDI0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy51cGJqc30sd2luZG93LnVwYmpzPXdpbmRvdy51cGJqc3x8e30sd2luZG93LnVwYmpzLmNtZD13aW5kb3cudXBianMuY21kfHxbXSx3aW5kb3cudXBianMucXVlPXdpbmRvdy51cGJqcy5xdWV8fFtdLHdpbmRvdy5fcGJqc0dsb2JhbHM9d2luZG93Ll9wYmpzR2xvYmFsc3x8W10sd2luZG93Ll9wYmpzR2xvYmFscy5wdXNoKCJ1cGJqcyIpfSwyNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiB1fSk7dmFyIHI9bigwKSxzPW4oNDQpLGk9bigxMiksbz1uLm4oaSksYT1uKDQpO3ZhciBkLGMsdT0oZD1bXSwoYz17fSkuYWRkV2lubmluZ0JpZD1mdW5jdGlvbih0KXt2YXIgZT1vKCkoZCxmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdWN0aW9uSWQoKT09PXQuYXVjdGlvbklkfSk7ZT9lLmFkZFdpbm5pbmdCaWQodCk6dXRpbHMubG9nV2FybigiQXVjdGlvbiBub3QgZm91bmQgd2hlbiBhZGRpbmcgd2lubmluZyBiaWQiKX0sYy5nZXRBbGxXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiBkLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRXaW5uaW5nQmlkcygpfSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LGMuZ2V0Qmlkc1JlcXVlc3RlZD1mdW5jdGlvbigpe3JldHVybiBkLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRCaWRSZXF1ZXN0cygpfSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LGMuZ2V0Tm9CaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIGQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldE5vQmlkcygpfSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LGMuZ2V0Qmlkc1JlY2VpdmVkPWZ1bmN0aW9uKCl7cmV0dXJuIGQubWFwKGZ1bmN0aW9uKGUpe2lmKGUuZ2V0QXVjdGlvblN0YXR1cygpPT09cy5hKXJldHVybiBlLmdldEJpZHNSZWNlaXZlZCgpfSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlfSl9LGMuZ2V0QWRVbml0cz1mdW5jdGlvbigpe3JldHVybiBkLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBZFVuaXRzKCl9KS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sYy5nZXRBZFVuaXRDb2Rlcz1mdW5jdGlvbigpe3JldHVybiBkLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBZFVuaXRDb2RlcygpfSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKHIudW5pcXVlcyl9LGMuY3JlYXRlQXVjdGlvbj1mdW5jdGlvbihlKXt2YXIgdCxuPWUuYWRVbml0cyxyPWUuYWRVbml0Q29kZXMsaT1lLmNhbGxiYWNrLG89ZS5jYlRpbWVvdXQsYT1lLmxhYmVscyxjPWUuYXVjdGlvbklkLHU9T2JqZWN0KHMuaikoe2FkVW5pdHM6bixhZFVuaXRDb2RlczpyLGNhbGxiYWNrOmksY2JUaW1lb3V0Om8sbGFiZWxzOmEsYXVjdGlvbklkOmN9KTtyZXR1cm4gdD11LGQucHVzaCh0KSx1fSxjLmZpbmRCaWRCeUFkSWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG8oKShkLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRCaWRzUmVjZWl2ZWQoKX0pLnJlZHVjZShyLmZsYXR0ZW4sW10pLGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT10fSl9LGMuZ2V0U3RhbmRhcmRCaWRkZXJBZFNlcnZlclRhcmdldGluZz1mdW5jdGlvbigpe3JldHVybiBPYmplY3Qocy5pKSgpW2EuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR119LGMuc2V0U3RhdHVzRm9yQmlkcz1mdW5jdGlvbihlLHQpe3ZhciBuPWMuZmluZEJpZEJ5QWRJZChlKTtpZihuJiYobi5zdGF0dXM9dCksbiYmdD09PWEuQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVCl7dmFyIHI9bygpKGQsZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXVjdGlvbklkKCk9PT1uLmF1Y3Rpb25JZH0pO3ImJnIuc2V0QmlkVGFyZ2V0aW5nKG4pfX0sYy5nZXRMYXN0QXVjdGlvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIGQubGVuZ3RoJiZkW2QubGVuZ3RoLTFdLmdldEF1Y3Rpb25JZCgpfSxjKX0sMjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPW4oNjApO2UuZXhwb3J0cz1mdW5jdGlvbihyLGksZSl7aWYobyhyKSx2b2lkIDA9PT1pKXJldHVybiByO3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiByLmNhbGwoaSxlKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiByLmNhbGwoaSxlLHQpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gci5jYWxsKGksZSx0LG4pfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gci5hcHBseShpLGFyZ3VtZW50cyl9fX0sMjY4OmZ1bmN0aW9uKGUsdCxuKXtuKDI2OSksZS5leHBvcnRzPW4oMTYpLlN0cmluZy5pbmNsdWRlc30sMjY5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDI3MCksbz0iaW5jbHVkZXMiO3Ioci5QK3IuRipuKDI3MikobyksIlN0cmluZyIse2luY2x1ZGVzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISF+aSh0aGlzLGUsbykuaW5kZXhPZihlLDE8YXJndW1lbnRzLmxlbmd0aD90OnZvaWQgMCl9fSl9LDI3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImUiLGZ1bmN0aW9uKCl7cmV0dXJuIG99KSxuLmQodCwiYSIsZnVuY3Rpb24oKXtyZXR1cm4gc30pLHQuZz1mdW5jdGlvbihlKXtpZihlJiZlLnR5cGUmJmZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFjKCkoT2JqZWN0LmtleXMoZCksZSkpfHwoT2JqZWN0KGEubG9nRXJyb3IpKCIiLmNvbmNhdChlLCIgbmF0aXZlUGFyYW0gaXMgbm90IHN1cHBvcnRlZCIpKSwhMSl9KGUudHlwZSkpcmV0dXJuIGRbZS50eXBlXTtyZXR1cm4gZX0sdC5mPWZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0KGEuZ2V0QmlkUmVxdWVzdCkodC5yZXF1ZXN0SWQsZSk7aWYoIW4pcmV0dXJuITE7aWYoIU9iamVjdChhLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZS5jbGlja1VybCIpKXJldHVybiExO2lmKE9iamVjdChhLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZS5pbWFnZSIpJiYoIU9iamVjdChhLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZS5pbWFnZS5oZWlnaHQiKXx8IU9iamVjdChhLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZS5pbWFnZS53aWR0aCIpKSlyZXR1cm4hMTtpZihPYmplY3QoYS5kZWVwQWNjZXNzKSh0LCJuYXRpdmUuaWNvbiIpJiYoIU9iamVjdChhLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZS5pY29uLmhlaWdodCIpfHwhT2JqZWN0KGEuZGVlcEFjY2VzcykodCwibmF0aXZlLmljb24ud2lkdGgiKSkpcmV0dXJuITE7dmFyIHI9bi5uYXRpdmVQYXJhbXM7aWYoIXIpcmV0dXJuITA7dmFyIGk9T2JqZWN0LmtleXMocikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiByW2VdLnJlcXVpcmVkfSksbz1PYmplY3Qua2V5cyh0Lm5hdGl2ZSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm5hdGl2ZVtlXX0pO3JldHVybiBpLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBjKCkobyxlKX0pfSx0LmI9ZnVuY3Rpb24oZSx0KXt2YXIgbjsiY2xpY2siPT09ZS5hY3Rpb24/bj10Lm5hdGl2ZSYmdC5uYXRpdmUuY2xpY2tUcmFja2Vyczoobj10Lm5hdGl2ZSYmdC5uYXRpdmUuaW1wcmVzc2lvblRyYWNrZXJzLHQubmF0aXZlJiZ0Lm5hdGl2ZS5qYXZhc2NyaXB0VHJhY2tlcnMmJk9iamVjdChhLmluc2VydEh0bWxJbnRvSWZyYW1lKSh0Lm5hdGl2ZS5qYXZhc2NyaXB0VHJhY2tlcnMpKTtyZXR1cm4obnx8W10pLmZvckVhY2goYS50cmlnZ2VyUGl4ZWwpLGUuYWN0aW9ufSx0LmQ9ZnVuY3Rpb24ocixpKXt2YXIgbz17fTtyZXR1cm4gT2JqZWN0LmtleXMoci5uYXRpdmUpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9dS5OQVRJVkVfS0VZU1tlXSxuPWYoci5uYXRpdmVbZV0pO09iamVjdChhLmRlZXBBY2Nlc3MpKGksIm1lZGlhVHlwZXMubmF0aXZlLiIuY29uY2F0KGUsIi5zZW5kSWQiKSkmJihuPSIiLmNvbmNhdCh0LCI6IikuY29uY2F0KHIuYWRJZCkpO3QmJm4mJihvW3RdPW4pfSksb30sdC5jPWZ1bmN0aW9uKGUscil7dmFyIGk9e21lc3NhZ2U6ImFzc2V0UmVzcG9uc2UiLGFkSWQ6ZS5hZElkLGFzc2V0czpbXX07cmV0dXJuIGUuYXNzZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGEuZ2V0S2V5QnlWYWx1ZSkodS5OQVRJVkVfS0VZUyxlKSxuPWYoci5uYXRpdmVbdF0pO2kuYXNzZXRzLnB1c2goe2tleTp0LHZhbHVlOm59KX0pLGl9O3ZhciBhPW4oMCkscj1uKDExKSxjPW4ubihyKTtmdW5jdGlvbiBpKGUpe3JldHVybihpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHU9big0KSxvPVtdLHM9T2JqZWN0LmtleXModS5OQVRJVkVfS0VZUykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB1Lk5BVElWRV9LRVlTW2VdfSksZD17aW1hZ2U6e2ltYWdlOntyZXF1aXJlZDohMH0sdGl0bGU6e3JlcXVpcmVkOiEwfSxzcG9uc29yZWRCeTp7cmVxdWlyZWQ6ITB9LGNsaWNrVXJsOntyZXF1aXJlZDohMH0sYm9keTp7cmVxdWlyZWQ6ITF9LGljb246e3JlcXVpcmVkOiExfX19O2Z1bmN0aW9uIGYoZSl7cmV0dXJuIm9iamVjdCI9PT1pKGUpJiZlLnVybD9lLnVybDplfX0sMjcwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI3MSksaT1uKDQwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKHIodCkpdGhyb3cgVHlwZUVycm9yKCJTdHJpbmcjIituKyIgZG9lc24ndCBhY2NlcHQgcmVnZXghIik7cmV0dXJuIFN0cmluZyhpKGUpKX19LDI3MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNyksaT1uKDM5KSxvPW4oMTQpKCJtYXRjaCIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gcihlKSYmKHZvaWQgMCE9PSh0PWVbb10pPyEhdDoiUmVnRXhwIj09aShlKSl9fSwyNzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTQpKCJtYXRjaCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgbj0vLi87dHJ5eyIvLi8iW3RdKG4pfWNhdGNoKGUpe3RyeXtyZXR1cm4gbltyXT0hMSwhIi8uLyJbdF0obil9Y2F0Y2goZSl7fX1yZXR1cm4hMH19LDI4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIXIoZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0sMjk6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCl9fSwzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSxuLmQodCwiYiIsZnVuY3Rpb24oKXtyZXR1cm4gd30pO3ZhciByPW4oNDUpLGk9bigxMiksYT1uLm4oaSksbz1uKDExKSxjPW4ubihvKSx1PW4oNjYpLHM9bi5uKHUpLGQ9big5KTtmdW5jdGlvbiBmKCl7cmV0dXJuKGY9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbD1uKDc5KSxwPW4oMCksZz1uKDQpLGI9IlRSVUUiPT09KE9iamVjdChkLmQpKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpW2cuREVCVUdfTU9ERV18fCIiKS50b1VwcGVyQ2FzZSgpLHY9d2luZG93LmxvY2F0aW9uLm9yaWdpbix5PSJyYW5kb20iLGg9e307aFt5XT0hMCxoLmZpeGVkPSEwO3ZhciBtPXksUz17TE9XOiJsb3ciLE1FRElVTToibWVkaXVtIixISUdIOiJoaWdoIixBVVRPOiJhdXRvIixERU5TRToiZGVuc2UiLENVU1RPTToiY3VzdG9tIn07dmFyIEUsQSxULE8sSSx3PShPPVtdLEk9bnVsbCxDKCkse2dldENvbmZpZzpmdW5jdGlvbigpe2lmKGFyZ3VtZW50cy5sZW5ndGg8PTEmJiJmdW5jdGlvbiIhPXR5cGVvZihhcmd1bWVudHMubGVuZ3RoPD0wP3ZvaWQgMDphcmd1bWVudHNbMF0pKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPD0wP3ZvaWQgMDphcmd1bWVudHNbMF07cmV0dXJuIGU/cC5kZWVwQWNjZXNzKGooKSxlKTpqKCl9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49dDtpZigic3RyaW5nIiE9dHlwZW9mIGUmJihuPWUsZT0iKiIpLCJmdW5jdGlvbiI9PXR5cGVvZiBuKXt2YXIgcj17dG9waWM6ZSxjYWxsYmFjazpufTtyZXR1cm4gTy5wdXNoKHIpLGZ1bmN0aW9uKCl7Ty5zcGxpY2UoTy5pbmRleE9mKHIpLDEpfX1wLmxvZ0Vycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKX0uYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LHNldENvbmZpZzpmdW5jdGlvbihuKXtpZihwLmlzUGxhaW5PYmplY3Qobikpe3ZhciBlPU9iamVjdC5rZXlzKG4pLHI9e307ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07cC5pc1BsYWluT2JqZWN0KEVbZV0pJiZwLmlzUGxhaW5PYmplY3QodCkmJih0PWYoe30sRVtlXSx0KSkscltlXT1BW2VdPXR9KSxfKHIpfWVsc2UgcC5sb2dFcnJvcigic2V0Q29uZmlnIG9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QiKX0sc2V0RGVmYXVsdHM6ZnVuY3Rpb24oZSl7cC5pc1BsYWluT2JqZWN0KEUpPyhmKEUsZSksZihBLGUpKTpwLmxvZ0Vycm9yKCJkZWZhdWx0cyBtdXN0IGJlIGFuIG9iamVjdCIpfSxyZXNldENvbmZpZzpDLHJ1bldpdGhCaWRkZXI6QixjYWxsYmFja1dpdGhCaWRkZXI6ZnVuY3Rpb24obyl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZSx0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspbltyXT1hcmd1bWVudHNbcl07cmV0dXJuIEIobywoZT1wLmJpbmQpLmNhbGwuYXBwbHkoZSxbaSx0aGlzXS5jb25jYXQobikpKX19fSxzZXRCaWRkZXJDb25maWc6ZnVuY3Rpb24ocil7dHJ5eyFmdW5jdGlvbihlKXtpZighcC5pc1BsYWluT2JqZWN0KGUpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCI7aWYoIUFycmF5LmlzQXJyYXkoZS5iaWRkZXJzKXx8IWUuYmlkZGVycy5sZW5ndGgpdGhyb3cic2V0QmlkZGVyQ29uZmlnIGJpZGRlciBvcHRpb25zIG11c3QgY29udGFpbiBhIGJpZGRlcnMgbGlzdCB3aXRoIGF0IGxlYXN0IDEgYmlkZGVyIjtpZighcC5pc1BsYWluT2JqZWN0KGUuY29uZmlnKSl0aHJvdyJzZXRCaWRkZXJDb25maWcgYmlkZGVyIG9wdGlvbnMgbXVzdCBjb250YWluIGEgY29uZmlnIG9iamVjdCJ9KHIpLHIuYmlkZGVycy5mb3JFYWNoKGZ1bmN0aW9uKG4pe1Rbbl18fChUW25dPXt9KSxPYmplY3Qua2V5cyhyLmNvbmZpZykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1yLmNvbmZpZ1tlXTtwLmlzUGxhaW5PYmplY3QodCk/VFtuXVtlXT1mKHt9LFRbbl1bZV18fHt9LHQpOlRbbl1bZV09dH0pfSl9Y2F0Y2goZSl7cC5sb2dFcnJvcihlKX19LGdldEJpZGRlckNvbmZpZzpmdW5jdGlvbigpe3JldHVybiBUfX0pO2Z1bmN0aW9uIEMoKXtFPXt9O3ZhciBuPXtfZGVidWc6YixnZXQgZGVidWcoKXtyZXR1cm4gdGhpcy5fZGVidWd9LHNldCBkZWJ1ZyhlKXt0aGlzLl9kZWJ1Zz1lfSxfYmlkZGVyVGltZW91dDozZTMsZ2V0IGJpZGRlclRpbWVvdXQoKXtyZXR1cm4gdGhpcy5fYmlkZGVyVGltZW91dH0sc2V0IGJpZGRlclRpbWVvdXQoZSl7dGhpcy5fYmlkZGVyVGltZW91dD1lfSxfcHVibGlzaGVyRG9tYWluOnYsZ2V0IHB1Ymxpc2hlckRvbWFpbigpe3JldHVybiB0aGlzLl9wdWJsaXNoZXJEb21haW59LHNldCBwdWJsaXNoZXJEb21haW4oZSl7dGhpcy5fcHVibGlzaGVyRG9tYWluPWV9LF9wcmljZUdyYW51bGFyaXR5OlMuTUVESVVNLHNldCBwcmljZUdyYW51bGFyaXR5KGUpe28oZSkmJigic3RyaW5nIj09dHlwZW9mIGU/dGhpcy5fcHJpY2VHcmFudWxhcml0eT1pKGUpP2U6Uy5NRURJVU06cC5pc1BsYWluT2JqZWN0KGUpJiYodGhpcy5fY3VzdG9tUHJpY2VCdWNrZXQ9ZSx0aGlzLl9wcmljZUdyYW51bGFyaXR5PVMuQ1VTVE9NLHAubG9nTWVzc2FnZSgiVXNpbmcgY3VzdG9tIHByaWNlIGdyYW51bGFyaXR5IikpKX0sZ2V0IHByaWNlR3JhbnVsYXJpdHkoKXtyZXR1cm4gdGhpcy5fcHJpY2VHcmFudWxhcml0eX0sX2N1c3RvbVByaWNlQnVja2V0Ont9LGdldCBjdXN0b21QcmljZUJ1Y2tldCgpe3JldHVybiB0aGlzLl9jdXN0b21QcmljZUJ1Y2tldH0sX21lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHk6e30sZ2V0IG1lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHkoKXtyZXR1cm4gdGhpcy5fbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eX0sc2V0IG1lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHkobil7dmFyIHI9dGhpczt0aGlzLl9tZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5PU9iamVjdC5rZXlzKG4pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBvKG5bdF0pPyJzdHJpbmciPT10eXBlb2Ygbj9lW3RdPWkoblt0XSk/blt0XTpyLl9wcmljZUdyYW51bGFyaXR5OnAuaXNQbGFpbk9iamVjdChuKSYmKGVbdF09blt0XSxwLmxvZ01lc3NhZ2UoIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eSBmb3IgIi5jb25jYXQodCkpKTpwLmxvZ1dhcm4oIkludmFsaWQgcHJpY2UgZ3JhbnVsYXJpdHkgZm9yIG1lZGlhIHR5cGU6ICIuY29uY2F0KHQpKSxlfSx7fSl9LF9zZW5kQWxsQmlkczohMCxnZXQgZW5hYmxlU2VuZEFsbEJpZHMoKXtyZXR1cm4gdGhpcy5fc2VuZEFsbEJpZHN9LHNldCBlbmFibGVTZW5kQWxsQmlkcyhlKXt0aGlzLl9zZW5kQWxsQmlkcz1lfSxfdXNlQmlkQ2FjaGU6ITEsZ2V0IHVzZUJpZENhY2hlKCl7cmV0dXJuIHRoaXMuX3VzZUJpZENhY2hlfSxzZXQgdXNlQmlkQ2FjaGUoZSl7dGhpcy5fdXNlQmlkQ2FjaGU9ZX0sX2JpZGRlclNlcXVlbmNlOm0sZ2V0IGJpZGRlclNlcXVlbmNlKCl7cmV0dXJuIHRoaXMuX2JpZGRlclNlcXVlbmNlfSxzZXQgYmlkZGVyU2VxdWVuY2UoZSl7aFtlXT90aGlzLl9iaWRkZXJTZXF1ZW5jZT1lOnAubG9nV2FybigiSW52YWxpZCBvcmRlcjogIi5jb25jYXQoZSwiLiBCaWRkZXIgU2VxdWVuY2Ugd2FzIG5vdCBzZXQuIikpfSxfdGltZW91dEJ1ZmZlcjo0MDAsZ2V0IHRpbWVvdXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fdGltZW91dEJ1ZmZlcn0sc2V0IHRpbWVvdXRCdWZmZXIoZSl7dGhpcy5fdGltZW91dEJ1ZmZlcj1lfSxfZGlzYWJsZUFqYXhUaW1lb3V0OiExLGdldCBkaXNhYmxlQWpheFRpbWVvdXQoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFqYXhUaW1lb3V0fSxzZXQgZGlzYWJsZUFqYXhUaW1lb3V0KGUpe3RoaXMuX2Rpc2FibGVBamF4VGltZW91dD1lfX07ZnVuY3Rpb24gaSh0KXtyZXR1cm4gYSgpKE9iamVjdC5rZXlzKFMpLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09U1tlXX0pfWZ1bmN0aW9uIG8oZSl7aWYoIWUpcmV0dXJuIHAubG9nRXJyb3IoIlByZWJpZCBFcnJvcjogbm8gdmFsdWUgcGFzc2VkIHRvIGBzZXRQcmljZUdyYW51bGFyaXR5KClgIiksITE7aWYoInN0cmluZyI9PXR5cGVvZiBlKWkoZSl8fHAubG9nV2FybigiUHJlYmlkIFdhcm5pbmc6IHNldFByaWNlR3JhbnVsYXJpdHkgd2FzIGNhbGxlZCB3aXRoIGludmFsaWQgc2V0dGluZywgdXNpbmcgYG1lZGl1bWAgYXMgZGVmYXVsdC4iKTtlbHNlIGlmKHAuaXNQbGFpbk9iamVjdChlKSYmIU9iamVjdChyLmIpKGUpKXJldHVybiBwLmxvZ0Vycm9yKCJJbnZhbGlkIGN1c3RvbSBwcmljZSB2YWx1ZSBwYXNzZWQgdG8gYHNldFByaWNlR3JhbnVsYXJpdHkoKWAiKSwhMTtyZXR1cm4hMH1BJiZfKE9iamVjdC5rZXlzKEEpLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBBW3RdIT09blt0XSYmKGVbdF09blt0XXx8e30pLGV9LHt9KSksQT1uLFQ9e319ZnVuY3Rpb24gaigpe2lmKEkmJlQmJnAuaXNQbGFpbk9iamVjdChUW0ldKSl7dmFyIG49VFtJXSxlPW5ldyBzLmEoT2JqZWN0LmtleXMoQSkuY29uY2F0KE9iamVjdC5rZXlzKG4pKSk7cmV0dXJuIGwoZSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PW5bdF0/ZVt0XT1BW3RdOnZvaWQgMD09PUFbdF0/ZVt0XT1uW3RdOnAuaXNQbGFpbk9iamVjdChuW3RdKT9lW3RdPWYoe30sQVt0XSxuW3RdKTplW3RdPW5bdF0sZX0se30pfXJldHVybiBmKHt9LEEpfWZ1bmN0aW9uIF8oaSl7dmFyIHQ9T2JqZWN0LmtleXMoaSk7Ty5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGMoKSh0LGUudG9waWMpfSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuLHI7ZS5jYWxsYmFjaygodD17fSxuPWUudG9waWMscj1pW2UudG9waWNdLG4gaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yLHQpKX0pLE8uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiIqIj09PWUudG9waWN9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNhbGxiYWNrKGkpfSl9ZnVuY3Rpb24gQihlLHQpe0k9ZTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e0k9bnVsbH19fSwzMDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sMzE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7aS5wdXNoKGUpfSx0LmM9ZnVuY3Rpb24odCl7dHJ5e3ZhciBuPXQ7cmV0dXJuIGkuZm9yRWFjaChmdW5jdGlvbihlKXtuPWUobil9KSxufWNhdGNoKGUpe3JldHVybiB0fX0sdC5hPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9LHQuZD1mdW5jdGlvbihlKXtlJiYiSUZSQU1FIj09PWUudGFnTmFtZSYmKHI9ZSl9O3ZhciByLGk9W119LDMyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPXIsbi5kKHQsImIiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTt2YXIgYz1uKDApO2Z1bmN0aW9uIHUoKXtyZXR1cm4odT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHIoaSl7ZnVuY3Rpb24gbygpe3ZhciBlPWZ1bmN0aW9uKCl7dmFyIHQsbj1bXTtkb3t0cnl7dD10P3QucGFyZW50Omk7dHJ5e3ZhciBlPXQ9PWkudG9wLHI9e3JlZmVycmVyOnQuZG9jdW1lbnQucmVmZXJyZXJ8fG51bGwsbG9jYXRpb246dC5sb2NhdGlvbi5ocmVmfHxudWxsLGlzVG9wOmV9O2UmJihyPXUocix7Y2Fub25pY2FsVXJsOmEodC5kb2N1bWVudCl9KSksbi5wdXNoKHIpfWNhdGNoKGUpe24ucHVzaCh7cmVmZXJyZXI6bnVsbCxsb2NhdGlvbjpudWxsLGlzVG9wOnQ9PWkudG9wfSksT2JqZWN0KGMubG9nV2FybikoIlRyeWluZyB0byBhY2Nlc3MgY3Jvc3MgZG9tYWluIGlmcmFtZS4gQ29udGludWluZyB3aXRob3V0IHJlZmVycmVyIGFuZCBsb2NhdGlvbiIpfX1jYXRjaChlKXtyZXR1cm4gbi5wdXNoKHtyZWZlcnJlcjpudWxsLGxvY2F0aW9uOm51bGwsaXNUb3A6ITF9KSxufX13aGlsZSh0IT1pLnRvcCk7cmV0dXJuIG59KCksdD1mdW5jdGlvbigpe3RyeXtpZighaS5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMpcmV0dXJuO3JldHVybiBpLmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2luc31jYXRjaChlKXt9fSgpO2lmKHQpZm9yKHZhciBuPTAscj10Lmxlbmd0aDtuPHI7bisrKWVbbl0uYW5jZXN0b3I9dFtuXTtyZXR1cm4gZX1mdW5jdGlvbiBhKGUpe3RyeXt2YXIgdD1lLnF1ZXJ5U2VsZWN0b3IoImxpbmtbcmVsPSdjYW5vbmljYWwnXSIpO2lmKG51bGwhPT10KXJldHVybiB0LmhyZWZ9Y2F0Y2goZSl7fXJldHVybiBudWxsfXJldHVybiBmdW5jdGlvbigpe3RyeXt2YXIgZSx0PW8oKSxuPXQubGVuZ3RoLTEscj1udWxsIT09dFtuXS5sb2NhdGlvbnx8MDxuJiZudWxsIT09dFtuLTFdLnJlZmVycmVyLGk9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPW51bGwsaT1udWxsLG89bnVsbCxhPW51bGwsYz1udWxsO2Zvcih0PWUubGVuZ3RoLTE7MDw9dDt0LS0pe3RyeXtyPWVbdF0ubG9jYXRpb259Y2F0Y2goZSl7fWlmKHIpbi5wdXNoKHIpLGM9Y3x8cjtlbHNlIGlmKDAhPT10KXtpPWVbdC0xXTt0cnl7bz1pLnJlZmVycmVyLGE9aS5hbmNlc3Rvcn1jYXRjaChlKXt9bz8obi5wdXNoKG8pLGM9Y3x8byk6YT8obi5wdXNoKGEpLGM9Y3x8YSk6bi5wdXNoKG51bGwpfWVsc2Ugbi5wdXNoKG51bGwpfXJldHVybntzdGFjazpuLGRldGVjdGVkUmVmZXJlclVybDpjfX0odCk7cmV0dXJuIHRbdC5sZW5ndGgtMV0uY2Fub25pY2FsVXJsJiYoZT10W3QubGVuZ3RoLTFdLmNhbm9uaWNhbFVybCkse3JlZmVyZXI6aS5kZXRlY3RlZFJlZmVyZXJVcmwscmVhY2hlZFRvcDpyLG51bUlmcmFtZXM6bixzdGFjazppLnN0YWNrLGNhbm9uaWNhbFVybDplfX1jYXRjaChlKXt9fX12YXIgaT1yKHdpbmRvdyl9LDMzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIHl9KTt2YXIgYT1uKDApLHI9bigzKSxpPW4oMTEpLG89bi5uKGkpO2Z1bmN0aW9uIGMoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkpcmV0dXJuO3ZhciBuPVtdLHI9ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBhLGM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPWMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChhLnZhbHVlKSwhdHx8bi5sZW5ndGghPT10KTtyPSEwKTt9Y2F0Y2goZSl7aT0hMCxvPWV9ZmluYWxseXt0cnl7cnx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IG99fXJldHVybiBufShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX1mdW5jdGlvbiB1KCl7cmV0dXJuKHU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yLmIuc2V0RGVmYXVsdHMoe3VzZXJTeW5jOntzeW5jRW5hYmxlZDohMCxwaXhlbEVuYWJsZWQ6ITAsc3luY3NQZXJCaWRkZXI6NSxzeW5jRGVsYXk6M2UzLGF1Y3Rpb25EZWxheTowfX0pO3ZhciBzLGQsZixsLHAsZyxiLHY9IWEuaXNTYWZhcmlCcm93c2VyKCkmJmEuY29va2llc0FyZUVuYWJsZWQoKSx5PShzPXtjb25maWc6ci5iLmdldENvbmZpZygidXNlclN5bmMiKSxicm93c2VyU3VwcG9ydHNDb29raWVzOnZ9LGQ9e30sZj1oKCksbD1uZXcgU2V0LGc9e2ltYWdlOiEocD17fSksaWZyYW1lOiExfSxiPXMuY29uZmlnLHIuYi5nZXRDb25maWcoInVzZXJTeW5jIixmdW5jdGlvbihlKXtiPXUoYixlLnVzZXJTeW5jKX0pLGQucmVnaXN0ZXJTeW5jPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbC5oYXModCk/YS5sb2dNZXNzYWdlKCdhbHJlYWR5IGZpcmVkIHN5bmNzIGZvciAiJy5jb25jYXQodCwnIiwgaWdub3JpbmcgcmVnaXN0ZXJTeW5jIGNhbGwnKSk6Yi5zeW5jRW5hYmxlZCYmYS5pc0FycmF5KGZbZV0pP3Q/MCE9PWIuc3luY3NQZXJCaWRkZXImJk51bWJlcihwW3RdKT49Yi5zeW5jc1BlckJpZGRlcj9hLmxvZ1dhcm4oJ051bWJlciBvZiB1c2VyIHN5bmNzIGV4Y2VlZGVkIGZvciAiJy5jb25jYXQodCwnIicpKTpkLmNhbkJpZGRlclJlZ2lzdGVyU3luYyhlLHQpPyhmW2VdLnB1c2goW3Qsbl0pLChyPXApW2k9dF0/cltpXSs9MTpyW2ldPTEsdm9pZChwPXIpKTphLmxvZ1dhcm4oJ0JpZGRlciAiJy5jb25jYXQodCwnIiBub3QgcGVybWl0dGVkIHRvIHJlZ2lzdGVyIHRoZWlyICInKS5jb25jYXQoZSwnIiB1c2VyU3luYyBwaXhlbHMuJykpOmEubG9nV2FybigiQmlkZGVyIGlzIHJlcXVpcmVkIGZvciByZWdpc3RlcmluZyBzeW5jIik6YS5sb2dXYXJuKCdVc2VyIHN5bmMgdHlwZSAiJy5jb25jYXQoZSwnIiBub3Qgc3VwcG9ydGVkJykpO3ZhciByLGl9LGQuc3luY1VzZXJzPWZ1bmN0aW9uKCl7dmFyIGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7aWYoZSlyZXR1cm4gc2V0VGltZW91dChtLE51bWJlcihlKSk7bSgpfSxkLnRyaWdnZXJVc2VyU3luY3M9ZnVuY3Rpb24oKXtiLmVuYWJsZU92ZXJyaWRlJiZkLnN5bmNVc2VycygpfSxkLmNhbkJpZGRlclJlZ2lzdGVyU3luYz1mdW5jdGlvbihlLHQpe2lmKGIuZmlsdGVyU2V0dGluZ3Mpe2lmKEUoZSx0KSlyZXR1cm4hMX1lbHNle2lmKGIuZW5hYmxlZEJpZGRlcnMmJmIuZW5hYmxlZEJpZGRlcnMubGVuZ3RoJiZiLmVuYWJsZWRCaWRkZXJzLmluZGV4T2YodCk8MClyZXR1cm4hMTtpZigiaWZyYW1lIj09PWUmJiFiLmlmcmFtZUVuYWJsZWQmJiFnLmlmcmFtZSlyZXR1cm4hMTtpZigiaW1hZ2UiPT09ZSYmIWIucGl4ZWxFbmFibGVkJiYhZy5pbWFnZSlyZXR1cm4hMX1yZXR1cm4hMH0sZCk7ZnVuY3Rpb24gaCgpe3JldHVybntpbWFnZTpbXSxpZnJhbWU6W119fWZ1bmN0aW9uIG0oKXtpZihiLnN5bmNFbmFibGVkJiZzLmJyb3dzZXJTdXBwb3J0c0Nvb2tpZXMpe3RyeXshZnVuY3Rpb24oKXtpZighYi5waXhlbEVuYWJsZWQmJiFnLmltYWdlKXJldHVybjtTKGYuaW1hZ2UsZnVuY3Rpb24oZSl7dmFyIHQ9YyhlLDIpLG49dFswXSxyPXRbMV07YS5sb2dNZXNzYWdlKCJJbnZva2luZyBpbWFnZSBwaXhlbCB1c2VyIHN5bmMgZm9yIGJpZGRlcjogIi5jb25jYXQobikpLGEudHJpZ2dlclBpeGVsKHIpfSl9KCksZnVuY3Rpb24oKXtpZighYi5pZnJhbWVFbmFibGVkJiYhZy5pZnJhbWUpcmV0dXJuO1MoZi5pZnJhbWUsZnVuY3Rpb24oZSl7dmFyIHQ9YyhlLDIpLG49dFswXSxyPXRbMV07YS5sb2dNZXNzYWdlKCJJbnZva2luZyBpZnJhbWUgdXNlciBzeW5jIGZvciBiaWRkZXI6ICIuY29uY2F0KG4pKSxhLmluc2VydFVzZXJTeW5jSWZyYW1lKHIpfSl9KCl9Y2F0Y2goZSl7cmV0dXJuIGEubG9nRXJyb3IoIkVycm9yIGZpcmluZyB1c2VyIHN5bmNzIixlKX1mPWgoKX19ZnVuY3Rpb24gUyhlLHQpe2Euc2h1ZmZsZShlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QoZSksbC5hZGQoZVswXSl9KX1mdW5jdGlvbiBFKGUsdCl7dmFyIG49Yi5maWx0ZXJTZXR0aW5ncztpZihmdW5jdGlvbihlLHQpe2lmKGUuYWxsJiZlW3RdKXJldHVybiBhLmxvZ1dhcm4oJ0RldGVjdGVkIHByZXNlbmNlIG9mIHRoZSAiZmlsdGVyU2V0dGluZ3MuYWxsIiBhbmQgImZpbHRlclNldHRpbmdzLicuY29uY2F0KHQsJyIgaW4gdXNlclN5bmMgY29uZmlnLiAgWW91IGNhbm5vdCBtaXggImFsbCIgd2l0aCAiaWZyYW1lL2ltYWdlIiBjb25maWdzOyB0aGV5IGFyZSBtdXR1YWxseSBleGNsdXNpdmUuJykpLCExO3ZhciBuPWUuYWxsP2UuYWxsOmVbdF0scj1lLmFsbD8iYWxsIjp0O2lmKCFuKXJldHVybiExO3ZhciBpPW4uZmlsdGVyLG89bi5iaWRkZXJzO2lmKGkmJiJpbmNsdWRlIiE9PWkmJiJleGNsdWRlIiE9PWkpcmV0dXJuIGEubG9nV2FybignVXNlclN5bmMgImZpbHRlclNldHRpbmdzLicuY29uY2F0KHIsIi5maWx0ZXJcIiBzZXR0aW5nICciKS5jb25jYXQoaSwiJyBpcyBub3QgYSB2YWxpZCBvcHRpb247IHVzZSBlaXRoZXIgJ2luY2x1ZGUnIG9yICdleGNsdWRlJy4iKSksITE7cmV0dXJuISEoIioiPT09b3x8QXJyYXkuaXNBcnJheShvKSYmMDxvLmxlbmd0aCYmby5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gYS5pc1N0cihlKSYmIioiIT09ZX0pKXx8KGEubG9nV2FybignRGV0ZWN0ZWQgYW4gaW52YWxpZCBzZXR1cCBpbiB1c2VyU3luYyAiZmlsdGVyU2V0dGluZ3MuJy5jb25jYXQociwiLmJpZGRlcnNcIjsgdXNlIGVpdGhlciAnKicgKHRvIHJlcHJlc2VudCBhbGwgYmlkZGVycykgb3IgYW4gYXJyYXkgb2YgYmlkZGVycy4iKSksITEpfShuLGUpKXtnW2VdPSEwO3ZhciByPW4uYWxsP24uYWxsOm5bZV0saT0iKiI9PT1yLmJpZGRlcnM/W3RdOnIuYmlkZGVycztyZXR1cm57aW5jbHVkZTpmdW5jdGlvbihlLHQpe3JldHVybiFvKCkoZSx0KX0sZXhjbHVkZTpmdW5jdGlvbihlLHQpe3JldHVybiBvKCkoZSx0KX19W3IuZmlsdGVyfHwiaW5jbHVkZSJdKGksdCl9cmV0dXJuITF9fSwzNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIixmdW5jdGlvbigpe3JldHVybiBjfSksbi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSx0LmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3Qoby5nZXRCaWRSZXF1ZXN0KShlLnJlcXVlc3RJZCx0KSxyPW4mJk9iamVjdChvLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8iKSxpPXImJk9iamVjdChvLmRlZXBBY2Nlc3MpKHIsImNvbnRleHQiKTtyZXR1cm4gcyhlLG4scixpKX0sbi5kKHQsImMiLGZ1bmN0aW9uKCl7cmV0dXJuIHN9KTtuKDcpO3ZhciBvPW4oMCksaT1uKDMpLHI9bigxMSksYT0obi5uKHIpLG4oMTMpKSxjPSJvdXRzdHJlYW0iLHU9Imluc3RyZWFtIjt2YXIgcz1PYmplY3QoYS5iKSgic3luYyIsZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIXR8fG4mJnIhPT1jP2kuYi5nZXRDb25maWcoImNhY2hlLnVybCIpfHwhZS52YXN0WG1sfHxlLnZhc3RVcmw/ISghZS52YXN0VXJsJiYhZS52YXN0WG1sKTooT2JqZWN0KG8ubG9nRXJyb3IpKCdcbiAgICAgICAgVGhpcyBiaWQgY29udGFpbnMgb25seSB2YXN0WG1sIGFuZCB3aWxsIG5vdCB3b3JrIHdoZW4gYSBwcmViaWQgY2FjaGUgdXJsIGlzIG5vdCBzcGVjaWZpZWQuXG4gICAgICAgIFRyeSBlbmFibGluZyBwcmViaWQgY2FjaGUgd2l0aCB1cGJqcy5zZXRDb25maWcoeyBjYWNoZToge3VybDogIi4uLiJ9IH0pO1xuICAgICAgJyksITEpOnIhPT1jfHwhKCFlLnJlbmRlcmVyJiYhdC5yZW5kZXJlcil9LCJjaGVja1ZpZGVvQmlkU2V0dXAiKX0sMzU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0KXtpZighdHx8IWUpcmV0dXJuIHZvaWQgby5sb2dFcnJvcigiY2Fubm90IGxvYWQgZXh0ZXJuYWwgc2NyaXB0IHdpdGhvdXQgdXJsIGFuZCBtb2R1bGVDb2RlIik7aWYoIWkoKSh1LHQpKXJldHVybiB2b2lkIG8ubG9nRXJyb3IoIiIuY29uY2F0KHQsIiBub3Qgd2hpdGVsaXN0ZWQgZm9yIGxvYWRpbmcgZXh0ZXJuYWwgSmF2YVNjcmlwdCIpKTtpZihjW2VdKXJldHVybjtlPWEuYyhlKSxvLmxvZ1dhcm4oIm1vZHVsZSAiLmNvbmNhdCh0LCIgaXMgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO24udHlwZT0idGV4dC9qYXZhc2NyaXB0IixuLmFzeW5jPSEwLG4uc3JjPWUsby5pbnNlcnRFbGVtZW50KG4pLGNbZV09ITB9LHQuYj1mdW5jdGlvbihlLHQsbil7aWYoIXR8fCFlKXJldHVybiB2b2lkIG8ubG9nRXJyb3IoImNhbm5vdCBsb2FkIGV4dGVybmFsIHNjcmlwdCB3aXRob3V0IHVybCBhbmQgbW9kdWxlQ29kZSIpO2lmKCFpKCkodSx0KSlyZXR1cm4gdm9pZCBvLmxvZ0Vycm9yKCIiLmNvbmNhdCh0LCIgbm90IHdoaXRlbGlzdGVkIGZvciBsb2FkaW5nIGV4dGVybmFsIEphdmFTY3JpcHQiKSk7aWYoY1tlXSlyZXR1cm4gdm9pZCBuKCk7ZT1hLmMoZSksby5sb2dXYXJuKCJtb2R1bGUgIi5jb25jYXQodCwiIGlzIGxvYWRpbmcgZXh0ZXJuYWwgSmF2YVNjcmlwdCIpKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtyLnR5cGU9InRleHQvamF2YXNjcmlwdCIsci5hc3luYz0hMCxyLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLG4pLHIuc3JjPWUsby5pbnNlcnRFbGVtZW50KHIpLGNbZV09ITB9LHQuYz1mdW5jdGlvbih0LGUsbil7aWYoIXQpcmV0dXJuIHZvaWQgby5sb2dFcnJvcigiRXJyb3IgYXR0ZW1wdGluZyB0byByZXF1ZXN0IGVtcHR5IFVSTCIsImFkbG9hZGVyLmpzOmxvYWRTY3JpcHQiKTtuP2NbdF0/ZSYmImZ1bmN0aW9uIj09dHlwZW9mIGUmJihjW3RdLmxvYWRlZD9lKCk6Y1t0XS5jYWxsYmFja3MucHVzaChlKSk6KGNbdF09e2xvYWRlZDohMSxjYWxsYmFja3M6W119LGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlJiZjW3RdLmNhbGxiYWNrcy5wdXNoKGUpLHModCxmdW5jdGlvbigpe2NbdF0ubG9hZGVkPSEwO3RyeXtmb3IodmFyIGU9MDtlPGNbdF0uY2FsbGJhY2tzLmxlbmd0aDtlKyspY1t0XS5jYWxsYmFja3NbZV0oKX1jYXRjaChlKXtvLmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgY2FsbGJhY2siLCJhZGxvYWRlci5qczpsb2FkU2NyaXB0IixlKX19KSk6cyh0LGUpfTt2YXIgcj1uKDExKSxpPW4ubihyKSxvPW4oMCksYT1uKDMxKSxjPXt9LHU9WyJjcml0ZW8iLCJhZGFnaW8iLCJudHYiXTtmdW5jdGlvbiBzKGUsdCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7bi50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLG4uYXN5bmM9ITAsdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuLnJlYWR5U3RhdGU/bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXsibG9hZGVkIiE9PW4ucmVhZHlTdGF0ZSYmImNvbXBsZXRlIiE9PW4ucmVhZHlTdGF0ZXx8KG4ub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdCgpKX06bi5vbmxvYWQ9ZnVuY3Rpb24oKXt0KCl9KSxuLnNyYz1lO3ZhciByPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIik7KHI9ci5sZW5ndGg/cjpkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpKS5sZW5ndGgmJihyPXJbMF0pLmluc2VydEJlZm9yZShuLHIuZmlyc3RDaGlsZCl9fSwzNjpmdW5jdGlvbihlLHQsbil7bigxNjcpLGUuZXhwb3J0cz1uKDE2KS5BcnJheS5maW5kSW5kZXh9LDM3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPUMsbi5kKHQsImIiLGZ1bmN0aW9uKCl7cmV0dXJuIGx9KTt2YXIgeT1uKDApLGg9bigzKSxtPW4oMjcpLHI9bigyNSksaT1uKDgwKSxvPW4oMiksYT1uKDExKSxTPW4ubihhKTtmdW5jdGlvbiBFKCl7cmV0dXJuKEU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBBKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBUKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0Kyspblt0XT1lW3RdO3JldHVybiBufX0oZSl8fGZ1bmN0aW9uKGUpe2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpfXZhciBjPW4oMCksTz1uKDQpLEk9W10sdz1PYmplY3Qua2V5cyhPLlRBUkdFVElOR19LRVlTKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIE8uVEFSR0VUSU5HX0tFWVNbZV19KSx1PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlc3BvbnNlVGltZXN0YW1wKzFlMyplLnR0bCsxZTM+T2JqZWN0KHkudGltZXN0YW1wKSgpfSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYoZS5zdGF0dXMmJiFTKCkoW08uQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVCxPLkJJRF9TVEFUVVMuUkVOREVSRURdLGUuc3RhdHVzKXx8IWUuc3RhdHVzKX07ZnVuY3Rpb24gQyhlLHIpe3ZhciBpPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG89W10sYT1PYmplY3QoeS5ncm91cEJ5KShlLCJhZFVuaXRDb2RlIik7cmV0dXJuIE9iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9W10sbj1PYmplY3QoeS5ncm91cEJ5KShhW2VdLCJiaWRkZXJDb2RlIik7T2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gdC5wdXNoKG5bZV0ucmVkdWNlKHIpKX0pLDA8aT8odC5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY3BtLWUuY3BtfSksby5wdXNoLmFwcGx5KG8sVCh0LnNsaWNlKDAsaSkpKSk6by5wdXNoLmFwcGx5KG8sdCl9KSxvfWZ1bmN0aW9uIGooZSx0KXtyZXR1cm4gdm9pZCAwIT09ZS5hZFVuaXRUYXJnZXRpbmcuaGJfZGVhbCYmdm9pZCAwPT09dC5hZFVuaXRUYXJnZXRpbmcuaGJfZGVhbD8tMTp2b2lkIDA9PT1lLmFkVW5pdFRhcmdldGluZy5oYl9kZWFsJiZ2b2lkIDAhPT10LmFkVW5pdFRhcmdldGluZy5oYl9kZWFsPzE6dC5hZFVuaXRUYXJnZXRpbmcuaGJfcGItZS5hZFVuaXRUYXJnZXRpbmcuaGJfcGJ9dmFyIGQsXyxmLGw9KGQ9ci5hLGY9e30sKF89e30pLnNldExhdGVzdEF1Y3Rpb25Gb3JBZFVuaXQ9ZnVuY3Rpb24oZSx0KXtmW2VdPXR9LF8ucmVzZXRQcmVzZXRUYXJnZXRpbmc9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0KHkuaXNHcHRQdWJhZHNEZWZpbmVkKSgpKXt2YXIgdD1VKGUpLHI9ZC5nZXRBZFVuaXRzKCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBTKCkodCxlLmNvZGUpfSk7d2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLmZvckVhY2goZnVuY3Rpb24obil7SS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IuZm9yRWFjaChmdW5jdGlvbihlKXtlLmNvZGUhPT1uLmdldEFkVW5pdFBhdGgoKSYmZS5jb2RlIT09bi5nZXRTbG90RWxlbWVudElkKCl8fG4uc2V0VGFyZ2V0aW5nKHQsbnVsbCl9KX0pfSl9fSxfLnJlc2V0UHJlc2V0VGFyZ2V0aW5nQVNUPWZ1bmN0aW9uKGUpe1UoZSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD13aW5kb3cuYXBudGFnLmdldFRhZyhlKTtpZih0JiZ0LmtleXdvcmRzKXt2YXIgbj1PYmplY3Qua2V5cyh0LmtleXdvcmRzKSxyPXt9O24uZm9yRWFjaChmdW5jdGlvbihlKXtTKCkoSSxlLnRvTG93ZXJDYXNlKCkpfHwocltlXT10LmtleXdvcmRzW2VdKX0pLHdpbmRvdy5hcG50YWcubW9kaWZ5VGFnKGUse2tleXdvcmRzOnJ9KX19KX0sXy5nZXRBbGxUYXJnZXRpbmc9ZnVuY3Rpb24oZSx0KXt0PXR8fFIoKTt2YXIgbixyLGksbyxhLGMsdSxzLGQsZj1VKGUpLGw9KGM9Zix1PXQscz1fLmdldFdpbm5pbmdCaWRzKGMsdSksZD14KCkscz1zLm1hcChmdW5jdGlvbihvKXtyZXR1cm4gQSh7fSxvLmFkVW5pdENvZGUsT2JqZWN0LmtleXMoby5hZHNlcnZlclRhcmdldGluZykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1vLnNlbmRTdGFuZGFyZFRhcmdldGluZ3x8by5zZW5kU3RhbmRhcmRUYXJnZXRpbmd8fC0xPT09ZC5pbmRleE9mKGUpfSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIG49W28uYWRzZXJ2ZXJUYXJnZXRpbmdbdF1dLHI9QSh7fSx0LnN1YnN0cmluZygwLDIwKSxuKTtpZih0IT09Ty5UQVJHRVRJTkdfS0VZUy5ERUFMKXJldHVybltdLmNvbmNhdChUKGUpLFtyXSk7dmFyIGk9QSh7fSwiIi5jb25jYXQodCwiXyIpLmNvbmNhdChvLmJpZGRlckNvZGUpLnN1YnN0cmluZygwLDIwKSxuKTtyZXR1cm5bXS5jb25jYXQoVChlKSxbcixpXSl9LFtdKSl9KSkuY29uY2F0KChhPWYsdC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIFMoKShhLGUuYWRVbml0Q29kZSl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEUoe30sZSl9KS5yZWR1Y2UoRCxbXSkubWFwKE4pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSkuY29uY2F0KGguYi5nZXRDb25maWcoImVuYWJsZVNlbmRBbGxCaWRzIik/KG49ZixyPXQsaT13LmNvbmNhdChtLmEpLG89aC5iLmdldENvbmZpZygic2VuZEJpZHNDb250cm9sLmJpZExpbWl0IiksQyhyLHkuZ2V0SGlnaGVzdENwbSxvKS5tYXAoZnVuY3Rpb24odCl7aWYoQih0LG4pKXJldHVybiBBKHt9LHQuYWRVbml0Q29kZSxrKHQsaS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV19KSkpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpOmZ1bmN0aW9uKGUsdCl7aWYoITAhPT1oLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbHdheXNJbmNsdWRlRGVhbHMiKSlyZXR1cm5bXTt2YXIgbj13LmNvbmNhdChtLmEpO3JldHVybiBDKHQseS5nZXRIaWdoZXN0Q3BtKS5tYXAoZnVuY3Rpb24odCl7aWYodC5kZWFsSWQmJkIodCxlKSlyZXR1cm4gQSh7fSx0LmFkVW5pdENvZGUsayh0LG4uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT10LmFkc2VydmVyVGFyZ2V0aW5nW2VdfSkpKX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZX0pfShmLHQpKTtsLm1hcChmdW5jdGlvbih0KXtPYmplY3Qua2V5cyh0KS5tYXAoZnVuY3Rpb24oZSl7dFtlXS5tYXAoZnVuY3Rpb24oZSl7LTE9PT1JLmluZGV4T2YoT2JqZWN0LmtleXMoZSlbMF0pJiYoST1PYmplY3Qua2V5cyhlKS5jb25jYXQoSSkpfSl9KX0pLGw9bC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEEoe30sT2JqZWN0LmtleXMoZSlbMF0sZVtPYmplY3Qua2V5cyhlKVswXV0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBBKHt9LE9iamVjdC5rZXlzKGUpWzBdLGVbT2JqZWN0LmtleXMoZSlbMF1dLmpvaW4oIiwgIikpfSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEUodCxlKX0se30pKX0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKHQpWzBdO3JldHVybiBlW25dPUUoe30sZVtuXSx0W25dKSxlfSx7fSk7dmFyIHAsZyxiLHY9aC5iLmdldENvbmZpZygidGFyZ2V0aW5nQ29udHJvbHMuYXVjdGlvbktleU1heENoYXJzIik7cmV0dXJuIHYmJihPYmplY3QoeS5sb2dJbmZvKSgiRGV0ZWN0ZWQgJ3RhcmdldGluZ0NvbnRyb2xzLmF1Y3Rpb25LZXlNYXhDaGFycycgd2FzIGFjdGl2ZSBmb3IgdGhpcyBhdWN0aW9uOyBzZXQgd2l0aCBhIGxpbWl0IG9mICIuY29uY2F0KHYsIiBjaGFyYWN0ZXJzLiAgUnVubmluZyBjaGVja3Mgb24gYXVjdGlvbiBrZXlzLi4uIikpLHA9bCxnPXYsYj1PYmplY3QoeS5kZWVwQ2xvbmUpKHApLGw9T2JqZWN0LmtleXMoYikubWFwKGZ1bmN0aW9uKGUpe3JldHVybnthZFVuaXRDb2RlOmUsYWRVbml0VGFyZ2V0aW5nOmJbZV19fSkuc29ydChqKS5yZWR1Y2UoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz0oaT10LmFkVW5pdFRhcmdldGluZyxPYmplY3Qua2V5cyhpKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsiIi5jb25jYXQodCwiJTNkIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChpW3RdKSwiJTI2Iil9LCIiKSk7bisxPT09ci5sZW5ndGgmJihvPW8uc2xpY2UoMCwtMykpO3ZhciBhPXQuYWRVbml0Q29kZSxjPW8ubGVuZ3RoO3JldHVybiBjPD1nPyhnLT1jLE9iamVjdCh5LmxvZ0luZm8pKCJBZFVuaXQgJyIuY29uY2F0KGEsIicgYXVjdGlvbiBrZXlzIGNvbXByaXNlZCBvZiAiKS5jb25jYXQoYywiIGNoYXJhY3RlcnMuICBEZWR1Y3RlZCBmcm9tIHJ1bm5pbmcgdGhyZXNob2xkOyBuZXcgbGltaXQgaXMgIikuY29uY2F0KGcpLGJbYV0pLGVbYV09YlthXSk6T2JqZWN0KHkubG9nV2FybikoIlRoZSBmb2xsb3dpbmcga2V5cyBmb3IgYWRVbml0Q29kZSAnIi5jb25jYXQoYSwiJyBleGNlZWRlZCB0aGUgY3VycmVudCBsaW1pdCBvZiB0aGUgJ2F1Y3Rpb25LZXlNYXhDaGFycycgc2V0dGluZy5cblRoZSBrZXktc2V0IHNpemUgd2FzICIpLmNvbmNhdChjLCIsIHRoZSBjdXJyZW50IGFsbG90dGVkIGFtb3VudCB3YXMgIikuY29uY2F0KGcsIi5cbiIpLGJbYV0pLG4rMT09PXIubGVuZ3RoJiYwPT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZPYmplY3QoeS5sb2dFcnJvcikoIk5vIGF1Y3Rpb24gdGFyZ2V0aW5nIGtleXMgd2VyZSBwZXJtaXR0ZWQgZHVlIHRvIHRoZSBzZXR0aW5nIGluIHNldENvbmZpZyh0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMpLiAgUGxlYXNlIHJldmlldyBzZXR1cCBhbmQgY29uc2lkZXIgYWRqdXN0aW5nLiIpLGV9LHt9KSksZi5mb3JFYWNoKGZ1bmN0aW9uKGUpe2xbZV18fChsW2VdPXt9KX0pLGx9LF8uc2V0VGFyZ2V0aW5nRm9yR1BUPWZ1bmN0aW9uKGksZSl7d2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLmZvckVhY2goZnVuY3Rpb24ocil7T2JqZWN0LmtleXMoaSkuZmlsdGVyKGU/ZShyKTpPYmplY3QoeS5pc0FkVW5pdENvZGVNYXRjaGluZ1Nsb3QpKHIpKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3Qua2V5cyhpW25dKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPWlbbl1bdF0uc3BsaXQoIiwiKTsoZT0xPGUubGVuZ3RoP1tlXTplKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGMubG9nTWVzc2FnZSgiQXR0ZW1wdGluZyB0byBzZXQga2V5IHZhbHVlIGZvciBzbG90OiAiLmNvbmNhdChyLmdldFNsb3RFbGVtZW50SWQoKSwiIGtleTogIikuY29uY2F0KHQsIiB2YWx1ZTogIikuY29uY2F0KGUpKSxlfSkuZm9yRWFjaChmdW5jdGlvbihlKXtyLnNldFRhcmdldGluZyh0LGUpfSl9KX0pfSl9LF8uZ2V0V2lubmluZ0JpZHM9ZnVuY3Rpb24oZSl7dmFyIG49MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlIoKSx0PVUoZSk7cmV0dXJuIG4uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBTKCkodCxlLmFkVW5pdENvZGUpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwPGUuY3BtfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGV9KS5maWx0ZXIoeS51bmlxdWVzKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PT10P2U6bnVsbH0pLnJlZHVjZSh5LmdldEhpZ2hlc3RDcG0pfSl9LF8uc2V0VGFyZ2V0aW5nRm9yQXN0PWZ1bmN0aW9uKGUpe3ZhciByPV8uZ2V0QWxsVGFyZ2V0aW5nKGUpO3RyeXtfLnJlc2V0UHJlc2V0VGFyZ2V0aW5nQVNUKGUpfWNhdGNoKGUpe2MubG9nRXJyb3IoInVuYWJsZSB0byByZXNldCB0YXJnZXRpbmcgZm9yIEFTVCIrZSl9T2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gT2JqZWN0LmtleXMocltuXSkuZm9yRWFjaChmdW5jdGlvbihlKXtpZihjLmxvZ01lc3NhZ2UoIkF0dGVtcHRpbmcgdG8gc2V0IHRhcmdldGluZyBmb3IgdGFyZ2V0SWQ6ICIuY29uY2F0KG4sIiBrZXk6ICIpLmNvbmNhdChlLCIgdmFsdWU6ICIpLmNvbmNhdChyW25dW2VdKSksYy5pc1N0cihyW25dW2VdKXx8Yy5pc0FycmF5KHJbbl1bZV0pKXt2YXIgdD17fTtlLnNlYXJjaCgvcHRbMC05XS8pPDA/dFtlLnRvVXBwZXJDYXNlKCldPXJbbl1bZV06dFtlXT1yW25dW2VdLHdpbmRvdy5hcG50YWcuc2V0S2V5d29yZHMobix0LHtvdmVycmlkZUtleVZhbHVlOiEwfSl9fSl9KX0sXy5pc0FwbnRhZ0RlZmluZWQ9ZnVuY3Rpb24oKXtpZih3aW5kb3cuYXBudGFnJiZjLmlzRm4od2luZG93LmFwbnRhZy5zZXRLZXl3b3JkcykpcmV0dXJuITB9LF8pO2Z1bmN0aW9uIEIoZSx0KXtyZXR1cm4gZS5hZHNlcnZlclRhcmdldGluZyYmdCYmKGMuaXNBcnJheSh0KSYmUygpKHQsZS5hZFVuaXRDb2RlKXx8InN0cmluZyI9PXR5cGVvZiB0JiZlLmFkVW5pdENvZGU9PT10KX1mdW5jdGlvbiBVKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9bZV06Yy5pc0FycmF5KGUpP2U6ZC5nZXRBZFVuaXRDb2RlcygpfHxbXX1mdW5jdGlvbiBSKCl7dmFyIGU9ZC5nZXRCaWRzUmVjZWl2ZWQoKTtyZXR1cm4gaC5iLmdldENvbmZpZygidXNlQmlkQ2FjaGUiKXx8KGU9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGZbZS5hZFVuaXRDb2RlXT09PWUuYXVjdGlvbklkfSkpLEMoZT1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHkuZGVlcEFjY2VzcykoZSwidmlkZW8uY29udGV4dCIpIT09by5hfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiIT09ZS5tZWRpYVR5cGV8fE9iamVjdChpLmMpKFtlLndpZHRoLGUuaGVpZ2h0XSl9KS5maWx0ZXIocykuZmlsdGVyKHUpLHkuZ2V0T2xkZXN0SGlnaGVzdENwbUJpZCl9ZnVuY3Rpb24geCgpe3JldHVybiBkLmdldFN0YW5kYXJkQmlkZGVyQWRTZXJ2ZXJUYXJnZXRpbmcoKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5fSkuY29uY2F0KHcpLmZpbHRlcih5LnVuaXF1ZXMpfWZ1bmN0aW9uIEQocixpLGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKGkuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcihwKCkpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbjtyLmxlbmd0aCYmci5maWx0ZXIoKG49ZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT09aS5hZFVuaXRDb2RlJiZlLmFkc2VydmVyVGFyZ2V0aW5nW25dfSkpLmZvckVhY2goKHQ9ZSxmdW5jdGlvbihlKXtjLmlzQXJyYXkoZS5hZHNlcnZlclRhcmdldGluZ1t0XSl8fChlLmFkc2VydmVyVGFyZ2V0aW5nW3RdPVtlLmFkc2VydmVyVGFyZ2V0aW5nW3RdXSksZS5hZHNlcnZlclRhcmdldGluZ1t0XT1lLmFkc2VydmVyVGFyZ2V0aW5nW3RdLmNvbmNhdChpLmFkc2VydmVyVGFyZ2V0aW5nW3RdKS5maWx0ZXIoeS51bmlxdWVzKSxkZWxldGUgaS5hZHNlcnZlclRhcmdldGluZ1t0XX0pKX0pLHIucHVzaChpKSxyfWZ1bmN0aW9uIHAoKXt2YXIgdD14KCkuY29uY2F0KG0uYSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybi0xPT09dC5pbmRleE9mKGUpfX1mdW5jdGlvbiBOKHQpe3JldHVybiBBKHt9LHQuYWRVbml0Q29kZSxPYmplY3Qua2V5cyh0LmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIocCgpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEEoe30sZS5zdWJzdHJpbmcoMCwyMCksW3QuYWRzZXJ2ZXJUYXJnZXRpbmdbZV1dKX0pKX1mdW5jdGlvbiBrKHQsZSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBBKHt9LCIiLmNvbmNhdChlLCJfIikuY29uY2F0KHQuYmlkZGVyQ29kZSkuc3Vic3RyaW5nKDAsMjApLFt0LmFkc2VydmVyVGFyZ2V0aW5nW2VdXSl9KX19LDM4OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSwzOTpmdW5jdGlvbihlLHQpe3ZhciBuPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0sMzk1OmZ1bmN0aW9uKGUsdCxuKXtuKDM5NiksZS5leHBvcnRzPW4oMTYpLk51bWJlci5pc0ludGVnZXJ9LDM5NjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNSk7cihyLlMsIk51bWJlciIse2lzSW50ZWdlcjpuKDM5Nyl9KX0sMzk3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE3KSxpPU1hdGguZmxvb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiFyKGUpJiZpc0Zpbml0ZShlKSYmaShlKT09PWV9fSw0OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXtKU09OX01BUFBJTkc6e1BMX0NPREU6ImNvZGUiLFBMX1NJWkU6InNpemVzIixQTF9CSURTOiJiaWRzIixCRF9CSURERVI6ImJpZGRlciIsQkRfSUQ6InBhcmFtc2QiLEJEX1BMX0lEOiJwbGFjZW1lbnRJZCIsQURTRVJWRVJfVEFSR0VUSU5HOiJhZHNlcnZlclRhcmdldGluZyIsQkRfU0VUVElOR19TVEFOREFSRDoic3RhbmRhcmQifSxERUJVR19NT0RFOiJwYmpzX2RlYnVnIixTVEFUVVM6e0dPT0Q6MSxOT19CSUQ6Mn0sQ0I6e1RZUEU6e0FMTF9CSURTX0JBQ0s6ImFsbFJlcXVlc3RlZEJpZHNCYWNrIixBRF9VTklUX0JJRFNfQkFDSzoiYWRVbml0Qmlkc0JhY2siLEJJRF9XT046ImJpZFdvbiIsUkVRVUVTVF9CSURTOiJyZXF1ZXN0QmlkcyJ9fSxFVkVOVFM6e0FVQ1RJT05fSU5JVDoiYXVjdGlvbkluaXQiLEFVQ1RJT05fRU5EOiJhdWN0aW9uRW5kIixCSURfQURKVVNUTUVOVDoiYmlkQWRqdXN0bWVudCIsQklEX1RJTUVPVVQ6ImJpZFRpbWVvdXQiLEJJRF9SRVFVRVNURUQ6ImJpZFJlcXVlc3RlZCIsQklEX1JFU1BPTlNFOiJiaWRSZXNwb25zZSIsTk9fQklEOiJub0JpZCIsQklEX1dPTjoiYmlkV29uIixCSURERVJfRE9ORToiYmlkZGVyRG9uZSIsU0VUX1RBUkdFVElORzoic2V0VGFyZ2V0aW5nIixCRUZPUkVfUkVRVUVTVF9CSURTOiJiZWZvcmVSZXF1ZXN0QmlkcyIsUkVRVUVTVF9CSURTOiJyZXF1ZXN0QmlkcyIsQUREX0FEX1VOSVRTOiJhZGRBZFVuaXRzIixBRF9SRU5ERVJfRkFJTEVEOiJhZFJlbmRlckZhaWxlZCJ9LEFEX1JFTkRFUl9GQUlMRURfUkVBU09OOntQUkVWRU5UX1dSSVRJTkdfT05fTUFJTl9ET0NVTUVOVDoicHJldmVudFdyaXRpbmdPbk1haW5Eb2N1ZW1udCIsTk9fQUQ6Im5vQWQiLEVYQ0VQVElPTjoiZXhjZXB0aW9uIixDQU5OT1RfRklORF9BRDoiY2Fubm90RmluZEFkIixNSVNTSU5HX0RPQ19PUl9BRElEOiJtaXNzaW5nRG9jT3JBZGlkIn0sRVZFTlRfSURfUEFUSFM6e2JpZFdvbjoiYWRVbml0Q29kZSJ9LEdSQU5VTEFSSVRZX09QVElPTlM6e0xPVzoibG93IixNRURJVU06Im1lZGl1bSIsSElHSDoiaGlnaCIsQVVUTzoiYXV0byIsREVOU0U6ImRlbnNlIixDVVNUT006ImN1c3RvbSJ9LFRBUkdFVElOR19LRVlTOntCSURERVI6ImhiX2JpZGRlciIsQURfSUQ6ImhiX2FkaWQiLFBSSUNFX0JVQ0tFVDoiaGJfcGIiLFNJWkU6ImhiX3NpemUiLERFQUw6ImhiX2RlYWwiLFNPVVJDRToiaGJfc291cmNlIixGT1JNQVQ6ImhiX2Zvcm1hdCIsVVVJRDoiaGJfdXVpZCIsQ0FDSEVfSUQ6ImhiX2NhY2hlX2lkIixDQUNIRV9IT1NUOiJoYl9jYWNoZV9ob3N0In0sTkFUSVZFX0tFWVM6e3RpdGxlOiJoYl9uYXRpdmVfdGl0bGUiLGJvZHk6ImhiX25hdGl2ZV9ib2R5Iixib2R5MjoiaGJfbmF0aXZlX2JvZHkyIixwcml2YWN5TGluazoiaGJfbmF0aXZlX3ByaXZhY3kiLHByaXZhY3lJY29uOiJoYl9uYXRpdmVfcHJpdmljb24iLHNwb25zb3JlZEJ5OiJoYl9uYXRpdmVfYnJhbmQiLGltYWdlOiJoYl9uYXRpdmVfaW1hZ2UiLGljb246ImhiX25hdGl2ZV9pY29uIixjbGlja1VybDoiaGJfbmF0aXZlX2xpbmt1cmwiLGRpc3BsYXlVcmw6ImhiX25hdGl2ZV9kaXNwbGF5dXJsIixjdGE6ImhiX25hdGl2ZV9jdGEiLHJhdGluZzoiaGJfbmF0aXZlX3JhdGluZyIsYWRkcmVzczoiaGJfbmF0aXZlX2FkZHJlc3MiLGRvd25sb2FkczoiaGJfbmF0aXZlX2Rvd25sb2FkcyIsbGlrZXM6ImhiX25hdGl2ZV9saWtlcyIscGhvbmU6ImhiX25hdGl2ZV9waG9uZSIscHJpY2U6ImhiX25hdGl2ZV9wcmljZSIsc2FsZVByaWNlOiJoYl9uYXRpdmVfc2FsZXByaWNlIn0sUzJTOntTUkM6InMycyIsREVGQVVMVF9FTkRQT0lOVDoiaHR0cHM6Ly9wcmViaWQuYWRueHMuY29tL3Bicy92MS9vcGVucnRiMi9hdWN0aW9uIixTWU5DRURfQklEREVSU19LRVk6InBianNTeW5jcyJ9LEJJRF9TVEFUVVM6e0JJRF9UQVJHRVRJTkdfU0VUOiJ0YXJnZXRpbmdTZXQiLFJFTkRFUkVEOiJyZW5kZXJlZCJ9LFNVQk1PRFVMRVNfVEhBVF9BTFdBWVNfUkVGUkVTSF9JRDp7cGFycmFibGVJZDohMH19fSw0MDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihudWxsPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSw0MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big0OSksaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZT9pKHIoZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LDQyOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sNDM6ZnVuY3Rpb24oZSx0LG4pe3ZhciBsPW4oMjYpLHA9big3MyksZz1uKDc0KSxiPW4oMjgpLHY9big0MSkseT1uKDc1KSxoPXt9LG09e307KHQ9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYSxjLHUscz1pP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OnkoZSksZD1sKG4scix0PzI6MSksZj0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBzKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKGcocykpe2ZvcihvPXYoZS5sZW5ndGgpO2Y8bztmKyspaWYoKHU9dD9kKGIoYT1lW2ZdKVswXSxhWzFdKTpkKGVbZl0pKT09PWh8fHU9PT1tKXJldHVybiB1fWVsc2UgZm9yKGM9cy5jYWxsKGUpOyEoYT1jLm5leHQoKSkuZG9uZTspaWYoKHU9cChjLGQsYS52YWx1ZSx0KSk9PT1ofHx1PT09bSlyZXR1cm4gdX0pLkJSRUFLPWgsdC5SRVRVUk49bX0sNDQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsZnVuY3Rpb24oKXtyZXR1cm4gR30pLG4uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiBXfSksdC5qPWZ1bmN0aW9uKGUpe3ZhciB0LG4sYix2LG89ZS5hZFVuaXRzLHI9ZS5hZFVuaXRDb2RlcyxpPWUuY2FsbGJhY2ssYT1lLmNiVGltZW91dCxjPWUubGFiZWxzLHU9ZS5hdWN0aW9uSWQseT1vLHM9YyxkPXIsaD1bXSxmPVtdLGw9W10sbT11fHxOLmdlbmVyYXRlVVVJRCgpLHA9aSxTPWEsZz1bXSxFPW5ldyBTZXQ7ZnVuY3Rpb24gQSgpe3JldHVybnthdWN0aW9uSWQ6bSx0aW1lc3RhbXA6dCxhdWN0aW9uRW5kOm4sYXVjdGlvblN0YXR1czpiLGFkVW5pdHM6eSxhZFVuaXRDb2RlczpkLGxhYmVsczpzLGJpZGRlclJlcXVlc3RzOmgsbm9CaWRzOmwsYmlkc1JlY2VpdmVkOmYsd2lubmluZ0JpZHM6Zyx0aW1lb3V0OlN9fWZ1bmN0aW9uIFQocixlKXtpZihlJiZjbGVhclRpbWVvdXQodiksdm9pZCAwPT09bil7dmFyIGk9W107ciYmKE4ubG9nTWVzc2FnZSgiQXVjdGlvbiAiLmNvbmNhdChtLCIgdGltZWRPdXQiKSksdD1FLChpPWgubWFwKGZ1bmN0aW9uKGUpe3JldHVybihlLmJpZHN8fFtdKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIXQuaGFzKGUuYmlkZGVyKX0pfSkucmVkdWNlKHcuZmxhdHRlbixbXSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybntiaWRJZDplLmJpZElkLGJpZGRlcjplLmJpZGRlcixhZFVuaXRDb2RlOmUuYWRVbml0Q29kZSxhdWN0aW9uSWQ6ZS5hdWN0aW9uSWR9fSkpLmxlbmd0aCYmUC5lbWl0KE0uRVZFTlRTLkJJRF9USU1FT1VULGkpKSxiPVcsbj1EYXRlLm5vdygpLFAuZW1pdChNLkVWRU5UUy5BVUNUSU9OX0VORCxBKCkpLEsoZCxmdW5jdGlvbigpe3RyeXtpZihudWxsIT1wKXt2YXIgZT1kLHQ9Zi5maWx0ZXIoTi5iaW5kLmNhbGwody5hZFVuaXRzRmlsdGVyLHRoaXMsZSkpLnJlZHVjZShYLHt9KTtwLmFwcGx5KHVwYmpzLFt0LHJdKSxwPW51bGx9fWNhdGNoKGUpe04ubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiLG51bGwsZSl9ZmluYWxseXtpLmxlbmd0aCYmay5jYWxsVGltZWRPdXRCaWRkZXJzKG8saSxTKTt2YXIgbj1fLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpfHx7fTtuLmVuYWJsZU92ZXJyaWRlfHxEKG4uc3luY0RlbGF5KX19KX12YXIgdH1mdW5jdGlvbiBPKCl7Ti5sb2dJbmZvKCJCaWRzIFJlY2VpdmVkIGZvciBBdWN0aW9uIHdpdGggaWQ6ICIuY29uY2F0KG0pLGYpLGI9VyxUKCExLCEwKX1mdW5jdGlvbiBJKGUpe0UuYWRkKGUpfXJldHVybnthZGRCaWRSZWNlaXZlZDpmdW5jdGlvbihlKXtmPWYuY29uY2F0KGUpfSxhZGROb0JpZDpmdW5jdGlvbihlKXtsPWwuY29uY2F0KGUpfSxleGVjdXRlQ2FsbGJhY2s6VCxjYWxsQmlkczpmdW5jdGlvbigpe3ZhciBkPXRoaXM7Yj1xLHQ9RGF0ZS5ub3coKTt2YXIgZj1rLm1ha2VCaWRSZXF1ZXN0cyh5LHQsbSxTLHMpO04ubG9nSW5mbygiQmlkcyBSZXF1ZXN0ZWQgZm9yIEF1Y3Rpb24gd2l0aCBpZDogIi5jb25jYXQobSksZiksZi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0O3Q9ZSxoPWguY29uY2F0KHQpfSk7dmFyIGw9e307aWYoZi5sZW5ndGg8MSlOLmxvZ1dhcm4oIk5vIHZhbGlkIGJpZCByZXF1ZXN0cyByZXR1cm5lZCBmb3IgYXVjdGlvbiIpLE8oKTtlbHNle3ZhciBlPXtiaWRSZXF1ZXN0czpmLHJ1bjpmdW5jdGlvbigpe3ZhciBlLHQ7ZT1ULmJpbmQobnVsbCwhMCksdD1zZXRUaW1lb3V0KGUsUyksdj10LGI9RyxQLmVtaXQoTS5FVkVOVFMuQVVDVElPTl9JTklULEEoKSk7dmFyIG4scixpLG8sYSxjLHU9KG49TyxyPWQsaT0wLG89ITEsYT1uZXcgU2V0LGM9e30se2FkZEJpZFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7Y1t0LnJlcXVlc3RJZF09ITAsaSsrO3ZhciBuPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYWRVbml0Q29kZSxuPWUuYmlkLHI9ZS5iaWRkZXJSZXF1ZXN0LGk9ZS5hdWN0aW9uSWQsbz1yLnN0YXJ0LGE9eCh7fSxuLHthdWN0aW9uSWQ6aSxyZXNwb25zZVRpbWVzdGFtcDpPYmplY3Qody50aW1lc3RhbXApKCkscmVxdWVzdFRpbWVzdGFtcDpvLGNwbTpwYXJzZUZsb2F0KG4uY3BtKXx8MCxiaWRkZXI6bi5iaWRkZXJDb2RlLGFkVW5pdENvZGU6dH0pO2EudGltZVRvUmVzcG9uZD1hLnJlc3BvbnNlVGltZXN0YW1wLWEucmVxdWVzdFRpbWVzdGFtcCxQLmVtaXQoTS5FVkVOVFMuQklEX0FESlVTVE1FTlQsYSk7dmFyIGM9ci5iaWRzJiZCKCkoci5iaWRzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PXR9KSx1PWMmJmMucmVuZGVyZXI7dSYmdS51cmwmJihhLnJlbmRlcmVyPWouYS5pbnN0YWxsKHt1cmw6dS51cmx9KSxhLnJlbmRlcmVyLnNldFJlbmRlcih1LnJlbmRlcikpO3ZhciBzPVEobi5tZWRpYVR5cGUsYyxfLmIuZ2V0Q29uZmlnKCJtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5IikpLGQ9T2JqZWN0KEMuYSkoYS5jcG0sIm9iamVjdCI9PT1SKHMpP3M6Xy5iLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKSxfLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5ncmFudWxhcml0eU11bHRpcGxpZXIiKSk7cmV0dXJuIGEucGJMZz1kLmxvdyxhLnBiTWc9ZC5tZWQsYS5wYkhnPWQuaGlnaCxhLnBiQWc9ZC5hdXRvLGEucGJEZz1kLmRlbnNlLGEucGJDZz1kLmN1c3RvbSxhfSh7YWRVbml0Q29kZTplLGJpZDp0LGJpZGRlclJlcXVlc3Q6dGhpcyxhdWN0aW9uSWQ6ci5nZXRBdWN0aW9uSWQoKX0pOyJ2aWRlbyI9PT1uLm1lZGlhVHlwZT9mdW5jdGlvbihlLHQsbixyKXt2YXIgaT0hMCxvPU9iamVjdCh3LmdldEJpZFJlcXVlc3QpKHQucmVxdWVzdElkLFtuXSksYT1vJiZPYmplY3Qody5kZWVwQWNjZXNzKShvLCJtZWRpYVR5cGVzLnZpZGVvIiksYz1hJiZPYmplY3Qody5kZWVwQWNjZXNzKShhLCJjb250ZXh0Iik7Xy5iLmdldENvbmZpZygiY2FjaGUudXJsIikmJmMhPT1VLmImJih0LnZpZGVvQ2FjaGVLZXk/dC52YXN0VXJsfHwoTi5sb2dFcnJvcigidmlkZW9DYWNoZUtleSBzcGVjaWZpZWQgYnV0IG5vdCByZXF1aXJlZCB2YXN0VXJsIGZvciB2aWRlbyBiaWQiKSxpPSExKTooaT0hMSxZKGUsdCxyLG8pKSksaSYmKEooZSx0KSxyKCkpfShyLG4sdGhpcyxzKTooSihyLG4pLHMoKSl9LGFkYXB0ZXJEb25lOmZ1bmN0aW9uKCl7YS5hZGQodGhpcyksbz1yLmdldEJpZFJlcXVlc3RzKCkuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIGEuaGFzKGUpfSksdGhpcy5iaWRzLmZvckVhY2goZnVuY3Rpb24oZSl7Y1tlLmJpZElkXXx8KHIuYWRkTm9CaWQoZSksUC5lbWl0KE0uRVZFTlRTLk5PX0JJRCxlKSl9KSxvJiYwPT09aSYmbigpfX0pO2Z1bmN0aW9uIHMoKXtpLS0sbyYmMD09PWkmJm4oKX1rLmNhbGxCaWRzKHksZixmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO0guYXBwbHkoe2Rpc3BhdGNoOnUuYWRkQmlkUmVzcG9uc2UsYmlkZGVyUmVxdWVzdDp0aGlzfSx0KX0sdS5hZGFwdGVyRG9uZSx7cmVxdWVzdDpmdW5jdGlvbihlLHQpe2coRix0KSxnKGwsZSkseltlXXx8KHpbZV09e1NSQTohMCxvcmlnaW46dH0pLDE8bFtlXSYmKHpbZV0uU1JBPSExKX0sZG9uZTpmdW5jdGlvbihlKXtGW2VdLS0sVlswXSYmcChWWzBdKSYmVi5zaGlmdCgpfX0sUyxJKX19O3AoZSl8fChOLmxvZ1dhcm4oInF1ZXVlaW5nIGF1Y3Rpb24gZHVlIHRvIGxpbWl0ZWQgZW5kcG9pbnQgY2FwYWNpdHkiKSxWLnB1c2goZSkpfWZ1bmN0aW9uIHAoZSl7dmFyIHI9ITAsaT1fLmIuZ2V0Q29uZmlnKCJtYXhSZXF1ZXN0c1Blck9yaWdpbiIpfHxMO3JldHVybiBlLmJpZFJlcXVlc3RzLnNvbWUoZnVuY3Rpb24oZSl7dmFyIHQ9MSxuPXZvaWQgMCE9PWUuc3JjJiZlLnNyYz09PU0uUzJTLlNSQz8iczJzIjplLmJpZGRlckNvZGU7cmV0dXJuIHpbbl0mJighMT09PXpbbl0uU1JBJiYodD1NYXRoLm1pbihlLmJpZHMubGVuZ3RoLGkpKSxGW3pbbl0ub3JpZ2luXSt0PmkmJihyPSExKSksIXJ9KSxyJiZlLnJ1bigpLHJ9ZnVuY3Rpb24gZyhlLHQpe3ZvaWQgMD09PWVbdF0/ZVt0XT0xOmVbdF0rK319LGFkZFdpbm5pbmdCaWQ6ZnVuY3Rpb24oZSl7Zz1nLmNvbmNhdChlKSxrLmNhbGxCaWRXb25CaWRkZXIoZS5iaWRkZXIsZSxvKX0sc2V0QmlkVGFyZ2V0aW5nOmZ1bmN0aW9uKGUpe2suY2FsbFNldFRhcmdldGluZ0JpZGRlcihlLmJpZGRlcixlKX0sZ2V0V2lubmluZ0JpZHM6ZnVuY3Rpb24oKXtyZXR1cm4gZ30sZ2V0VGltZW91dDpmdW5jdGlvbigpe3JldHVybiBTfSxnZXRBdWN0aW9uSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbX0sZ2V0QXVjdGlvblN0YXR1czpmdW5jdGlvbigpe3JldHVybiBifSxnZXRBZFVuaXRzOmZ1bmN0aW9uKCl7cmV0dXJuIHl9LGdldEFkVW5pdENvZGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGR9LGdldEJpZFJlcXVlc3RzOmZ1bmN0aW9uKCl7cmV0dXJuIGh9LGdldEJpZHNSZWNlaXZlZDpmdW5jdGlvbigpe3JldHVybiBmfSxnZXROb0JpZHM6ZnVuY3Rpb24oKXtyZXR1cm4gbH19fSxuLmQodCwiYyIsZnVuY3Rpb24oKXtyZXR1cm4gSH0pLHQuZj1kLHQuZD1KLG4uZCh0LCJlIixmdW5jdGlvbigpe3JldHVybiBZfSksbi5kKHQsImgiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSxuLmQodCwiZyIsZnVuY3Rpb24oKXtyZXR1cm4gbH0pLHQuaT1wO3ZhciB3PW4oMCkscz1uKDkpLEM9big0NSksYT1uKDI3KSxvPW4oODIpLGo9bigxMCksXz1uKDMpLHI9bigzMyksaT1uKDEzKSxjPW4oMTIpLEI9bi5uKGMpLFU9bigzNCksdT1uKDIpO2Z1bmN0aW9uIFIoZSl7cmV0dXJuKFI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiB4KCl7cmV0dXJuKHg9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgRD1yLmEuc3luY1VzZXJzLE49bigwKSxrPW4oNykuZGVmYXVsdCxQPW4oOCksTT1uKDQpLHE9InN0YXJ0ZWQiLEc9ImluUHJvZ3Jlc3MiLFc9ImNvbXBsZXRlZCI7UC5vbihNLkVWRU5UUy5CSURfQURKVVNUTUVOVCxmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmJpZGRlckNvZGUscj1lLmNwbTtpZih1cGJqcy5iaWRkZXJTZXR0aW5ncyYmKG4mJnVwYmpzLmJpZGRlclNldHRpbmdzW25dJiYiZnVuY3Rpb24iPT10eXBlb2YgdXBianMuYmlkZGVyU2V0dGluZ3Nbbl0uYmlkQ3BtQWRqdXN0bWVudD90PXVwYmpzLmJpZGRlclNldHRpbmdzW25dLmJpZENwbUFkanVzdG1lbnQ6dXBianMuYmlkZGVyU2V0dGluZ3NbTS5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0mJiJmdW5jdGlvbiI9PXR5cGVvZiB1cGJqcy5iaWRkZXJTZXR0aW5nc1tNLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50JiYodD11cGJqcy5iaWRkZXJTZXR0aW5nc1tNLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50KSx0KSl0cnl7cj10KGUuY3BtLHgoe30sZSkpfWNhdGNoKGUpe04ubG9nRXJyb3IoIkVycm9yIGR1cmluZyBiaWQgYWRqdXN0bWVudCIsImJpZG1hbmFnZXIuanMiLGUpfTA8PXImJihlLmNwbT1yKX0oZSl9KTt2YXIgTD00LEY9e30sej17fSxWPVtdO3ZhciBIPU9iamVjdChpLmIpKCJhc3luYyIsZnVuY3Rpb24oZSx0KXt0aGlzLmRpc3BhdGNoLmNhbGwodGhpcy5iaWRkZXJSZXF1ZXN0LGUsdCl9LCJhZGRCaWRSZXNwb25zZSIpLEs9T2JqZWN0KGkuYikoImFzeW5jIixmdW5jdGlvbihlLHQpe3QmJnQoKX0sImJpZHNCYWNrQ2FsbGJhY2siKTtmdW5jdGlvbiBkKGUsdCl7dC50aW1lVG9SZXNwb25kPmUuZ2V0VGltZW91dCgpK18uYi5nZXRDb25maWcoInRpbWVvdXRCdWZmZXIiKSYmZS5leGVjdXRlQ2FsbGJhY2soITApfWZ1bmN0aW9uIEooZSx0KXt2YXIgbj1lLmdldEJpZFJlcXVlc3RzKCkscj1CKCkobixmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJDb2RlPT09dC5iaWRkZXJDb2RlfSk7IWZ1bmN0aW9uKHQsZSl7dmFyIG47aWYodC5iaWRkZXJDb2RlJiYoMDx0LmNwbXx8dC5kZWFsSWQpKXt2YXIgcj1CKCkoZS5iaWRzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PT10LmFkVW5pdENvZGV9KTtuPWZ1bmN0aW9uKGUsdCxuKXtpZighdClyZXR1cm57fTt2YXIgcj17fSxpPXVwYmpzLmJpZGRlclNldHRpbmdzO2lmKGkpe3ZhciBvPXAodC5tZWRpYVR5cGUsZSxuKTtnKHIsbyx0KSxlJiZpW2VdJiZpW2VdW00uSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR10mJihnKHIsaVtlXSx0KSx0LnNlbmRTdGFuZGFyZFRhcmdldGluZz1pW2VdLnNlbmRTdGFuZGFyZFRhcmdldGluZyl9dC5uYXRpdmUmJihyPXgoe30scixPYmplY3QoYS5kKSh0LG4pKSk7cmV0dXJuIHJ9KHQuYmlkZGVyQ29kZSx0LHIpfXQuYWRzZXJ2ZXJUYXJnZXRpbmc9eCh0LmFkc2VydmVyVGFyZ2V0aW5nfHx7fSxuKX0odCxyKSxQLmVtaXQoTS5FVkVOVFMuQklEX1JFU1BPTlNFLHQpLGUuYWRkQmlkUmVjZWl2ZWQodCksZChlLHQpfXZhciBZPU9iamVjdChpLmIpKCJhc3luYyIsZnVuY3Rpb24obixyLGksZSl7T2JqZWN0KG8uYikoW3JdLGZ1bmN0aW9uKGUsdCl7ZT8oTi5sb2dXYXJuKCJGYWlsZWQgdG8gc2F2ZSB0byB0aGUgdmlkZW8gY2FjaGU6ICIuY29uY2F0KGUsIi4gVmlkZW8gYmlkIG11c3QgYmUgZGlzY2FyZGVkLiIpKSxkKG4scikpOiIiPT09dFswXS51dWlkPyhOLmxvZ1dhcm4oIlN1cHBsaWVkIHZpZGVvIGNhY2hlIGtleSB3YXMgYWxyZWFkeSBpbiB1c2UgYnkgUHJlYmlkIENhY2hlOyBjYWNoaW5nIGF0dGVtcHQgd2FzIHJlamVjdGVkLiBWaWRlbyBiaWQgbXVzdCBiZSBkaXNjYXJkZWQuIiksZChuLHIpKTooci52aWRlb0NhY2hlS2V5PXRbMF0udXVpZCxyLnZhc3RVcmx8fChyLnZhc3RVcmw9T2JqZWN0KG8uYSkoci52aWRlb0NhY2hlS2V5KSksSihuLHIpLGkoKSl9KX0sImNhbGxQcmViaWRDYWNoZSIpO2Z1bmN0aW9uIFEoZSx0LG4pe2lmKGUmJm4pe2lmKGU9PT11LmQpe3ZhciByPU9iamVjdCh3LmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMuIi5jb25jYXQodS5kLCIuY29udGV4dCIpLCJpbnN0cmVhbSIpO2lmKG5bIiIuY29uY2F0KHUuZCwiLSIpLmNvbmNhdChyKV0pcmV0dXJuIG5bIiIuY29uY2F0KHUuZCwiLSIpLmNvbmNhdChyKV19cmV0dXJuIG5bZV19fXZhciBmPWZ1bmN0aW9uKGUsdCl7dmFyIG49UShlLHQsXy5iLmdldENvbmZpZygibWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSIpKTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJm4/InN0cmluZyI9PXR5cGVvZiBuP246ImN1c3RvbSI6Xy5iLmdldENvbmZpZygicHJpY2VHcmFudWxhcml0eSIpfSxsPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdD09PU0uR1JBTlVMQVJJVFlfT1BUSU9OUy5BVVRPP2UucGJBZzp0PT09TS5HUkFOVUxBUklUWV9PUFRJT05TLkRFTlNFP2UucGJEZzp0PT09TS5HUkFOVUxBUklUWV9PUFRJT05TLkxPVz9lLnBiTGc6dD09PU0uR1JBTlVMQVJJVFlfT1BUSU9OUy5NRURJVU0/ZS5wYk1nOnQ9PT1NLkdSQU5VTEFSSVRZX09QVElPTlMuSElHSD9lLnBiSGc6dD09PU0uR1JBTlVMQVJJVFlfT1BUSU9OUy5DVVNUT00/ZS5wYkNnOnZvaWQgMH19O2Z1bmN0aW9uIHAoZSx0LG4pe2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm57a2V5OmUsdmFsOiJmdW5jdGlvbiI9PXR5cGVvZiB0P2Z1bmN0aW9uKGUpe3JldHVybiB0KGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHcuZ2V0VmFsdWUpKGUsdCl9fX12YXIgaT1NLlRBUkdFVElOR19LRVlTLG89ZihlLG4pLGE9dXBianMuYmlkZGVyU2V0dGluZ3M7aWYoYVtNLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXXx8KGFbTS5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF09e30pLGFbTS5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF1bTS5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXXx8KGFbTS5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF1bTS5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXT1bcihpLkJJRERFUiwiYmlkZGVyQ29kZSIpLHIoaS5BRF9JRCwiYWRJZCIpLHIoaS5QUklDRV9CVUNLRVQsbChvKSkscihpLlNJWkUsInNpemUiKSxyKGkuREVBTCwiZGVhbElkIikscihpLlNPVVJDRSwic291cmNlIikscihpLkZPUk1BVCwibWVkaWFUeXBlIildKSwidmlkZW8iPT09ZSl7dmFyIGM9YVtNLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtNLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddO2lmKFtpLlVVSUQsaS5DQUNIRV9JRF0uZm9yRWFjaChmdW5jdGlvbih0KXt2b2lkIDA9PT1CKCkoYyxmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXk9PT10fSkmJmMucHVzaChyKHQsInZpZGVvQ2FjaGVLZXkiKSl9KSxfLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSYmKCF0fHwhMSE9PU4uZGVlcEFjY2VzcyhhLCIiLmNvbmNhdCh0LCIuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nIikpKSl7dmFyIHU9T2JqZWN0KHMuYykoXy5iLmdldENvbmZpZygiY2FjaGUudXJsIikpO3ZvaWQgMD09PUIoKShjLGZ1bmN0aW9uKGUpe3JldHVybiBlLmtleT09PWkuQ0FDSEVfSE9TVH0pJiZjLnB1c2gocihpLkNBQ0hFX0hPU1QsZnVuY3Rpb24oZSl7cmV0dXJuIE4uZGVlcEFjY2VzcyhlLCJhZHNlcnZlclRhcmdldGluZy4iLmNvbmNhdChpLkNBQ0hFX0hPU1QpKT9lLmFkc2VydmVyVGFyZ2V0aW5nW2kuQ0FDSEVfSE9TVF06dS5ob3N0bmFtZX0pKX19cmV0dXJuIGFbTS5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF19ZnVuY3Rpb24gZyhyLGksbyl7dmFyIGU9aVtNLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddO3JldHVybiBvLnNpemU9by5nZXRTaXplKCksTi5fZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5LG49ZS52YWw7aWYoclt0XSYmTi5sb2dXYXJuKCJUaGUga2V5OiAiK3QrIiBpcyBnZXR0aW5nIG92ZXdyaXR0ZW4iKSxOLmlzRm4obikpdHJ5e249bihvKX1jYXRjaChlKXtOLmxvZ0Vycm9yKCJiaWRtYW5hZ2VyIiwiRVJST1IiLGUpfSh2b2lkIDA9PT1pLnN1cHByZXNzRW1wdHlLZXlzfHwhMCE9PWkuc3VwcHJlc3NFbXB0eUtleXMpJiZ0IT09TS5UQVJHRVRJTkdfS0VZUy5ERUFMfHwhTi5pc0VtcHR5U3RyKG4pJiZudWxsIT1uP3JbdF09bjpOLmxvZ0luZm8oInN1cHByZXNzaW5nIGVtcHR5IGtleSAnIit0KyInIGZyb20gYWRzZXJ2ZXIgdGFyZ2V0aW5nIil9KSxyfWZ1bmN0aW9uIFgoZSx0KXtyZXR1cm4gZVt0LmFkVW5pdENvZGVdfHwoZVt0LmFkVW5pdENvZGVdPXtiaWRzOltdfSksZVt0LmFkVW5pdENvZGVdLmJpZHMucHVzaCh0KSxlfX0sNDU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsZnVuY3Rpb24oKXtyZXR1cm4gZH0pLG4uZCh0LCJiIixmdW5jdGlvbigpe3JldHVybiB5fSk7dmFyIHI9bigxMiksYj1uLm4ociksaT1uKDApLHY9MixvPXtidWNrZXRzOlt7bWluOjAsbWF4OjUsaW5jcmVtZW50Oi41fV19LGE9e2J1Y2tldHM6W3ttaW46MCxtYXg6MjAsaW5jcmVtZW50Oi4xfV19LGM9e2J1Y2tldHM6W3ttaW46MCxtYXg6MjAsaW5jcmVtZW50Oi4wMX1dfSx1PXtidWNrZXRzOlt7bWluOjAsbWF4OjMsaW5jcmVtZW50Oi4wMX0se21pbjozLG1heDo4LGluY3JlbWVudDouMDV9LHttaW46OCxtYXg6MjAsaW5jcmVtZW50Oi41fV19LHM9e2J1Y2tldHM6W3ttaW46MCxtYXg6NSxpbmNyZW1lbnQ6LjA1fSx7bWluOjUsbWF4OjEwLGluY3JlbWVudDouMX0se21pbjoxMCxtYXg6MjAsaW5jcmVtZW50Oi41fV19O2Z1bmN0aW9uIGQoZSx0KXt2YXIgbj0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MSxyPXBhcnNlRmxvYXQoZSk7cmV0dXJuIGlzTmFOKHIpJiYocj0iIikse2xvdzoiIj09PXI/IiI6ZihlLG8sbiksbWVkOiIiPT09cj8iIjpmKGUsYSxuKSxoaWdoOiIiPT09cj8iIjpmKGUsYyxuKSxhdXRvOiIiPT09cj8iIjpmKGUscyxuKSxkZW5zZToiIj09PXI/IiI6ZihlLHUsbiksY3VzdG9tOiIiPT09cj8iIjpmKGUsdCxuKX19ZnVuY3Rpb24gZihuLGUscil7dmFyIGk9IiI7aWYoIXkoZSkpcmV0dXJuIGk7dmFyIHQsbyxhLGMsdSxzLGQsZixsLHA9ZS5idWNrZXRzLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLm1heD50Lm1heD9lOnR9LHttYXg6MH0pLGc9YigpKGUuYnVja2V0cyxmdW5jdGlvbihlKXtpZihuPnAubWF4KnIpe3ZhciB0PWUucHJlY2lzaW9uO3ZvaWQgMD09PXQmJih0PXYpLGk9KGUubWF4KnIpLnRvRml4ZWQodCl9ZWxzZSBpZihuPD1lLm1heCpyJiZuPj1lLm1pbipyKXJldHVybiBlfSk7cmV0dXJuIGcmJih0PW4sYT1yLGM9dm9pZCAwIT09KG89ZykucHJlY2lzaW9uP28ucHJlY2lzaW9uOnYsdT1vLmluY3JlbWVudCphLHM9by5taW4qYSxkPU1hdGgucG93KDEwLGMrMiksZj0odCpkLXMqZCkvKHUqZCksbD1NYXRoLmZsb29yKGYpKnUrcyxpPShsPU51bWJlcihsLnRvRml4ZWQoMTApKSkudG9GaXhlZChjKSksaX1mdW5jdGlvbiB5KGUpe2lmKGkuaXNFbXB0eShlKXx8IWUuYnVja2V0c3x8IUFycmF5LmlzQXJyYXkoZS5idWNrZXRzKSlyZXR1cm4hMTt2YXIgdD0hMDtyZXR1cm4gZS5idWNrZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5taW4mJmUubWF4JiZlLmluY3JlbWVudHx8KHQ9ITEpfSksdH19LDQ2OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sNDc6ZnVuY3Rpb24oZSx0LG4pe3ZhciBtPW4oMjYpLFM9big2MiksRT1uKDQ4KSxBPW4oNDEpLHI9big4OSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGYsZSl7dmFyIGw9MT09ZixwPTI9PWYsZz0zPT1mLGI9ND09Zix2PTY9PWYseT01PT1mfHx2LGg9ZXx8cjtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixpLG89RShlKSxhPVMobyksYz1tKHQsbiwzKSx1PUEoYS5sZW5ndGgpLHM9MCxkPWw/aChlLHUpOnA/aChlLDApOnZvaWQgMDtzPHU7cysrKWlmKCh5fHxzIGluIGEpJiYoaT1jKHI9YVtzXSxzLG8pLGYpKWlmKGwpZFtzXT1pO2Vsc2UgaWYoaSlzd2l0Y2goZil7Y2FzZSAzOnJldHVybiEwO2Nhc2UgNTpyZXR1cm4gcjtjYXNlIDY6cmV0dXJuIHM7Y2FzZSAyOmQucHVzaChyKX1lbHNlIGlmKGIpcmV0dXJuITE7cmV0dXJuIHY/LTE6Z3x8Yj9iOmR9fX0sNDg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNDApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIoZSkpfX0sNDk6ZnVuY3Rpb24oZSx0KXt2YXIgbj1NYXRoLmNlaWwscj1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooMDxlP3I6bikoZSl9fSw1OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSx0LmI9aTt2YXIgbD1uKDkpLHA9bigzKSxnPW4oMzEpO2Z1bmN0aW9uIGIoKXtyZXR1cm4oYj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHYoZSl7cmV0dXJuKHY9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgeT1uKDApLGg9NCxyPWkoKTtmdW5jdGlvbiBpKCl7dmFyIHM9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjNlMyxlPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxkPWUucmVxdWVzdCxmPWUuZG9uZTtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciByPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fTt0cnl7MD09ZS5pbmRleE9mKCJodHRwOi8vIik/ZT1lLnJlcGxhY2UoImh0dHA6IiwiaHR0cHM6Iik6MDw9d2luZG93LmxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoImh0dHAiKSYmMD09ZS5pbmRleE9mKCIvLyIpJiYoZT1lLnJlcGxhY2UoIi8vIiwiaHR0cHM6Ly8iKSl9Y2F0Y2goZSl7fWU9Zy5jKGUpO3RyeXt2YXIgaSxvPXIubWV0aG9kfHwobj8iUE9TVCI6IkdFVCIpLGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2EuaHJlZj1lO3ZhciBjPSJvYmplY3QiPT09dih0KSYmbnVsbCE9PXQ/dDp7c3VjY2VzczpmdW5jdGlvbigpe3kubG9nTWVzc2FnZSgieGhyIHN1Y2Nlc3MiKX0sZXJyb3I6ZnVuY3Rpb24oZSl7eS5sb2dFcnJvcigieGhyIGVycm9yIixudWxsLGUpfX07aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQmJihjLnN1Y2Nlc3M9dCksKGk9bmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoaS5yZWFkeVN0YXRlPT09aCl7ImZ1bmN0aW9uIj09dHlwZW9mIGYmJmYoYS5vcmlnaW4pO3ZhciBlPWkuc3RhdHVzOzIwMDw9ZSYmZTwzMDB8fDMwND09PWU/Yy5zdWNjZXNzKGkucmVzcG9uc2VUZXh0LGkpOmMuZXJyb3IoaS5zdGF0dXNUZXh0LGkpfX0scC5iLmdldENvbmZpZygiZGlzYWJsZUFqYXhUaW1lb3V0Iil8fChpLm9udGltZW91dD1mdW5jdGlvbigpe3kubG9nRXJyb3IoIiAgeGhyIHRpbWVvdXQgYWZ0ZXIgIixpLnRpbWVvdXQsIm1zIil9KSwiR0VUIj09PW8mJm4pe3ZhciB1PU9iamVjdChsLmMpKGUscik7Yih1LnNlYXJjaCxuKSxlPU9iamVjdChsLmEpKHUpfWkub3BlbihvLGUsITApLHAuYi5nZXRDb25maWcoImRpc2FibGVBamF4VGltZW91dCIpfHwoaS50aW1lb3V0PXMpLHIud2l0aENyZWRlbnRpYWxzJiYoaS53aXRoQ3JlZGVudGlhbHM9ITApLHkuX2VhY2goci5jdXN0b21IZWFkZXJzLGZ1bmN0aW9uKGUsdCl7aS5zZXRSZXF1ZXN0SGVhZGVyKHQsZSl9KSxyLnByZWZsaWdodCYmaS5zZXRSZXF1ZXN0SGVhZGVyKCJYLVJlcXVlc3RlZC1XaXRoIiwiWE1MSHR0cFJlcXVlc3QiKSxpLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsci5jb250ZW50VHlwZXx8InRleHQvcGxhaW4iKSwiZnVuY3Rpb24iPT10eXBlb2YgZCYmZChhLm9yaWdpbiksIlBPU1QiPT09byYmbj9pLnNlbmQobik6aS5zZW5kKCl9Y2F0Y2goZSl7eS5sb2dFcnJvcigieGhyIGNvbnN0cnVjdGlvbiIsZSl9fX19LDUwOmZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIi5jb25jYXQodm9pZCAwPT09ZT8iIjplLCIpXyIsKCsrbityKS50b1N0cmluZygzNikpfX0sNTE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjIpLGk9big0MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByKGkoZSkpfX0sNTI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBtKCl7cmV0dXJuIHRoaXN9dmFyIFM9big2NCksRT1uKDE1KSxBPW4oOTYpLFQ9bigyMSksTz1uKDMwKSxJPW4oOTcpLHc9big1NCksQz1uKDEwMiksaj1uKDE0KSgiaXRlcmF0b3IiKSxfPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLEI9InZhbHVlcyI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe0kobix0LHIpO2Z1bmN0aW9uIGMoZSl7aWYoIV8mJmUgaW4gZylyZXR1cm4gZ1tlXTtzd2l0Y2goZSl7Y2FzZSJrZXlzIjpjYXNlIEI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLGUpfX12YXIgdSxzLGQsZj10KyIgSXRlcmF0b3IiLGw9aT09QixwPSExLGc9ZS5wcm90b3R5cGUsYj1nW2pdfHxnWyJAQGl0ZXJhdG9yIl18fGkmJmdbaV0sdj1ifHxjKGkpLHk9aT9sP2MoImVudHJpZXMiKTp2OnZvaWQgMCxoPSJBcnJheSI9PXQmJmcuZW50cmllc3x8YjtpZihoJiYoZD1DKGguY2FsbChuZXcgZSkpKSE9PU9iamVjdC5wcm90b3R5cGUmJmQubmV4dCYmKHcoZCxmLCEwKSxTfHwiZnVuY3Rpb24iPT10eXBlb2YgZFtqXXx8VChkLGosbSkpLGwmJmImJmIubmFtZSE9PUImJihwPSEwLHY9ZnVuY3Rpb24oKXtyZXR1cm4gYi5jYWxsKHRoaXMpfSksUyYmIWF8fCFfJiYhcCYmZ1tqXXx8VChnLGosdiksT1t0XT12LE9bZl09bSxpKWlmKHU9e3ZhbHVlczpsP3Y6YyhCKSxrZXlzOm8/djpjKCJrZXlzIiksZW50cmllczp5fSxhKWZvcihzIGluIHUpcyBpbiBnfHxBKGcscyx1W3NdKTtlbHNlIEUoRS5QK0UuRiooX3x8cCksdCx1KTtyZXR1cm4gdX19LDUzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDYzKSgia2V5cyIpLGk9big1MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByW2VdfHwocltlXT1pKGUpKX19LDU0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIwKS5mLGk9bigyOSksbz1uKDE0KSgidG9TdHJpbmdUYWciKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2UmJiFpKGU9bj9lOmUucHJvdG90eXBlLG8pJiZyKGUsbyx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LDU1OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUpe3ZhciB0PWU7cmV0dXJue2NhbGxCaWRzOmZ1bmN0aW9uKCl7fSxzZXRCaWRkZXJDb2RlOmZ1bmN0aW9uKGUpe3Q9ZX0sZ2V0QmlkZGVyQ29kZTpmdW5jdGlvbigpe3JldHVybiB0fX19fSw1OTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbih0LG4pe28uYWRTZXJ2ZXJzPW8uYWRTZXJ2ZXJzfHx7fSxvLmFkU2VydmVyc1t0XT1vLmFkU2VydmVyc1t0XXx8e30sT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXtvLmFkU2VydmVyc1t0XVtlXT9PYmplY3QoaS5sb2dXYXJuKSgiQXR0ZW1wdGluZyB0byBhZGQgYW4gYWxyZWFkeSByZWdpc3RlcmVkIGZ1bmN0aW9uIHByb3BlcnR5ICIuY29uY2F0KGUsIiBmb3IgQWRTZXJ2ZXIgIikuY29uY2F0KHQsIi4iKSk6by5hZFNlcnZlcnNbdF1bZV09bltlXX0pfTt2YXIgcj1uKDI0KSxpPW4oMCksbz1PYmplY3Qoci5hKSgpfSw2MDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0sNjE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTcpLGk9bigxOSkuZG9jdW1lbnQsbz1yKGkpJiZyKGkuY3JlYXRlRWxlbWVudCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvP2kuY3JlYXRlRWxlbWVudChlKTp7fX19LDYyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM5KTtlLmV4cG9ydHM9T2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1yKGUpP2Uuc3BsaXQoIiIpOk9iamVjdChlKX19LDYzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oMTkpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsYT1pW29dfHwoaVtvXT17fSk7KGUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBhW2VdfHwoYVtlXT12b2lkIDAhPT10P3Q6e30pfSkoInZlcnNpb25zIixbXSkucHVzaCh7dmVyc2lvbjpyLnZlcnNpb24sbW9kZTpuKDY0KT8icHVyZSI6Imdsb2JhbCIsY29weXJpZ2h0OiLCqSAyMDE5IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpIn0pfSw2NDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0hMH0sNjU6ZnVuY3Rpb24oZSx0LG4pe3ZhciB1PW4oNTEpLHM9big0MSksZD1uKDkzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oYyl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPXUoZSksbz1zKGkubGVuZ3RoKSxhPWQobixvKTtpZihjJiZ0IT10KXtmb3IoO2E8bzspaWYoKHI9aVthKytdKSE9cilyZXR1cm4hMH1lbHNlIGZvcig7YTxvO2ErKylpZigoY3x8YSBpbiBpKSYmaVthXT09PXQpcmV0dXJuIGN8fGF8fDA7cmV0dXJuIWMmJi0xfX19LDY2OmZ1bmN0aW9uKGUsdCxuKXtuKDk0KSxuKDY3KSxuKDEwMyksbigxMDUpLG4oMTA5KSxuKDExMiksbigxMTQpLGUuZXhwb3J0cz1uKDE2KS5TZXR9LDY3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big5NSkoITApO24oNTIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LG49dGhpcy5faTtyZXR1cm4gbj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1yKHQsbiksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LDY4OmZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBpKCl7fXZhciBvPXIoMjgpLGE9cig5OCksYz1yKDY5KSx1PXIoNTMpKCJJRV9QUk9UTyIpLHM9InByb3RvdHlwZSIsZD1mdW5jdGlvbigpe3ZhciBlLHQ9cig2MSkoImlmcmFtZSIpLG49Yy5sZW5ndGg7Zm9yKHQuc3R5bGUuZGlzcGxheT0ibm9uZSIscigxMDEpLmFwcGVuZENoaWxkKHQpLHQuc3JjPSJqYXZhc2NyaXB0OiIsKGU9dC5jb250ZW50V2luZG93LmRvY3VtZW50KS5vcGVuKCksZS53cml0ZSgiPHNjcmlwdD5kb2N1bWVudC5GPU9iamVjdDxcL3NjcmlwdD4iKSxlLmNsb3NlKCksZD1lLkY7bi0tOylkZWxldGUgZFtzXVtjW25dXTtyZXR1cm4gZCgpfTtlLmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gbnVsbCE9PWU/KGlbc109byhlKSxuPW5ldyBpLGlbc109bnVsbCxuW3VdPWUpOm49ZCgpLHZvaWQgMD09PXQ/bjphKG4sdCl9fSw2OTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSw3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJnZHByRGF0YUhhbmRsZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSxuLmQodCwidXNwRGF0YUhhbmRsZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIER9KSx0LnNldFMyU1Rlc3RpbmdNb2R1bGU9ZnVuY3Rpb24oZSl7dz1lfTt2YXIgRT1uKDApLHA9big4MCksZz1uKDI3KSxkPW4oMSksaD1uKDUpLEE9bigzKSxyPW4oMTEpLFQ9bi5uKHIpLGk9bigxMiksTz1uLm4oaSksYj1uKDgxKSxJPW4oMzIpO2Z1bmN0aW9uIG0oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkpcmV0dXJuO3ZhciBuPVtdLHI9ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBhLGM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPWMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChhLnZhbHVlKSwhdHx8bi5sZW5ndGghPT10KTtyPSEwKTt9Y2F0Y2goZSl7aT0hMCxvPWV9ZmluYWxseXt0cnl7cnx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IG99fXJldHVybiBufShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX1mdW5jdGlvbiB2KCl7cmV0dXJuKHY9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdyxDPW4oMCksaj1uKDQpLF89big4KSxmPXt9LEI9Zi5iaWRkZXJSZWdpc3RyeT17fSxsPWYuYWxpYXNSZWdpc3RyeT17fSxVPXt9O0EuYi5nZXRDb25maWcoInMyc0NvbmZpZyIsZnVuY3Rpb24oZSl7VT1lLnMyc0NvbmZpZ30pO3ZhciBvPXt9O2Z1bmN0aW9uIFIoZSl7dmFyIGk9ZS5iaWRkZXJDb2RlLHM9ZS5hdWN0aW9uSWQsZD1lLmJpZGRlclJlcXVlc3RJZCx0PWUuYWRVbml0cyxmPWUubGFiZWxzLGw9ZS5zcmM7cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKGUsYyl7dmFyIHQ9T2JqZWN0KHAuYikoT2JqZWN0KHAuYSkoYyxmKSxjLm1lZGlhVHlwZXMsYy5zaXplcyksbj10LmFjdGl2ZSx1PXQubWVkaWFUeXBlcyxyPXQuZmlsdGVyUmVzdWx0cztyZXR1cm4gbj9yJiZDLmxvZ0luZm8oJ1NpemUgbWFwcGluZyBmaWx0ZXJlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIiBiYW5uZXIgc2l6ZXMgZnJvbSAnKSxyLmJlZm9yZSwidG8gIixyLmFmdGVyKTpDLmxvZ0luZm8oJ1NpemUgbWFwcGluZyBkaXNhYmxlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIicpKSxuJiZlLnB1c2goYy5iaWRzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXI9PT1pfSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIG49Yy5uYXRpdmVQYXJhbXN8fEMuZGVlcEFjY2VzcyhjLCJtZWRpYVR5cGVzLm5hdGl2ZSIpO24mJih0PXYoe30sdCx7bmF0aXZlUGFyYW1zOk9iamVjdChnLmcpKG4pfSkpLHQ9dih7fSx0LE9iamVjdChFLmdldERlZmluZWRQYXJhbXMpKGMsWyJmcGQiLCJtZWRpYVR5cGUiLCJyZW5kZXJlciJdKSk7dmFyIHI9T2JqZWN0KHAuYikoT2JqZWN0KHAuYSkodCxmKSx1KSxpPXIuYWN0aXZlLG89ci5tZWRpYVR5cGVzLGE9ci5maWx0ZXJSZXN1bHRzO3JldHVybiBpP2EmJkMubG9nSW5mbygnU2l6ZSBtYXBwaW5nIGZpbHRlcmVkIGFkVW5pdCAiJy5jb25jYXQoYy5jb2RlLCciIGJpZGRlciAiJykuY29uY2F0KHQuYmlkZGVyLCciIGJhbm5lciBzaXplcyBmcm9tICcpLGEuYmVmb3JlLCJ0byAiLGEuYWZ0ZXIpOkMubG9nSW5mbygnU2l6ZSBtYXBwaW5nIGRlYWN0aXZhdGVkIGFkVW5pdCAiJy5jb25jYXQoYy5jb2RlLCciIGJpZGRlciAiJykuY29uY2F0KHQuYmlkZGVyLCciJykpLEMuaXNWYWxpZE1lZGlhVHlwZXMobyk/dD12KHt9LHQse21lZGlhVHlwZXM6b30pOkMubG9nRXJyb3IoIm1lZGlhVHlwZXMgaXMgbm90IGNvcnJlY3RseSBjb25maWd1cmVkIGZvciBhZHVuaXQgIi5jb25jYXQoYy5jb2RlKSksaSYmZS5wdXNoKHYoe30sdCx7YWRVbml0Q29kZTpjLmNvZGUsdHJhbnNhY3Rpb25JZDpjLnRyYW5zYWN0aW9uSWQsc2l6ZXM6Qy5kZWVwQWNjZXNzKG8sImJhbm5lci5zaXplcyIpfHxDLmRlZXBBY2Nlc3MobywidmlkZW8ucGxheWVyU2l6ZSIpfHxbXSxiaWRJZDp0LmJpZF9pZHx8Qy5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksYmlkZGVyUmVxdWVzdElkOmQsYXVjdGlvbklkOnMsc3JjOmwsYmlkUmVxdWVzdHNDb3VudDpiLmEuZ2V0UmVxdWVzdHNDb3VudGVyKGMuY29kZSksYmlkZGVyUmVxdWVzdHNDb3VudDpiLmEuZ2V0QmlkZGVyUmVxdWVzdHNDb3VudGVyKGMuY29kZSx0LmJpZGRlciksYmlkZGVyV2luc0NvdW50OmIuYS5nZXRCaWRkZXJXaW5zQ291bnRlcihjLmNvZGUsdC5iaWRkZXIpfSkpLGV9LFtdKSksZX0sW10pLnJlZHVjZShFLmZsYXR0ZW4sW10pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4iIiE9PWV9KX12YXIgeD17Y29uc2VudERhdGE6bnVsbCxzZXRDb25zZW50RGF0YTpmdW5jdGlvbihlKXt4LmNvbnNlbnREYXRhPWV9LGdldENvbnNlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHguY29uc2VudERhdGF9fSxEPXtjb25zZW50RGF0YTpudWxsLHNldENvbnNlbnREYXRhOmZ1bmN0aW9uKGUpe0QuY29uc2VudERhdGE9ZX0sZ2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gRC5jb25zZW50RGF0YX19O2Z1bmN0aW9uIE4oKXtyZXR1cm4gVSYmVS5lbmFibGVkJiZVLnRlc3RpbmcmJnd9ZnVuY3Rpb24gYSh0LG4sZSl7dHJ5e3ZhciByPUJbdF0uZ2V0U3BlYygpO3ImJnJbbl0mJiJmdW5jdGlvbiI9PXR5cGVvZiByW25dJiYoQy5sb2dJbmZvKCJJbnZva2luZyAiLmNvbmNhdCh0LCIuIikuY29uY2F0KG4pKSxBLmIucnVuV2l0aEJpZGRlcih0LEUuYmluZC5jYWxsKHJbbl0scixlKSkpfWNhdGNoKGUpe0MubG9nV2FybigiRXJyb3IgY2FsbGluZyAiLmNvbmNhdChuLCIgb2YgIikuY29uY2F0KHQpKX19Zi5tYWtlQmlkUmVxdWVzdHM9ZnVuY3Rpb24oZSxpLG8sYSxjKXtfLmVtaXQoai5FVkVOVFMuQkVGT1JFX1JFUVVFU1RfQklEUyxlKTt2YXIgdT1bXSx0PU9iamVjdChFLmdldEJpZGRlckNvZGVzKShlKTtBLmIuZ2V0Q29uZmlnKCJiaWRkZXJTZXF1ZW5jZSIpPT09QS5hJiYodD1PYmplY3QoRS5zaHVmZmxlKSh0KSk7dmFyIG4scixzLGQsZj1PYmplY3QoSS5iKSgpLGw9dCxwPVtdO2lmKFUuZW5hYmxlZCl7aWYoTigpKXt2YXIgZz13LmdldFNvdXJjZUJpZGRlck1hcChlKTtwPWdbdy5DTElFTlRdfXZhciBiPVUuYmlkZGVycztsPXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFUKCkoYixlKXx8VCgpKHAsZSl9KTtCb29sZWFuKE4oKSYmVS50ZXN0U2VydmVyT25seSkmJihkPWUsQm9vbGVhbihPKCkoZCxmdW5jdGlvbihlKXtyZXR1cm4gTygpKGUuYmlkcyxmdW5jdGlvbihlKXtyZXR1cm4oZS5iaWRTb3VyY2V8fFUuYmlkZGVyQ29udHJvbCYmVS5iaWRkZXJDb250cm9sW2UuYmlkZGVyXSkmJmUuZmluYWxTb3VyY2U9PT13LlNFUlZFUn0pfSkpKSYmKGwubGVuZ3RoPTApO3ZhciB2PShuPWUscj1VLmJpZGRlcnMsKHM9Qy5kZWVwQ2xvbmUobikpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5iaWRzPWUuYmlkcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIFQoKShyLGUuYmlkZGVyKSYmKCFOKCl8fGUuZmluYWxTb3VyY2UhPT13LkNMSUVOVCl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkX2lkPUMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGV9KX0pLHM9cy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDAhPT1lLmJpZHMubGVuZ3RofSkpLHk9Qy5nZW5lcmF0ZVVVSUQoKTtiLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9Qy5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksbj17YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpvLGJpZGRlclJlcXVlc3RJZDp0LHRpZDp5LGJpZHM6Uih7YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpvLGJpZGRlclJlcXVlc3RJZDp0LGFkVW5pdHM6Qy5kZWVwQ2xvbmUodiksbGFiZWxzOmMsc3JjOmouUzJTLlNSQ30pLGF1Y3Rpb25TdGFydDppLHRpbWVvdXQ6VS50aW1lb3V0LHNyYzpqLlMyUy5TUkMscmVmZXJlckluZm86Zn07MCE9PW4uYmlkcy5sZW5ndGgmJnUucHVzaChuKX0pLHYuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmJpZHMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBPKCkodSxmdW5jdGlvbihlKXtyZXR1cm4gTygpKGUuYmlkcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRJZD09PXQuYmlkX2lkfSl9KX0pO2UuYmlkcz10fSksdS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuYWRVbml0c1MyU0NvcHk9di5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZS5iaWRzLmxlbmd0aH0pfSl9dmFyIGgsbSxTPShoPWUsKG09Qy5kZWVwQ2xvbmUoaCkpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5iaWRzPWUuYmlkcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIU4oKXx8ZS5maW5hbFNvdXJjZSE9PXcuU0VSVkVSfSl9KSxtPW0uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZS5iaWRzLmxlbmd0aH0pKTtyZXR1cm4gbC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PUMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLG49e2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6byxiaWRkZXJSZXF1ZXN0SWQ6dCxiaWRzOlIoe2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6byxiaWRkZXJSZXF1ZXN0SWQ6dCxhZFVuaXRzOkMuZGVlcENsb25lKFMpLGxhYmVsczpjLHNyYzoiY2xpZW50In0pLGF1Y3Rpb25TdGFydDppLHRpbWVvdXQ6YSxyZWZlcmVySW5mbzpmfSxyPUJbZV07cnx8Qy5sb2dFcnJvcigiVHJ5aW5nIHRvIG1ha2UgYSByZXF1ZXN0IGZvciBiaWRkZXIgdGhhdCBkb2VzIG5vdCBleGlzdDogIi5jb25jYXQoZSkpLHImJm4uYmlkcyYmMCE9PW4uYmlkcy5sZW5ndGgmJnUucHVzaChuKX0pLHguZ2V0Q29uc2VudERhdGEoKSYmdS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZ2RwckNvbnNlbnQ9eC5nZXRDb25zZW50RGF0YSgpfSksRC5nZXRDb25zZW50RGF0YSgpJiZ1LmZvckVhY2goZnVuY3Rpb24oZSl7ZS51c3BDb25zZW50PUQuZ2V0Q29uc2VudERhdGEoKX0pLHV9LGYuY2FsbEJpZHM9ZnVuY3Rpb24oZSx0LHIsaSxvLGEsYyl7aWYodC5sZW5ndGgpe3ZhciBuPW0odC5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVtOdW1iZXIodm9pZCAwIT09dC5zcmMmJnQuc3JjPT09ai5TMlMuU1JDKV0ucHVzaCh0KSxlfSxbW10sW11dKSwyKSx1PW5bMF0scz1uWzFdO2lmKHMubGVuZ3RoKXt2YXIgZD1PYmplY3QoaC5iKShhLG8/e3JlcXVlc3Q6by5yZXF1ZXN0LmJpbmQobnVsbCwiczJzIiksZG9uZTpvLmRvbmV9OnZvaWQgMCksZj1VLmJpZGRlcnMsbD1CW1UuYWRhcHRlcl0scD1zWzBdLnRpZCxnPXNbMF0uYWRVbml0c1MyU0NvcHk7aWYobCl7dmFyIGI9e3RpZDpwLGFkX3VuaXRzOmd9O2lmKGIuYWRfdW5pdHMubGVuZ3RoKXt2YXIgdj1zLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydD1PYmplY3QoRS50aW1lc3RhbXApKCksaS5iaW5kKGUpfSkseT1iLmFkX3VuaXRzLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCgodC5iaWRzfHxbXSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQuYmlkZGVyKX0sW10pKX0sW10pO0MubG9nTWVzc2FnZSgiQ0FMTElORyBTMlMgSEVBREVSIEJJRERFUlMgPT09PSAiLmNvbmNhdChmLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gVCgpKHksZSl9KS5qb2luKCIsIikpKSxzLmZvckVhY2goZnVuY3Rpb24oZSl7Xy5lbWl0KGouRVZFTlRTLkJJRF9SRVFVRVNURUQsZSl9KSxsLmNhbGxCaWRzKGIscyxmdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdChFLmdldEJpZGRlclJlcXVlc3QpKHMsdC5iaWRkZXJDb2RlLGUpO24mJnIuY2FsbChuLGUsdCl9LGZ1bmN0aW9uKCl7cmV0dXJuIHYuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSl9LGQpfX1lbHNlIEMubG9nRXJyb3IoIm1pc3NpbmcgIitVLmFkYXB0ZXIpfXUuZm9yRWFjaChmdW5jdGlvbihlKXtlLnN0YXJ0PU9iamVjdChFLnRpbWVzdGFtcCkoKTt2YXIgdD1CW2UuYmlkZGVyQ29kZV07Qy5sb2dNZXNzYWdlKCJDQUxMSU5HIEJJRERFUiA9PT09PT09ICIuY29uY2F0KGUuYmlkZGVyQ29kZSkpLF8uZW1pdChqLkVWRU5UUy5CSURfUkVRVUVTVEVELGUpO3ZhciBuPU9iamVjdChoLmIpKGEsbz97cmVxdWVzdDpvLnJlcXVlc3QuYmluZChudWxsLGUuYmlkZGVyQ29kZSksZG9uZTpvLmRvbmV9OnZvaWQgMCk7QS5iLnJ1bldpdGhCaWRkZXIoZS5iaWRkZXJDb2RlLEUuYmluZC5jYWxsKHQuY2FsbEJpZHMsdCxlLHIuYmluZChlKSxpLmJpbmQoZSksbixjLEEuYi5jYWxsYmFja1dpdGhCaWRkZXIoZS5iaWRkZXJDb2RlKSkpfSl9ZWxzZSBDLmxvZ1dhcm4oImNhbGxCaWRzIGV4ZWN1dGVkIHdpdGggbm8gYmlkUmVxdWVzdHMuICBXZXJlIHRoZXkgZmlsdGVyZWQgYnkgbGFiZWxzIG9yIHNpemluZz8iKX0sZi52aWRlb0FkYXB0ZXJzPVtdLGYucmVnaXN0ZXJCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7dmFyIG49KDI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSkuc3VwcG9ydGVkTWVkaWFUeXBlcyxyPXZvaWQgMD09PW4/W106bjtlJiZ0PyJmdW5jdGlvbiI9PXR5cGVvZiBlLmNhbGxCaWRzPyhCW3RdPWUsVCgpKHIsInZpZGVvIikmJmYudmlkZW9BZGFwdGVycy5wdXNoKHQpLFQoKShyLCJuYXRpdmUiKSYmZy5lLnB1c2godCkpOkMubG9nRXJyb3IoIkJpZGRlciBhZGFwdG9yIGVycm9yIGZvciBiaWRkZXIgY29kZTogIit0KyJiaWRkZXIgbXVzdCBpbXBsZW1lbnQgYSBjYWxsQmlkcygpIGZ1bmN0aW9uIik6Qy5sb2dFcnJvcigiYmlkQWRhcHRvciBvciBiaWRkZXJDb2RlIG5vdCBzcGVjaWZpZWQiKX0sZi5hbGlhc0JpZEFkYXB0ZXI9ZnVuY3Rpb24odCxlKXt2YXIgbixyO2lmKHZvaWQgMD09PUJbZV0pe3ZhciBpPUJbdF07aWYodm9pZCAwPT09aSl7dmFyIG89QS5iLmdldENvbmZpZygiczJzQ29uZmlnIiksYT1vJiZvLmJpZGRlcnM7YSYmVCgpKGEsZSk/bFtlXT10OkMubG9nRXJyb3IoJ2JpZGRlckNvZGUgIicrdCsnIiBpcyBub3QgYW4gZXhpc3RpbmcgYmlkZGVyLicsImFkYXB0ZXJNYW5hZ2VyLmFsaWFzQmlkQWRhcHRlciIpfWVsc2UgdHJ5e3ZhciBjLHU9KG49dCxyPVtdLFQoKShmLnZpZGVvQWRhcHRlcnMsbikmJnIucHVzaCgidmlkZW8iKSxUKCkoZy5lLG4pJiZyLnB1c2goIm5hdGl2ZSIpLHIpO2lmKGkuY29uc3RydWN0b3IucHJvdG90eXBlIT1PYmplY3QucHJvdG90eXBlKShjPW5ldyBpLmNvbnN0cnVjdG9yKS5zZXRCaWRkZXJDb2RlKGUpO2Vsc2V7dmFyIHM9aS5nZXRTcGVjKCk7Yz1PYmplY3QoZC5uZXdCaWRkZXIpKHYoe30scyx7Y29kZTplfSkpLGxbZV09dH1mLnJlZ2lzdGVyQmlkQWRhcHRlcihjLGUse3N1cHBvcnRlZE1lZGlhVHlwZXM6dX0pfWNhdGNoKGUpe0MubG9nRXJyb3IodCsiIGJpZGRlciBkb2VzIG5vdCBjdXJyZW50bHkgc3VwcG9ydCBhbGlhc2luZy4iLCJhZGFwdGVyTWFuYWdlci5hbGlhc0JpZEFkYXB0ZXIiKX19ZWxzZSBDLmxvZ01lc3NhZ2UoJ2FsaWFzIG5hbWUgIicrZSsnIiBoYXMgYmVlbiBhbHJlYWR5IHNwZWNpZmllZC4nKX0sZi5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZGFwdGVyLG49ZS5jb2RlO3QmJm4/ImZ1bmN0aW9uIj09dHlwZW9mIHQuZW5hYmxlQW5hbHl0aWNzPyh0LmNvZGU9bixvW25dPXQpOkMubG9nRXJyb3IoJ1ByZWJpZCBFcnJvcjogQW5hbHl0aWNzIGFkYXB0b3IgZXJyb3IgZm9yIGFuYWx5dGljcyAiJy5jb25jYXQobiwnIlxuICAgICAgICBhbmFseXRpY3MgYWRhcHRlciBtdXN0IGltcGxlbWVudCBhbiBlbmFibGVBbmFseXRpY3MoKSBmdW5jdGlvbicpKTpDLmxvZ0Vycm9yKCJQcmViaWQgRXJyb3I6IGFuYWx5dGljc0FkYXB0ZXIgb3IgYW5hbHl0aWNzQ29kZSBub3Qgc3BlY2lmaWVkIil9LGYuZW5hYmxlQW5hbHl0aWNzPWZ1bmN0aW9uKGUpe0MuaXNBcnJheShlKXx8KGU9W2VdKSxDLl9lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIHQ9b1tlLnByb3ZpZGVyXTt0P3QuZW5hYmxlQW5hbHl0aWNzKGUpOkMubG9nRXJyb3IoIlByZWJpZCBFcnJvcjogbm8gYW5hbHl0aWNzIGFkYXB0ZXIgZm91bmQgaW4gcmVnaXN0cnkgZm9yXG4gICAgICAgICIuY29uY2F0KGUucHJvdmlkZXIsIi4iKSl9KX0sZi5nZXRCaWRBZGFwdGVyPWZ1bmN0aW9uKGUpe3JldHVybiBCW2VdfSxmLmNhbGxUaW1lZE91dEJpZGRlcnM9ZnVuY3Rpb24odCxuLHIpe249bi5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zPUMuZ2V0VXNlckNvbmZpZ3VyZWRQYXJhbXModCxlLmFkVW5pdENvZGUsZS5iaWRkZXIpLGUudGltZW91dD1yLGV9KSxuPUMuZ3JvdXBCeShuLCJiaWRkZXIiKSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2EoZSwib25UaW1lb3V0IixuW2VdKX0pfSxmLmNhbGxCaWRXb25CaWRkZXI9ZnVuY3Rpb24oZSx0LG4pe3QucGFyYW1zPUMuZ2V0VXNlckNvbmZpZ3VyZWRQYXJhbXMobix0LmFkVW5pdENvZGUsdC5iaWRkZXIpLGIuYS5pbmNyZW1lbnRCaWRkZXJXaW5zQ291bnRlcih0LmFkVW5pdENvZGUsdC5iaWRkZXIpLGEoZSwib25CaWRXb24iLHQpfSxmLmNhbGxTZXRUYXJnZXRpbmdCaWRkZXI9ZnVuY3Rpb24oZSx0KXthKGUsIm9uU2V0VGFyZ2V0aW5nIix0KX0sdC5kZWZhdWx0PWZ9LDcwOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0sNzE6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oMjEpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByIGluIHQpbiYmZVtyXT9lW3JdPXRbcl06aShlLHIsdFtyXSk7cmV0dXJuIGV9fSw3MjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixyKXtpZighKGUgaW5zdGFuY2VvZiB0KXx8dm9pZCAwIT09ciYmciBpbiBlKXRocm93IFR5cGVFcnJvcihuKyI6IGluY29ycmVjdCBpbnZvY2F0aW9uISIpO3JldHVybiBlfX0sNzM6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPW4oMjgpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixyKXt0cnl7cmV0dXJuIHI/ZShvKG4pWzBdLG5bMV0pOmUobil9Y2F0Y2goZSl7dmFyIGk9dC5yZXR1cm47dGhyb3cgdm9pZCAwIT09aSYmbyhpLmNhbGwodCkpLGV9fX0sNzMzOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big4Myl9LDc0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKSxpPW4oMTQpKCJpdGVyYXRvciIpLG89QXJyYXkucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKHIuQXJyYXk9PT1lfHxvW2ldPT09ZSl9fSw3NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big3NiksaT1uKDE0KSgiaXRlcmF0b3IiKSxvPW4oMzApO2UuZXhwb3J0cz1uKDE2KS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtpZihudWxsIT1lKXJldHVybiBlW2ldfHxlWyJAQGl0ZXJhdG9yIl18fG9bcihlKV19fSw3NjpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigzOSksbz1uKDE0KSgidG9TdHJpbmdUYWciKSxhPSJBcmd1bWVudHMiPT1pKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LG4scjtyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihuPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlW3RdfWNhdGNoKGUpe319KHQ9T2JqZWN0KGUpLG8pKT9uOmE/aSh0KToiT2JqZWN0Ij09KHI9aSh0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpyfX0sNzc6ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSl7YyhlLGkse3ZhbHVlOntpOiJPIisgKyt1LHc6e319fSl9dmFyIGk9big1MCkoIm1ldGEiKSxvPW4oMTcpLGE9bigyOSksYz1uKDIwKS5mLHU9MCxzPU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LGQ9IW4oMzgpKGZ1bmN0aW9uKCl7cmV0dXJuIHMoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSxmPWUuZXhwb3J0cz17S0VZOmksTkVFRDohMSxmYXN0S2V5OmZ1bmN0aW9uKGUsdCl7aWYoIW8oZSkpcmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlP2U6KCJzdHJpbmciPT10eXBlb2YgZT8iUyI6IlAiKStlO2lmKCFhKGUsaSkpe2lmKCFzKGUpKXJldHVybiJGIjtpZighdClyZXR1cm4iRSI7cihlKX1yZXR1cm4gZVtpXS5pfSxnZXRXZWFrOmZ1bmN0aW9uKGUsdCl7aWYoIWEoZSxpKSl7aWYoIXMoZSkpcmV0dXJuITA7aWYoIXQpcmV0dXJuITE7cihlKX1yZXR1cm4gZVtpXS53fSxvbkZyZWV6ZTpmdW5jdGlvbihlKXtyZXR1cm4gZCYmZi5ORUVEJiZzKGUpJiYhYShlLGkpJiZyKGUpLGV9fX0sNzg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFyKGUpfHxlLl90IT09dCl0aHJvdyBUeXBlRXJyb3IoIkluY29tcGF0aWJsZSByZWNlaXZlciwgIit0KyIgcmVxdWlyZWQhIik7cmV0dXJuIGV9fSw3OTpmdW5jdGlvbihlLHQsbil7big2NyksbigxMTYpLGUuZXhwb3J0cz1uKDE2KS5BcnJheS5mcm9tfSw4OmZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKCl7cmV0dXJuKHI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYyxpLHU9bigwKSxvPW4oNCksYT1BcnJheS5wcm90b3R5cGUuc2xpY2Uscz1BcnJheS5wcm90b3R5cGUucHVzaCxkPXUuX21hcChvLkVWRU5UUyxmdW5jdGlvbihlKXtyZXR1cm4gZX0pLGY9by5FVkVOVF9JRF9QQVRIUyxsPVtdO2UuZXhwb3J0cz0oYz17fSwoaT17fSkub249ZnVuY3Rpb24oZSx0LG4pe2lmKGk9ZSx1LmNvbnRhaW5zKGQsaSkpe3ZhciByPWNbZV18fHtxdWU6W119O24/KHJbbl09cltuXXx8e3F1ZTpbXX0scltuXS5xdWUucHVzaCh0KSk6ci5xdWUucHVzaCh0KSxjW2VdPXJ9ZWxzZSB1LmxvZ0Vycm9yKCJXcm9uZyBldmVudCBuYW1lIDogIitlKyIgVmFsaWQgZXZlbnQgbmFtZXMgOiIrZCk7dmFyIGl9LGkuZW1pdD1mdW5jdGlvbihlKXshZnVuY3Rpb24oZSx0KXt1LmxvZ01lc3NhZ2UoIkVtaXR0aW5nIGV2ZW50IGZvcjogIitlKTt2YXIgbj10WzBdfHx7fSxyPW5bZltlXV0saT1jW2VdfHx7cXVlOltdfSxvPXUuX21hcChpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KSxhPVtdO2wucHVzaCh7ZXZlbnRUeXBlOmUsYXJnczpuLGlkOnJ9KSxyJiZ1LmNvbnRhaW5zKG8scikmJnMuYXBwbHkoYSxpW3JdLnF1ZSkscy5hcHBseShhLGkucXVlKSx1Ll9lYWNoKGEsZnVuY3Rpb24oZSl7aWYoZSl0cnl7ZS5hcHBseShudWxsLHQpfWNhdGNoKGUpe3UubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBoYW5kbGVyOiIsImV2ZW50cy5qcyIsZSl9fSl9KGUsYS5jYWxsKGFyZ3VtZW50cywxKSl9LGkub2ZmPWZ1bmN0aW9uKGUsbixyKXt2YXIgaT1jW2VdO3UuaXNFbXB0eShpKXx8dS5pc0VtcHR5KGkucXVlKSYmdS5pc0VtcHR5KGlbcl0pfHxyJiYodS5pc0VtcHR5KGlbcl0pfHx1LmlzRW1wdHkoaVtyXS5xdWUpKXx8KHI/dS5fZWFjaChpW3JdLnF1ZSxmdW5jdGlvbihlKXt2YXIgdD1pW3JdLnF1ZTtlPT09biYmdC5zcGxpY2UodS5pbmRleE9mLmNhbGwodCxlKSwxKX0pOnUuX2VhY2goaS5xdWUsZnVuY3Rpb24oZSl7dmFyIHQ9aS5xdWU7ZT09PW4mJnQuc3BsaWNlKHUuaW5kZXhPZi5jYWxsKHQsZSksMSl9KSxjW2VdPWkpfSxpLmdldD1mdW5jdGlvbigpe3JldHVybiBjfSxpLmdldEV2ZW50cz1mdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiB1Ll9lYWNoKGwsZnVuY3Rpb24oZSl7dmFyIHQ9cih7fSxlKTtuLnB1c2godCl9KSxufSxpKX0sODA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0KXtpZihlLmxhYmVsQWxsKXJldHVybntsYWJlbEFsbDohMCxsYWJlbHM6ZS5sYWJlbEFsbCxhY3RpdmVMYWJlbHM6dH07cmV0dXJue2xhYmVsQWxsOiExLGxhYmVsczplLmxhYmVsQW55LGFjdGl2ZUxhYmVsczp0fX0sdC5jPWZ1bmN0aW9uKGUpe3ZhciB0PXYoMTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmIpO3JldHVybiF0LnNob3VsZEZpbHRlcnx8ISF0LnNpemVzU3VwcG9ydGVkW2VdfSx0LmI9ZnVuY3Rpb24oKXt2YXIgZT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmxhYmVscyxuPXZvaWQgMD09PXQ/W106dCxyPWUubGFiZWxBbGwsaT12b2lkIDAhPT1yJiZyLG89ZS5hY3RpdmVMYWJlbHMsYT12b2lkIDA9PT1vP1tdOm8sYz0xPGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzFdOnZvaWQgMCx1PTI8YXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbMl06dm9pZCAwLHM9digzPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106Yik7Yz1PYmplY3QocC5pc1BsYWluT2JqZWN0KShjKT9PYmplY3QocC5kZWVwQ2xvbmUpKGMpOnU/e2Jhbm5lcjp7c2l6ZXM6dX19Ont9O3ZhciBkPU9iamVjdChwLmRlZXBBY2Nlc3MpKGMsImJhbm5lci5zaXplcyIpO3Muc2hvdWxkRmlsdGVyJiZkJiYoYy5iYW5uZXIuc2l6ZXM9ZC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHMuc2l6ZXNTdXBwb3J0ZWRbZV19KSk7dmFyIGY9T2JqZWN0LmtleXMoYyksbD17YWN0aXZlOmYuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciIhPT1lfSl8fGYuc29tZShmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIj09PWV9KSYmMDxPYmplY3QocC5kZWVwQWNjZXNzKShjLCJiYW5uZXIuc2l6ZXMubGVuZ3RoIikmJigwPT09bi5sZW5ndGh8fCFpJiYobi5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBzLmxhYmVsc1tlXX0pfHxuLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGcoKShhLGUpfSkpfHxpJiZuLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlP3MubGFiZWxzW3RdfHxnKCkoYSx0KTplfSwhMCkpLG1lZGlhVHlwZXM6Y307ZCYmZC5sZW5ndGghPT1jLmJhbm5lci5zaXplcy5sZW5ndGgmJihsLmZpbHRlclJlc3VsdHM9e2JlZm9yZTpkLGFmdGVyOmMuYmFubmVyLnNpemVzfSk7cmV0dXJuIGx9O3ZhciByPW4oMykscD1uKDApLGk9bigxMSksZz1uLm4oaSk7ZnVuY3Rpb24gbyhlKXtyZXR1cm4obz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBiPVtdO2Z1bmN0aW9uIHYoZSl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKG4scil7aWYoIm9iamVjdCI9PT1vKHIpJiYic3RyaW5nIj09dHlwZW9mIHIubWVkaWFRdWVyeSl7dmFyIHQ9ITE7aWYoIiI9PT1yLm1lZGlhUXVlcnkpdD0hMDtlbHNlIHRyeXt0PU9iamVjdChwLmdldFdpbmRvd1RvcCkoKS5tYXRjaE1lZGlhKHIubWVkaWFRdWVyeSkubWF0Y2hlc31jYXRjaChlKXtPYmplY3QocC5sb2dXYXJuKSgiVW5mcmllbmRseSBpRnJhbWUgYmxvY2tzIHNpemVDb25maWcgZnJvbSBiZWluZyBjb3JyZWN0bHkgZXZhbHVhdGVkIiksdD1tYXRjaE1lZGlhKHIubWVkaWFRdWVyeSkubWF0Y2hlc310JiYoQXJyYXkuaXNBcnJheShyLnNpemVzU3VwcG9ydGVkKSYmKG4uc2hvdWxkRmlsdGVyPSEwKSxbImxhYmVscyIsInNpemVzU3VwcG9ydGVkIl0uZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4oclt0XXx8W10pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIG5bdF1bZV09ITB9KX0pKX1lbHNlIE9iamVjdChwLmxvZ1dhcm4pKCdzaXplQ29uZmlnIHJ1bGUgbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAibWVkaWFRdWVyeSInKTtyZXR1cm4gbn0se2xhYmVsczp7fSxzaXplc1N1cHBvcnRlZDp7fSxzaG91bGRGaWx0ZXI6ITF9KX1yLmIuZ2V0Q29uZmlnKCJzaXplQ29uZmlnIixmdW5jdGlvbihlKXtyZXR1cm4gdD1lLnNpemVDb25maWcsdm9pZChiPXQpO3ZhciB0fSl9LDgxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIG99KTt2YXIgcj1uKDApLGM9e307ZnVuY3Rpb24gaShlLHQsbil7dmFyIHIsaSxvLGE9KGk9bixvPWNbcj1lXT1jW3JdfHx7YmlkZGVyczp7fX0saT9vLmJpZGRlcnNbaV09by5iaWRkZXJzW2ldfHx7fTpvKTtyZXR1cm4gYVt0XT0oYVt0XXx8MCkrMSxhW3RdfXZhciBvPXtpbmNyZW1lbnRSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSwicmVxdWVzdHNDb3VudGVyIil9LGluY3JlbWVudEJpZGRlclJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBpKGUsInJlcXVlc3RzQ291bnRlciIsdCl9LGluY3JlbWVudEJpZGRlcldpbnNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSwid2luc0NvdW50ZXIiLHQpfSxnZXRSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGMsIiIuY29uY2F0KGUsIi5yZXF1ZXN0c0NvdW50ZXIiKSl8fDB9LGdldEJpZGRlclJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShjLCIiLmNvbmNhdChlLCIuYmlkZGVycy4iKS5jb25jYXQodCwiLnJlcXVlc3RzQ291bnRlciIpKXx8MH0sZ2V0QmlkZGVyV2luc0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoYywiIi5jb25jYXQoZSwiLmJpZGRlcnMuIikuY29uY2F0KHQsIi53aW5zQ291bnRlciIpKXx8MH19fSw4MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlLHQpe3ZhciBuPXtwdXRzOmUubWFwKGkpfTtPYmplY3Qoci5hKShvLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSxmdW5jdGlvbihuKXtyZXR1cm57c3VjY2VzczpmdW5jdGlvbihlKXt2YXIgdDt0cnl7dD1KU09OLnBhcnNlKGUpLnJlc3BvbnNlc31jYXRjaChlKXtyZXR1cm4gdm9pZCBuKGUsW10pfXQ/bihudWxsLHQpOm4obmV3IEVycm9yKCJUaGUgY2FjaGUgc2VydmVyIGRpZG4ndCByZXNwb25kIHdpdGggYSByZXNwb25zZXMgcHJvcGVydHkuIiksW10pfSxlcnJvcjpmdW5jdGlvbihlLHQpe24obmV3IEVycm9yKCJFcnJvciBzdG9yaW5nIHZpZGVvIGFkIGluIHRoZSBjYWNoZTogIi5jb25jYXQoZSwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKSxbXSl9fX0odCksSlNPTi5zdHJpbmdpZnkobikse2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9KX0sdC5hPWZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChvLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSwiP3V1aWQ9IikuY29uY2F0KGUpfTt2YXIgcj1uKDUpLG89bigzKTtmdW5jdGlvbiBpKGUpe3ZhciB0LG4scixpPXt0eXBlOiJ4bWwiLHZhbHVlOmUudmFzdFhtbD9lLnZhc3RYbWw6KHQ9ZS52YXN0VXJsLG49ZS52YXN0SW1wVXJsLHI9bj8iPCFbQ0RBVEFbIi5jb25jYXQobiwiXV0+Iik6IiIsJzxWQVNUIHZlcnNpb249IjMuMCI+XG4gICAgPEFkPlxuICAgICAgPFdyYXBwZXI+XG4gICAgICAgIDxBZFN5c3RlbT5wcmViaWQub3JnIHdyYXBwZXI8L0FkU3lzdGVtPlxuICAgICAgICA8VkFTVEFkVGFnVVJJPjwhW0NEQVRBWycuY29uY2F0KHQsIl1dPjwvVkFTVEFkVGFnVVJJPlxuICAgICAgICA8SW1wcmVzc2lvbj4iKS5jb25jYXQociwiPC9JbXByZXNzaW9uPlxuICAgICAgICA8Q3JlYXRpdmVzPjwvQ3JlYXRpdmVzPlxuICAgICAgPC9XcmFwcGVyPlxuICAgIDwvQWQ+XG4gIDwvVkFTVD4iKSksdHRsc2Vjb25kczpOdW1iZXIoZS50dGwpfTtyZXR1cm4gby5iLmdldENvbmZpZygiY2FjaGUudmFzdHRyYWNrIikmJihpLmJpZGRlcj1lLmJpZGRlcixpLmJpZGlkPWUucmVxdWVzdElkKSwic3RyaW5nIj09dHlwZW9mIGUuY3VzdG9tQ2FjaGVLZXkmJiIiIT09ZS5jdXN0b21DYWNoZUtleSYmKGkua2V5PWUuY3VzdG9tQ2FjaGVLZXkpLGl9fSw4MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiY2hlY2tBZFVuaXRTZXR1cCIsZnVuY3Rpb24oKXtyZXR1cm4gV30pO3ZhciByPW4oMjQpLGM9bigwKSxpPW4oMTcwKSxvPW4oMzMpLGE9bigzNSksZD1uKDMpLG09bigyNSksZj1uKDM3KSx1PW4oMTMpLHM9bigxNzEpLGw9bigxMSkscD1uLm4obCksZz1uKDgxKSxTPW4oMTApLGI9bigyMyksdj1uKDMxKTtmdW5jdGlvbiB5KGUpe3JldHVybih5PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gaCgpe3JldHVybihoPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEU9T2JqZWN0KHIuYSkoKSxBPW4oNCksVD1uKDApLE89big3KS5kZWZhdWx0LEk9big4KSx3PW8uYS50cmlnZ2VyVXNlclN5bmNzLEM9QS5FVkVOVFMsaj1DLkFERF9BRF9VTklUUyxfPUMuQklEX1dPTixCPUMuUkVRVUVTVF9CSURTLFU9Qy5TRVRfVEFSR0VUSU5HLFI9Qy5BRF9SRU5ERVJfRkFJTEVELHg9QS5BRF9SRU5ERVJfRkFJTEVEX1JFQVNPTixEPXguUFJFVkVOVF9XUklUSU5HX09OX01BSU5fRE9DVU1FTlQsTj14Lk5PX0FELGs9eC5FWENFUFRJT04sUD14LkNBTk5PVF9GSU5EX0FELE09eC5NSVNTSU5HX0RPQ19PUl9BRElELHE9e2JpZFdvbjpmdW5jdGlvbihlKXt2YXIgdD1tLmEuZ2V0Qmlkc1JlcXVlc3RlZCgpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSl9KS5yZWR1Y2UoYy5mbGF0dGVuKS5maWx0ZXIoYy51bmlxdWVzKTtyZXR1cm4hIVQuY29udGFpbnModCxlKXx8dm9pZCBULmxvZ0Vycm9yKCdUaGUgIicrZSsnIiBwbGFjZW1lbnQgaXMgbm90IGRlZmluZWQuJyl9fTtmdW5jdGlvbiBHKGUsdCxuKXtlJiYoZS53aWR0aD10LGUuaGVpZ2h0PW4pfXdpbmRvdy51cGJqcy5wcmViaWRWZXJzaW9uPSIyLjIzLjAiLE9iamVjdChzLmEpKCksRS5iaWRkZXJTZXR0aW5ncz1FLmJpZGRlclNldHRpbmdzfHx7fSxFLmxpYkxvYWRlZD0hMCxFLnZlcnNpb249InYyLjQ0LjgtcHJlIixULmxvZ0luZm8oIlByZWJpZC5qcyB2Mi40NC44LXByZSBsb2FkZWQiKSxFLmFkVW5pdHM9RS5hZFVuaXRzfHxbXSxFLnNldFVwQ29va2llRnJhbWU9ZnVuY3Rpb24oZSl7VC5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5zZXRVcENvb2tpZUZyYW1lIixhcmd1bWVudHMpLHYuZChlKX0sRS5vbkJlZm9yZVJlcXVlc3Q9ZnVuY3Rpb24oZSl7VC5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5vbkJlZm9yZVJlcXVlc3QiLGFyZ3VtZW50cyksdi5iKGUpfSxFLnRyaWdnZXJVc2VyU3luY3M9dzt2YXIgVz1PYmplY3QodS5iKSgic3luYyIsZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLm1lZGlhVHlwZXMsbj1ULmdldEFkVW5pdFNpemVzKGUpO2lmKHQmJnQuYmFubmVyKXt2YXIgcj10LmJhbm5lcjtyLnNpemVzPyhyLnNpemVzPW4sZS5zaXplcz1uKTooVC5sb2dFcnJvcigiRGV0ZWN0ZWQgYSBtZWRpYVR5cGVzLmJhbm5lciBvYmplY3QgZGlkIG5vdCBpbmNsdWRlIHNpemVzLiAgVGhpcyBpcyBhIHJlcXVpcmVkIGZpZWxkIGZvciB0aGUgbWVkaWFUeXBlcy5iYW5uZXIgb2JqZWN0LiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLmJhbm5lciBvYmplY3QgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSBlLm1lZGlhVHlwZXMuYmFubmVyKX1lbHNlIGUuc2l6ZXMmJihULmxvZ1dhcm4oIlVzYWdlIG9mIGFkVW5pdHMuc2l6ZXMgd2lsbCBldmVudHVhbGx5IGJlIGRlcHJlY2F0ZWQuICBQbGVhc2UgZGVmaW5lIHNpemUgZGltZW5zaW9ucyB3aXRoaW4gdGhlIGNvcnJlc3BvbmRpbmcgYXJlYSBvZiB0aGUgbWVkaWFUeXBlcy48b2JqZWN0PiAoZWcgbWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpLiIpLGUuc2l6ZXM9bik7aWYodCYmdC52aWRlbyl7dmFyIGk9dC52aWRlbztpZihpLnBsYXllclNpemUpaWYoQXJyYXkuaXNBcnJheShpLnBsYXllclNpemUpJiYxPT09aS5wbGF5ZXJTaXplLmxlbmd0aCYmaS5wbGF5ZXJTaXplLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYy5pc0FycmF5T2ZOdW1zKShlLDIpfSkpZS5zaXplcz1pLnBsYXllclNpemU7ZWxzZSBpZihPYmplY3QoYy5pc0FycmF5T2ZOdW1zKShpLnBsYXllclNpemUsMikpe3ZhciBvPVtdO28ucHVzaChpLnBsYXllclNpemUpLFQubG9nSW5mbygiVHJhbnNmb3JtaW5nIHZpZGVvLnBsYXllclNpemUgZnJvbSBbIi5jb25jYXQoaS5wbGF5ZXJTaXplLCJdIHRvIFtbIikuY29uY2F0KG8sIl1dIHNvIGl0J3MgaW4gdGhlIHByb3BlciBmb3JtYXQuIikpLGUuc2l6ZXM9aS5wbGF5ZXJTaXplPW99ZWxzZSBULmxvZ0Vycm9yKCJEZXRlY3RlZCBpbmNvcnJlY3QgY29uZmlndXJhdGlvbiBvZiBtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUuICBQbGVhc2Ugc3BlY2lmeSBvbmx5IG9uZSBzZXQgb2YgZGltZW5zaW9ucyBpbiBhIGZvcm1hdCBsaWtlOiBbWzY0MCwgNDgwXV0uIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIHByb3BlcnR5IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemV9aWYodCYmdC5uYXRpdmUpe3ZhciBhPXQubmF0aXZlO2EuaW1hZ2UmJmEuaW1hZ2Uuc2l6ZXMmJiFBcnJheS5pc0FycmF5KGEuaW1hZ2Uuc2l6ZXMpJiYoVC5sb2dFcnJvcigiUGxlYXNlIHVzZSBhbiBhcnJheSBvZiBzaXplcyBmb3IgbmF0aXZlLmltYWdlLnNpemVzIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5zaXplcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIGUubWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2Uuc2l6ZXMpLGEuaW1hZ2UmJmEuaW1hZ2UuYXNwZWN0X3JhdGlvcyYmIUFycmF5LmlzQXJyYXkoYS5pbWFnZS5hc3BlY3RfcmF0aW9zKSYmKFQubG9nRXJyb3IoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zIHByb3BlcnR5IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgZS5tZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zKSxhLmljb24mJmEuaWNvbi5zaXplcyYmIUFycmF5LmlzQXJyYXkoYS5pY29uLnNpemVzKSYmKFQubG9nRXJyb3IoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pY29uLnNpemVzIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pY29uLnNpemVzIHByb3BlcnR5IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgZS5tZWRpYVR5cGVzLm5hdGl2ZS5pY29uLnNpemVzKX19KSxlfSwiY2hlY2tBZFVuaXRTZXR1cCIpO2Z1bmN0aW9uIEwoZSl7dmFyIG49bS5hW2VdKCkuZmlsdGVyKFQuYmluZC5jYWxsKGMuYWRVbml0c0ZpbHRlcix0aGlzLG0uYS5nZXRBZFVuaXRDb2RlcygpKSkscj1tLmEuZ2V0TGFzdEF1Y3Rpb25JZCgpO3JldHVybiBuLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSkuZmlsdGVyKGMudW5pcXVlcykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5hdWN0aW9uSWQ9PT1yJiZlLmFkVW5pdENvZGU9PT10fSl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmVbMF0mJmVbMF0uYWRVbml0Q29kZX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdD17fSxuPWVbMF0uYWRVbml0Q29kZSxyPXtiaWRzOmV9LG4gaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yLHQ7dmFyIHQsbixyfSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGgoZSx0KX0se30pfWZ1bmN0aW9uIEYoZSl7dmFyIHQ9ZS5yZWFzb24sbj1lLm1lc3NhZ2Uscj1lLmJpZCxpPWUuaWQsbz17cmVhc29uOnQsbWVzc2FnZTpufTtyJiYoby5iaWQ9ciksaSYmKG8uYWRJZD1pKSxULmxvZ0Vycm9yKG4pLEkuZW1pdChSLG8pfWZ1bmN0aW9uIHooZSl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUuY2FsbGVkKXRyeXtlLmNhbGwoKSxlLmNhbGxlZD0hMH1jYXRjaChlKXtULmxvZ0Vycm9yKCJFcnJvciBwcm9jZXNzaW5nIGNvbW1hbmQgOiIsInByZWJpZC5qcyIsZSl9fSl9RS5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHI9ZnVuY3Rpb24oZSl7aWYoVC5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHIiLGFyZ3VtZW50cyksZSl7dmFyIHQ9RS5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGUoZSk7cmV0dXJuIFQudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmoodCl9VC5sb2dNZXNzYWdlKCJOZWVkIHRvIGNhbGwgZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlU3RyIHdpdGggYWR1bml0Q29kZSIpfSxFLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtyZXR1cm4gRS5nZXRBZHNlcnZlclRhcmdldGluZyhlKVtlXX0sRS5nZXRBZHNlcnZlclRhcmdldGluZz1mdW5jdGlvbihlLHQpe3JldHVybiBULmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmdldEFkc2VydmVyVGFyZ2V0aW5nIixhcmd1bWVudHMpLGYuYi5nZXRBbGxUYXJnZXRpbmcoZSx0KX0sRS5nZXROb0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gVC5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5nZXROb0JpZHMiLGFyZ3VtZW50cyksTCgiZ2V0Tm9CaWRzIil9LEUuZ2V0QmlkUmVzcG9uc2VzPWZ1bmN0aW9uKCl7cmV0dXJuIFQubG9nSW5mbygiSW52b2tpbmcgdXBianMuZ2V0QmlkUmVzcG9uc2VzIixhcmd1bWVudHMpLEwoImdldEJpZHNSZWNlaXZlZCIpfSxFLmdldEJpZFJlc3BvbnNlc0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24odCl7cmV0dXJue2JpZHM6bS5hLmdldEJpZHNSZWNlaXZlZCgpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT09dH0pfX0sRS5zZXRUYXJnZXRpbmdGb3JHUFRBc3luYz1mdW5jdGlvbihlLHQsbil7aWYoVC5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5zZXRUYXJnZXRpbmdGb3JHUFRBc3luYyIsYXJndW1lbnRzKSxPYmplY3QoYy5pc0dwdFB1YmFkc0RlZmluZWQpKCkpe3ZhciByPWYuYi5nZXRBbGxUYXJnZXRpbmcoZSx0KTtmLmIucmVzZXRQcmVzZXRUYXJnZXRpbmcoZSksZi5iLnNldFRhcmdldGluZ0ZvckdQVChyLG4pLE9iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24odCl7T2JqZWN0LmtleXMoclt0XSkuZm9yRWFjaChmdW5jdGlvbihlKXsiaGJfYWRpZCI9PT1lJiZtLmEuc2V0U3RhdHVzRm9yQmlkcyhyW3RdW2VdLEEuQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVCl9KX0pLEkuZW1pdChVLHIpfWVsc2UgVC5sb2dFcnJvcigid2luZG93Lmdvb2dsZXRhZyBpcyBub3QgZGVmaW5lZCBvbiB0aGUgcGFnZSIpfSxFLnNldFRhcmdldGluZ0ZvckFzdD1mdW5jdGlvbihlKXtULmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnNldFRhcmdldGluZ0ZvckFuIixhcmd1bWVudHMpLGYuYi5pc0FwbnRhZ0RlZmluZWQoKT8oZi5iLnNldFRhcmdldGluZ0ZvckFzdChlKSxJLmVtaXQoVSxmLmIuZ2V0QWxsVGFyZ2V0aW5nKCkpKTpULmxvZ0Vycm9yKCJ3aW5kb3cuYXBudGFnIGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBwYWdlIil9LEUucmVuZGVyQWQ9ZnVuY3Rpb24oZSx0LG4scil7VC5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZW5kZXJBZCIsYXJndW1lbnRzKSxULmxvZ01lc3NhZ2UoIkNhbGxpbmcgcmVuZGVyQWQgd2l0aCBhZElkIDoiK3QpO3ZhciBpPXImJnIuc3JjJiYwPD1yLnNyYy5pbmRleE9mKCJtcmIudXBhcGkubmV0L3NhZmVGcmFtZS5odG1sIik7aWYodCYmKGV8fGkpKXRyeXt2YXIgbz1tLmEuZmluZEJpZEJ5QWRJZCh0KTtpZihvKXtvLnN0YXR1cz1BLkJJRF9TVEFUVVMuUkVOREVSRUQsby5hZD1ULnJlcGxhY2VBdWN0aW9uUHJpY2Uoby5hZCxvLmNwbSksby5hZFVybD1ULnJlcGxhY2VBdWN0aW9uUHJpY2Uoby5hZFVybCxvLmNwbSksbS5hLmFkZFdpbm5pbmdCaWQobyksSS5lbWl0KF8sbyk7dmFyIGE9by5oZWlnaHQsYz1vLndpZHRoLHU9by5hZCxzPW8ubWVkaWFUeXBlLGQ9by5hZFVybCxmPW8ucmVuZGVyZXI7aWYoT2JqZWN0KFMuYykoZikpT2JqZWN0KFMuYikoZixvKTtlbHNlIGlmKGU9PT1kb2N1bWVudCYmIVQuaW5JZnJhbWUoKXx8InZpZGVvIj09PXMpe3ZhciBsPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQuIEFkIHJlbmRlciBjYWxsIGFkIGlkICIuY29uY2F0KHQsIiB3YXMgcHJldmVudGVkIGZyb20gd3JpdGluZyB0byB0aGUgbWFpbiBkb2N1bWVudC4iKTtGKHtyZWFzb246RCxtZXNzYWdlOmwsYmlkOm8saWQ6dH0pfWVsc2UgaWYodSl7aWYoaSl7dmFyIHA9InRyeSB7IGlmICgiK24rIikgeyBkb2N1bWVudC5vcGVuKCd0ZXh0L2h0bWwnLCAncmVwbGFjZScpOyB9OyBkb2N1bWVudC53cml0ZShkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGF0b2IoJyIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodSkpKSsiJykpKSk7IGRvY3VtZW50LmNsb3NlKCk7IH0gY2F0Y2ggKGVycm9yKSB7IH0iO3IuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7dHlwZToiZXZhbCIsY29kZTpwfSwiKiIpfWVsc2UgbiYmZS5vcGVuKCJ0ZXh0L2h0bWwiLCJyZXBsYWNlIiksZS53cml0ZSh1KSxlLmNsb3NlKCk7RyhyLGMsYSksVC5jYWxsQnVybChvKX1lbHNlIGlmKGQpe3ZhciBnPVQuY3JlYXRlSW52aXNpYmxlSWZyYW1lKCk7aWYoZy5oZWlnaHQ9YSxnLndpZHRoPWMsZy5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiLGcuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsZy5zcmM9ZCxpKXtwPSJ0cnkgeyBpZiAoIituKyIpIHsgZG9jdW1lbnQub3BlbigndGV4dC9odG1sJywgJ3JlcGxhY2UnKTsgfTsgZG9jdW1lbnQud3JpdGUoZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShhdG9iKCciK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGcub3V0ZXJIVE1MKSkpKyInKSkpKTsgZG9jdW1lbnQuY2xvc2UoKTsgfSBjYXRjaCAoZXJyb3IpIHsgfSI7ci5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHt0eXBlOiJldmFsIixjb2RlOnB9LCIqIil9ZWxzZSBULmluc2VydEVsZW1lbnQoZyxlLCJib2R5Iik7RyhyLGMsYSksVC5jYWxsQnVybChvKX1lbHNle3ZhciBiPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQuIE5vIGFkIGZvciBiaWQgcmVzcG9uc2UgaWQ6ICIuY29uY2F0KHQpO0Yoe3JlYXNvbjpOLG1lc3NhZ2U6YixiaWQ6byxpZDp0fSl9fWVsc2V7dmFyIHY9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gQ2Fubm90IGZpbmQgYWQgYnkgZ2l2ZW4gaWQgOiAiLmNvbmNhdCh0KTtGKHtyZWFzb246UCxtZXNzYWdlOnYsaWQ6dH0pfX1jYXRjaChlKXt2YXIgeT0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkIElkIDoiLmNvbmNhdCh0LCIgdG8gdGhlIHBhZ2U6IikuY29uY2F0KGUubWVzc2FnZSk7Rih7cmVhc29uOmssbWVzc2FnZTp5LGlkOnR9KX1lbHNle3ZhciBoPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQgSWQgOiIuY29uY2F0KHQsIiB0byB0aGUgcGFnZS4gTWlzc2luZyBkb2N1bWVudCBvciBhZElkIik7Rih7cmVhc29uOk0sbWVzc2FnZTpoLGlkOnR9KX19LEUucmVtb3ZlQWRVbml0PWZ1bmN0aW9uKGUpeyhULmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnJlbW92ZUFkVW5pdCIsYXJndW1lbnRzKSxlKT8oVC5pc0FycmF5KGUpP2U6W2VdKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1FLmFkVW5pdHMubGVuZ3RoLTE7MDw9dDt0LS0pRS5hZFVuaXRzW3RdLmNvZGU9PT1lJiZFLmFkVW5pdHMuc3BsaWNlKHQsMSl9KTpFLmFkVW5pdHM9W119LEUucmVxdWVzdEJpZHM9T2JqZWN0KHUuYikoImFzeW5jIixmdW5jdGlvbigpe3ZhciBlPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuYmlkc0JhY2tIYW5kbGVyLG49ZS50aW1lb3V0LHI9ZS5hZFVuaXRzLGk9ZS5hZFVuaXRDb2RlcyxvPWUubGFiZWxzLGE9ZS5hdWN0aW9uSWQ7SS5lbWl0KEIpO3ZhciBjPW58fGQuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKTtpZihyPXJ8fEUuYWRVbml0cyxULmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnJlcXVlc3RCaWRzIixhcmd1bWVudHMpLGkmJmkubGVuZ3RoP3I9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHAoKShpLGUuY29kZSl9KTppPXImJnIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvZGV9KSwocj1XKHIpKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciBvPU9iamVjdC5rZXlzKGkubWVkaWFUeXBlc3x8e2Jhbm5lcjoiYmFubmVyIn0pLGU9aS5iaWRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJ9KSxhPU8uYmlkZGVyUmVnaXN0cnksdD1kLmIuZ2V0Q29uZmlnKCJzMnNDb25maWciKSxuPXQmJnQuYmlkZGVycyxyPW4/ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIXAoKShuLGUpfSk6ZTtpLnRyYW5zYWN0aW9uSWQ9VC5nZW5lcmF0ZVVVSUQoKSxyLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9YVt0XSxuPWUmJmUuZ2V0U3BlYyYmZS5nZXRTcGVjKCkscj1uJiZuLnN1cHBvcnRlZE1lZGlhVHlwZXN8fFsiYmFubmVyIl07by5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkocixlKX0pP2cuYS5pbmNyZW1lbnRCaWRkZXJSZXF1ZXN0c0NvdW50ZXIoaS5jb2RlLHQpOihULmxvZ1dhcm4oVC51bnN1cHBvcnRlZEJpZGRlck1lc3NhZ2UoaSx0KSksaS5iaWRzPWkuYmlkcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyIT09dH0pKX0pLGcuYS5pbmNyZW1lbnRSZXF1ZXN0c0NvdW50ZXIoaS5jb2RlKX0pLHImJjAhPT1yLmxlbmd0aCl7dmFyIHU9bS5hLmNyZWF0ZUF1Y3Rpb24oe2FkVW5pdHM6cixhZFVuaXRDb2RlczppLGNhbGxiYWNrOnQsY2JUaW1lb3V0OmMsbGFiZWxzOm8sYXVjdGlvbklkOmF9KSxzPXIubGVuZ3RoO3JldHVybiAxNTxzJiZULmxvZ0luZm8oIkN1cnJlbnQgYXVjdGlvbiAiLmNvbmNhdCh1LmdldEF1Y3Rpb25JZCgpLCIgY29udGFpbnMgIikuY29uY2F0KHMsIiBhZFVuaXRzLiIpLHIpLGkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZi5iLnNldExhdGVzdEF1Y3Rpb25Gb3JBZFVuaXQoZSx1LmdldEF1Y3Rpb25JZCgpKX0pLHUuY2FsbEJpZHMoKSx1fWlmKFQubG9nTWVzc2FnZSgiTm8gYWRVbml0cyBjb25maWd1cmVkLiBObyBiaWRzIHJlcXVlc3RlZC4iKSwiZnVuY3Rpb24iPT10eXBlb2YgdCl0cnl7dCgpfWNhdGNoKGUpe1QubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiLG51bGwsZSl9fSksRS5hZGRBZFVuaXRzPWZ1bmN0aW9uKGUpe1QubG9nSW5mbygiSW52b2tpbmcgdXBianMuYWRkQWRVbml0cyIsYXJndW1lbnRzKSxULmlzQXJyYXkoZSk/RS5hZFVuaXRzLnB1c2guYXBwbHkoRS5hZFVuaXRzLGUpOiJvYmplY3QiPT09eShlKSYmRS5hZFVuaXRzLnB1c2goZSksSS5lbWl0KGopfSxFLm9uRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe1QubG9nSW5mbygiSW52b2tpbmcgdXBianMub25FdmVudCIsYXJndW1lbnRzKSxULmlzRm4odCk/IW58fHFbZV0uY2FsbChudWxsLG4pP0kub24oZSx0LG4pOlQubG9nRXJyb3IoJ1RoZSBpZCBwcm92aWRlZCBpcyBub3QgdmFsaWQgZm9yIGV2ZW50ICInK2UrJyIgYW5kIG5vIGhhbmRsZXIgd2FzIHNldC4nKTpULmxvZ0Vycm9yKCdUaGUgZXZlbnQgaGFuZGxlciBwcm92aWRlZCBpcyBub3QgYSBmdW5jdGlvbiBhbmQgd2FzIG5vdCBzZXQgb24gZXZlbnQgIicrZSsnIi4nKX0sRS5vZmZFdmVudD1mdW5jdGlvbihlLHQsbil7VC5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5vZmZFdmVudCIsYXJndW1lbnRzKSxuJiYhcVtlXS5jYWxsKG51bGwsbil8fEkub2ZmKGUsdCxuKX0sRS5yZWdpc3RlckJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0KXtULmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnJlZ2lzdGVyQmlkQWRhcHRlciIsYXJndW1lbnRzKTt0cnl7Ty5yZWdpc3RlckJpZEFkYXB0ZXIoZSgpLHQpfWNhdGNoKGUpe1QubG9nRXJyb3IoIkVycm9yIHJlZ2lzdGVyaW5nIGJpZGRlciBhZGFwdGVyIDogIitlLm1lc3NhZ2UpfX0sRS5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7VC5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXIiLGFyZ3VtZW50cyk7dHJ5e08ucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyKGUpfWNhdGNoKGUpe1QubG9nRXJyb3IoIkVycm9yIHJlZ2lzdGVyaW5nIGFuYWx5dGljcyBhZGFwdGVyIDogIitlLm1lc3NhZ2UpfX0sRS5jcmVhdGVCaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFQubG9nSW5mbygiSW52b2tpbmcgdXBianMuY3JlYXRlQmlkIixhcmd1bWVudHMpLE9iamVjdChiLmEpKGUpfSxFLmxvYWRTY3JpcHQ9ZnVuY3Rpb24oZSx0LG4pe1QubG9nSW5mbygiSW52b2tpbmcgdXBianMubG9hZFNjcmlwdCIsYXJndW1lbnRzKSxPYmplY3QoYS5jKShlLHQsbil9LEUuZW5hYmxlQW5hbHl0aWNzPWZ1bmN0aW9uKGUpe2UmJiFULmlzRW1wdHkoZSk/KFQubG9nSW5mbygiSW52b2tpbmcgdXBianMuZW5hYmxlQW5hbHl0aWNzIGZvcjogIixlKSxPLmVuYWJsZUFuYWx5dGljcyhlKSk6VC5sb2dFcnJvcigidXBianMuZW5hYmxlQW5hbHl0aWNzIHNob3VsZCBiZSBjYWxsZWQgd2l0aCBvcHRpb24ge30iKX0sRS5hbGlhc0JpZGRlcj1mdW5jdGlvbihlLHQpe1QubG9nSW5mbygiSW52b2tpbmcgdXBianMuYWxpYXNCaWRkZXIiLGFyZ3VtZW50cyksZSYmdD9PLmFsaWFzQmlkQWRhcHRlcihlLHQpOlQubG9nRXJyb3IoImJpZGRlckNvZGUgYW5kIGFsaWFzIG11c3QgYmUgcGFzc2VkIGFzIGFyZ3VtZW50cyIsInVwYmpzLmFsaWFzQmlkZGVyIil9LEUuZ2V0QWxsV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gbS5hLmdldEFsbFdpbm5pbmdCaWRzKCl9LEUuZ2V0QWxsUHJlYmlkV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gbS5hLmdldEJpZHNSZWNlaXZlZCgpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGF0dXM9PT1BLkJJRF9TVEFUVVMuQklEX1RBUkdFVElOR19TRVR9KX0sRS5nZXRIaWdoZXN0Q3BtQmlkcz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoZi5hKShtLmEuZ2V0Qmlkc1JlY2VpdmVkKCksYy5nZXRMYXRlc3RIaWdoZXN0Q3BtQmlkKTtyZXR1cm4gZi5iLmdldFdpbm5pbmdCaWRzKGUsdCl9LEUubWFya1dpbm5pbmdCaWRBc1VzZWQ9ZnVuY3Rpb24odCl7dmFyIGU9W107dC5hZFVuaXRDb2RlJiZ0LmFkSWQ/ZT1tLmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT10LmFkSWQmJmUuYWRVbml0Q29kZT09PXQuYWRVbml0Q29kZX0pOnQuYWRVbml0Q29kZT9lPWYuYi5nZXRXaW5uaW5nQmlkcyh0LmFkVW5pdENvZGUpOnQuYWRJZD9lPW0uYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRJZD09PXQuYWRJZH0pOlQubG9nV2FybigiSW5wcm9wZXIgdXNhZ2Ugb2YgbWFya1dpbm5pbmdCaWRBc1VzZWQuIEl0J2xsIG5lZWQgYW4gYWRVbml0Q29kZSBhbmQvb3IgYWRJZCB0byBmdW5jdGlvbi4iKSwwPGUubGVuZ3RoJiYoZVswXS5zdGF0dXM9QS5CSURfU1RBVFVTLlJFTkRFUkVEKX0sRS5nZXRDb25maWc9ZC5iLmdldENvbmZpZyxFLnNldENvbmZpZz1kLmIuc2V0Q29uZmlnLEUuc2V0QmlkZGVyQ29uZmlnPWQuYi5zZXRCaWRkZXJDb25maWcsRS5xdWUucHVzaChmdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5hKSgpfSksRS5jbWQucHVzaD1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSl0cnl7ZS5jYWxsKCl9Y2F0Y2goZSl7VC5sb2dFcnJvcigiRXJyb3IgcHJvY2Vzc2luZyBjb21tYW5kIDoiLGUubWVzc2FnZSxlLnN0YWNrKX1lbHNlIFQubG9nRXJyb3IoIkNvbW1hbmRzIHdyaXR0ZW4gaW50byB1cGJqcy5jbWQucHVzaCBtdXN0IGJlIHdyYXBwZWQgaW4gYSBmdW5jdGlvbiIpfSxFLnF1ZS5wdXNoPUUuY21kLnB1c2gsRS5wcm9jZXNzUXVldWU9ZnVuY3Rpb24oKXt1LmIucmVhZHkoKSx6KEUucXVlKSx6KEUuY21kKX0sdC5kZWZhdWx0PUV9LDg2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDQ3KSg1KSxvPSJmaW5kIixhPSEwO28gaW5bXSYmQXJyYXkoMSlbb10oZnVuY3Rpb24oKXthPSExfSkscihyLlArci5GKmEsIkFycmF5Iix7ZmluZDpmdW5jdGlvbihlLHQpe3JldHVybiBpKHRoaXMsZSwxPGFyZ3VtZW50cy5sZW5ndGg/dDp2b2lkIDApfX0pLG4oNDIpKG8pfSw4NzpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPSFuKDIyKSYmIW4oMzgpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuKDYxKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LDg4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKDE3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighaShlKSlyZXR1cm4gZTt2YXIgbixyO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZihuPWUudG9TdHJpbmcpJiYhaShyPW4uY2FsbChlKSkpcmV0dXJuIHI7aWYoImZ1bmN0aW9uIj09dHlwZW9mKG49ZS52YWx1ZU9mKSYmIWkocj1uLmNhbGwoZSkpKXJldHVybiByO2lmKCF0JiYiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnRvU3RyaW5nKSYmIWkocj1uLmNhbGwoZSkpKXJldHVybiByO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSw4OTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big5MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyhyKGUpKSh0KX19LDk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpKXJldHVybjt2YXIgbj1bXSxyPSEwLGk9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgYSxjPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0oYT1jLm5leHQoKSkuZG9uZSkmJihuLnB1c2goYS52YWx1ZSksIXR8fG4ubGVuZ3RoIT09dCk7cj0hMCk7fWNhdGNoKGUpe2k9ITAsbz1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1yZXR1cm4gbn0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZT9lLnJlcGxhY2UoL15cPy8sIiIpLnNwbGl0KCImIikucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIG49byh0LnNwbGl0KCI9IiksMikscj1uWzBdLGk9blsxXTtyZXR1cm4vXFtcXSQvLnRlc3Qocik/KGVbcj1yLnJlcGxhY2UoIltdIiwiIildPWVbcl18fFtdLGVbcl0ucHVzaChpKSk6ZVtyXT1pfHwiIixlfSx7fSk6e319ZnVuY3Rpb24gcihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KGVbdF0pP2VbdF0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdCh0LCJbXT0iKS5jb25jYXQoZSl9KS5qb2luKCImIik6IiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZVt0XSl9KS5qb2luKCImIil9dC5kPWksdC5iPXIsdC5jPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3QmJiJub0RlY29kZVdob2xlVVJMImluIHQmJnQubm9EZWNvZGVXaG9sZVVSTD9uLmhyZWY9ZTpuLmhyZWY9ZGVjb2RlVVJJQ29tcG9uZW50KGUpO3ZhciByPXQmJiJkZWNvZGVTZWFyY2hBc1N0cmluZyJpbiB0JiZ0LmRlY29kZVNlYXJjaEFzU3RyaW5nO3JldHVybntocmVmOm4uaHJlZixwcm90b2NvbDoobi5wcm90b2NvbHx8IiIpLnJlcGxhY2UoLzokLywiIiksaG9zdG5hbWU6bi5ob3N0bmFtZSxwb3J0OituLnBvcnQscGF0aG5hbWU6bi5wYXRobmFtZS5yZXBsYWNlKC9eKD8hXC8pLywiLyIpLHNlYXJjaDpyP24uc2VhcmNoOmkobi5zZWFyY2h8fCIiKSxoYXNoOihuLmhhc2h8fCIiKS5yZXBsYWNlKC9eIy8sIiIpLGhvc3Q6bi5ob3N0fHx3aW5kb3cubG9jYXRpb24uaG9zdH19LHQuYT1mdW5jdGlvbihlKXtyZXR1cm4oZS5wcm90b2NvbHx8Imh0dHAiKSsiOi8vIisoZS5ob3N0fHxlLmhvc3RuYW1lKyhlLnBvcnQ/IjoiLmNvbmNhdChlLnBvcnQpOiIiKSkrKGUucGF0aG5hbWV8fCIiKSsoZS5zZWFyY2g/Ij8iLmNvbmNhdChyKGUuc2VhcmNofHwiIikpOiIiKSsoZS5oYXNoPyIjIi5jb25jYXQoZS5oYXNoKToiIil9fSw5MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNyksaT1uKDkxKSxvPW4oMTQpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBpKGUpJiYoImZ1bmN0aW9uIiE9dHlwZW9mKHQ9ZS5jb25zdHJ1Y3Rvcil8fHQhPT1BcnJheSYmIWkodC5wcm90b3R5cGUpfHwodD12b2lkIDApLHIodCkmJm51bGw9PT0odD10W29dKSYmKHQ9dm9pZCAwKSksdm9pZCAwPT09dD9BcnJheTp0fX0sOTE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzkpO2UuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1yKGUpfX0sOTI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oNjUpKCEwKTtyKHIuUCwiQXJyYXkiLHtpbmNsdWRlczpmdW5jdGlvbihlLHQpe3JldHVybiBpKHRoaXMsZSwxPGFyZ3VtZW50cy5sZW5ndGg/dDp2b2lkIDApfX0pLG4oNDIpKCJpbmNsdWRlcyIpfSw5MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9big0OSksaT1NYXRoLm1heCxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybihlPXIoZSkpPDA/aShlK3QsMCk6byhlLHQpfX0sOTQ6ZnVuY3Rpb24oZSx0KXt9LDk1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgdT1uKDQ5KSxzPW4oNDApO2UuZXhwb3J0cz1mdW5jdGlvbihjKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9U3RyaW5nKHMoZSkpLG89dSh0KSxhPWkubGVuZ3RoO3JldHVybiBvPDB8fGE8PW8/Yz8iIjp2b2lkIDA6KG49aS5jaGFyQ29kZUF0KG8pKTw1NTI5Nnx8NTYzMTk8bnx8bysxPT09YXx8KHI9aS5jaGFyQ29kZUF0KG8rMSkpPDU2MzIwfHw1NzM0MzxyP2M/aS5jaGFyQXQobyk6bjpjP2kuc2xpY2UobyxvKzIpOnItNTYzMjArKG4tNTUyOTY8PDEwKSs2NTUzNn19fSw5NjpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oMjEpfSw5NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNjgpLGk9big0Niksbz1uKDU0KSxhPXt9O24oMjEpKGEsbigxNCkoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7ZS5wcm90b3R5cGU9cihhLHtuZXh0OmkoMSxuKX0pLG8oZSx0KyIgSXRlcmF0b3IiKX19LDk4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgYT1uKDIwKSxjPW4oMjgpLHU9big5OSk7ZS5leHBvcnRzPW4oMjIpP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7YyhlKTtmb3IodmFyIG4scj11KHQpLGk9ci5sZW5ndGgsbz0wO288aTspYS5mKGUsbj1yW28rK10sdFtuXSk7cmV0dXJuIGV9fSw5OTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMDApLGk9big2OSk7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gcihlLGkpfX19KTsKdXBianNDaHVuayhbMjk3XSx7MTIzOmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigxMjQpfSwxMjQ6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKGUsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTt2YXIgcj1uKDEpLGg9bigzKSxnPW4oMCk7ZnVuY3Rpb24gZigpe3JldHVybihmPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGk9IjMzYWNyb3NzIixiPSJodHRwczovL3NzYy4zM2Fjcm9zcy5jb20vYXBpL3YxL2hiIix1PSJodHRwczovL3NzYy1jbXMuMzNhY3Jvc3MuY29tL3BzLz9tPXhjaCZydD1odG1sJnJ1PWRlYiIsbz17fSxtPSJubSI7ZnVuY3Rpb24gdih0KXtyZXR1cm4hZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGcuZ2V0V2luZG93U2VsZigpIT09Zy5nZXRXaW5kb3dUb3AoKX1jYXRjaCh0KXtyZXR1cm4hMH19KCkmJm51bGwhPT10fWZ1bmN0aW9uIHcodCxlLG4pe3ZhciByPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09bj9uOnt9LGk9ci53LG89ci5oO3JldHVybiJ2aXNpYmxlIj09PWUuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP2Z1bmN0aW9uKHQsZSl7dmFyIG4scixpPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxvPWkudyxkPWkuaCxhPWZ1bmN0aW9uKHQpe3ZhciBlPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWUudyxyPWUuaCxpPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1pLndpZHRoLGQ9aS5oZWlnaHQsYT1pLmxlZnQsdT1pLnRvcCxzPWkucmlnaHQsYz1pLmJvdHRvbTsoMD09PW98fDA9PT1kKSYmbiYmciYmKHM9YSsobz1uKSxjPXUrKGQ9cikpO3JldHVybnt3aWR0aDpvLGhlaWdodDpkLGxlZnQ6YSx0b3A6dSxyaWdodDpzLGJvdHRvbTpjfX0odCx7dzpvLGg6ZH0pLHU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXtsZWZ0OnRbMF0ubGVmdCxyaWdodDp0WzBdLnJpZ2h0LHRvcDp0WzBdLnRvcCxib3R0b206dFswXS5ib3R0b219LG49MTtuPHQubGVuZ3RoOysrbil7aWYoZS5sZWZ0PU1hdGgubWF4KGUubGVmdCx0W25dLmxlZnQpLGUucmlnaHQ9TWF0aC5taW4oZS5yaWdodCx0W25dLnJpZ2h0KSxlLmxlZnQ+PWUucmlnaHQpcmV0dXJuIG51bGw7aWYoZS50b3A9TWF0aC5tYXgoZS50b3AsdFtuXS50b3ApLGUuYm90dG9tPU1hdGgubWluKGUuYm90dG9tLHRbbl0uYm90dG9tKSxlLnRvcD49ZS5ib3R0b20pcmV0dXJuIG51bGx9cmV0dXJuIGUud2lkdGg9ZS5yaWdodC1lLmxlZnQsZS5oZWlnaHQ9ZS5ib3R0b20tZS50b3AsZX0oW3tsZWZ0OjAsdG9wOjAscmlnaHQ6ZS5pbm5lcldpZHRoLGJvdHRvbTplLmlubmVySGVpZ2h0fSxhXSk7cmV0dXJuIG51bGw9PT11PzA6KG49dS53aWR0aCp1LmhlaWdodCxyPWEud2lkdGgqYS5oZWlnaHQsbi9yKjEwMCl9KHQsZSx7dzppLGg6b30pOjB9ZnVuY3Rpb24geSh0KXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCl8fGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZ1bmN0aW9uKHQpe2lmKGcuaXNHcHRQdWJhZHNEZWZpbmVkKCkpZm9yKHZhciBlPWdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLG49Zy5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGUodCkscj0wO3I8ZS5sZW5ndGg7cisrKWlmKG4oZVtyXSkpe3ZhciBpPWVbcl0uZ2V0U2xvdEVsZW1lbnRJZCgpO3JldHVybiBnLmxvZ0luZm8oIlszM0Fjcm9zcyBBZGFwdGVyXSBNYXAgYWQgdW5pdCBwYXRoIHRvIEhUTUwgZWxlbWVudCBpZDogJyIuY29uY2F0KHQsIicgLT4gIikuY29uY2F0KGkpKSxpfXJldHVybiBnLmxvZ1dhcm4oIlszM0Fjcm9zcyBBZGFwdGVyXSBVbmFibGUgdG8gbG9jYXRlIGVsZW1lbnQgZm9yIGFkIHVuaXQgY29kZTogJyIuY29uY2F0KHQsIiciKSksbnVsbH0odCkpfWZ1bmN0aW9uIGQodCxlKXt2YXIgbixvLHI9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6e30saT17fSxkPXQucGFyYW1zLGE9eSh0LmFkVW5pdENvZGUpLHU9KG49dC5zaXplcywhZy5pc0FycmF5KG4pfHwyIT09bi5sZW5ndGh8fGcuaXNBcnJheShuWzBdKT9uLm1hcChJKTpbSShuKV0pLHM9dS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5oKmUudzx0LmgqdC53P2U6dH0pLGM9dihhKT93KGEsZy5nZXRXaW5kb3dUb3AoKSxzKTptLHA9KG89YyxmdW5jdGlvbih0KXt2YXIgZT1mKHt9LHQpLG49ZS5pbXA9ZS5pbXAubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBmKHt9LHQpfSkscj1uWzBdLmJhbm5lcj1mKHt9LG5bMF0uYmFubmVyKSxpPXIuZXh0PWYoe30sci5leHQpO3JldHVybihpLnR0eD1mKHt9LGkudHR4KSkudmlld2FiaWxpdHk9e2Ftb3VudDppc05hTihvKT9vOk1hdGgucm91bmQobyl9LGV9KTtpLmltcD1bXSxpLmltcFswXT17YmFubmVyOntmb3JtYXQ6dS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGYodCx7ZXh0Ont9fSl9KX0sZXh0Ont0dHg6e3Byb2Q6ZC5wcm9kdWN0SWR9fX0saS5zaXRlPXtpZDpkLnNpdGVJZH0saS5pZD10LmJpZElkLGkudXNlcj17ZXh0Ontjb25zZW50OnIuY29uc2VudFN0cmluZ319LGkucmVncz17ZXh0OntnZHByOiEwPT09ci5nZHByQXBwbGllcz8xOjB9fSxpLmV4dD17dHR4OntwcmViaWRTdGFydGVkQXQ6RGF0ZS5ub3coKSxjYWxsZXI6W3tuYW1lOiJwcmViaWRqcyIsdmVyc2lvbjoiMi40NC44LXByZSJ9XX19LDE9PT1kLnRlc3QmJihpLnRlc3Q9MSk7dmFyIGw9aC5iLmdldENvbmZpZygidHR4U2V0dGluZ3MiKTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6bCYmbC51cmx8fGIsZGF0YTpKU09OLnN0cmluZ2lmeShwKGkpKSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfX19ZnVuY3Rpb24gSSh0KXtyZXR1cm57dzpwYXJzZUludCh0WzBdLDEwKSxoOnBhcnNlSW50KHRbMV0sMTApfX12YXIgYT17Tk9OX01FQVNVUkFCTEU6bSxjb2RlOmksaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuYmlkZGVyPT09aSYmdm9pZCAwIT09dC5wYXJhbXMmJih2b2lkIDAhPT10LnBhcmFtcy5zaXRlSWQmJnZvaWQgMCE9PXQucGFyYW1zLnByb2R1Y3RJZCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24odCxlKXt2YXIgbj1mKHtjb25zZW50U3RyaW5nOnZvaWQgMCxnZHByQXBwbGllczohMX0sZSYmZS5nZHByQ29uc2VudCk7cmV0dXJuIG8udW5pcXVlU2l0ZUlkcz10Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJhbXMuc2l0ZUlkfSkuZmlsdGVyKGcudW5pcXVlcyksdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGQodCxuKX0pfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbih0LGUpe3ZhciBuLHI9W107cmV0dXJuIDA8dC5ib2R5LnNlYXRiaWQubGVuZ3RoJiYwPHQuYm9keS5zZWF0YmlkWzBdLmJpZC5sZW5ndGgmJnIucHVzaCh7cmVxdWVzdElkOihuPXQuYm9keSkuaWQsYmlkZGVyQ29kZTppLGNwbTpuLnNlYXRiaWRbMF0uYmlkWzBdLnByaWNlLHdpZHRoOm4uc2VhdGJpZFswXS5iaWRbMF0udyxoZWlnaHQ6bi5zZWF0YmlkWzBdLmJpZFswXS5oLGFkOm4uc2VhdGJpZFswXS5iaWRbMF0uYWRtLHR0bDpuLnNlYXRiaWRbMF0uYmlkWzBdLnR0bHx8NjAsY3JlYXRpdmVJZDpuLnNlYXRiaWRbMF0uYmlkWzBdLmNyaWQsY3VycmVuY3k6bi5jdXIsbmV0UmV2ZW51ZTohMH0pLHJ9LGdldFVzZXJTeW5jczpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQuaWZyYW1lRW5hYmxlZD9vLnVuaXF1ZVNpdGVJZHMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXt0LnNpdGVJZDt2YXIgZT10LmdkcHJDb25zZW50LG49dm9pZCAwPT09ZT97fTplLHI9aC5iLmdldENvbmZpZygidHR4U2V0dGluZ3MiKSxpPXImJnIuc3luY1VybHx8dSxvPW4uY29uc2VudFN0cmluZyxkPW4uZ2RwckFwcGxpZXMsYT17dHlwZToiaWZyYW1lIix1cmw6IiIuY29uY2F0KGksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChvKSl9O3JldHVybiJib29sZWFuIj09dHlwZW9mIGQmJihhLnVybCs9IiZnZHByPSIuY29uY2F0KE51bWJlcihkKSkpLGF9KHtnZHByQ29uc2VudDpuLHNpdGVJZDp0fSl9KTpbXX19O09iamVjdChyLnJlZ2lzdGVyQmlkZGVyKShhKX19LFsxMjNdKTsKdXBianNDaHVuayhbMjk0XSx7MTI5OmZ1bmN0aW9uKGUscixhKXtlLmV4cG9ydHM9YSgxMzApfSwxMzA6ZnVuY3Rpb24oZSxyLGEpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5yZXNldFVzZXJTeW5jPWZ1bmN0aW9uKCl7ZD0hMX0sYS5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSxyLmhhc1ZhbGlkU3VwcGx5Q2hhaW5QYXJhbXM9dDt2YXIgbD1hKDApLG49YSgxKSxkPSExO3ZhciBoPXtjb2RlOiJhYXJkdmFyayIsYWxpYXNlczpbImFkc3BhcmMiLCJzYWZlcmVhY2giXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUucGFyYW1zLmFpJiYhIWUucGFyYW1zLmFpLmxlbmd0aCYmInN0cmluZyI9PXR5cGVvZiBlLnBhcmFtcy5zYyYmISFlLnBhcmFtcy5zYy5sZW5ndGh9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxhKXt2YXIgbix0PVtdLHM9W10saT17fSxvPWEucmVmZXJlckluZm8ucmVmZXJlcixkPVtdLHA9IiIsYz13aW5kb3cuaW5uZXJXaWR0aCx1PXdpbmRvdy5pbm5lckhlaWdodDt0cnl7dmFyIHI9bC5nZXRXaW5kb3dUb3AoKTtyLnJ0a2NhdGVnb3JpZXMmJkFycmF5LmlzQXJyYXkoci5ydGtjYXRlZ29yaWVzKSYmKGQ9ci5ydGtjYXRlZ29yaWVzKSxjPXIuaW5uZXJXaWR0aCx1PXIuaW5uZXJIZWlnaHR9Y2F0Y2goZSl7fXJldHVybiBsLmlzU3RyKGwuZGVlcEFjY2VzcyhlLCIwLnVzZXJJZC50ZGlkIikpJiYocD1lWzBdLnVzZXJJZC50ZGlkKSxuPWguc2VyaWFsaXplU3VwcGx5Q2hhaW4obC5kZWVwQWNjZXNzKGUsIjAuc2NoYWluIikpLGwuX2VhY2goZSxmdW5jdGlvbihlKXt2YXIgcj1pW2UucGFyYW1zLmFpXTtyfHwocj17c2hvcnRDb2RlczpbXSxwYXlsb2FkOnt2ZXJzaW9uOjEsanNvbnA6ITEscnRrcmVmZXJlcjpvLHc6YyxoOnV9LGVuZHBvaW50OiJiaWRkZXIucnRrLmlvIn0scCYmKHIucGF5bG9hZC50ZGlkPXApLG4mJihyLnBheWxvYWQuc2NoYWluPW4pLGQmJmQubGVuZ3RoJiYoci5wYXlsb2FkLmNhdGVnb3JpZXM9ZC5zbGljZSgwKSksZS5wYXJhbXMuY2F0ZWdvcmllcyYmZS5wYXJhbXMuY2F0ZWdvcmllcy5sZW5ndGgmJihyLnBheWxvYWQuY2F0ZWdvcmllcz1yLnBheWxvYWQuY2F0ZWdvcmllc3x8W10sbC5fZWFjaChlLnBhcmFtcy5jYXRlZ29yaWVzLGZ1bmN0aW9uKGUpe3IucGF5bG9hZC5jYXRlZ29yaWVzLnB1c2goZSl9KSksYS5nZHByQ29uc2VudCYmKHIucGF5bG9hZC5nZHByPSExLCJib29sZWFuIj09dHlwZW9mIGEuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihyLnBheWxvYWQuZ2Rwcj1hLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxyLnBheWxvYWQuZ2RwciYmKHIucGF5bG9hZC5jb25zZW50PWEuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLGlbZS5wYXJhbXMuYWldPXIsdC5wdXNoKGUucGFyYW1zLmFpKSksYS51c3BDb25zZW50JiYoci5wYXlsb2FkLnVzX3ByaXZhY3k9YS51c3BDb25zZW50KSxyLnNob3J0Q29kZXMucHVzaChlLnBhcmFtcy5zYyksci5wYXlsb2FkW2UucGFyYW1zLnNjXT1lLmJpZElkLCJzdHJpbmciPT10eXBlb2YgZS5wYXJhbXMuaG9zdCYmZS5wYXJhbXMuaG9zdC5sZW5ndGgmJmUucGFyYW1zLmhvc3QhPT1yLmVuZHBvaW50JiYoci5lbmRwb2ludD1lLnBhcmFtcy5ob3N0KX0pLGwuX2VhY2godCxmdW5jdGlvbihlKXt2YXIgcj1pW2VdO3MucHVzaCh7bWV0aG9kOiJHRVQiLHVybDoiaHR0cHM6Ly8iLmNvbmNhdChyLmVuZHBvaW50LCIvIikuY29uY2F0KGUsIi8iKS5jb25jYXQoci5zaG9ydENvZGVzLmpvaW4oIl8iKSwiL2FhcmR2YXJrIiksZGF0YTpyLnBheWxvYWQsYmlkZGVyUmVxdWVzdDphfSl9KSxzfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgbj1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShlLmJvZHkpfHwoZS5ib2R5PVtlLmJvZHldKSxsLl9lYWNoKGUuYm9keSxmdW5jdGlvbihlKXt2YXIgcj0rKGUuY3BtfHwwKTtpZihyKXt2YXIgYT17cmVxdWVzdElkOmUuY2lkLGNwbTpyLHdpZHRoOmUud2lkdGh8fDAsaGVpZ2h0OmUuaGVpZ2h0fHwwLGN1cnJlbmN5OmUuY3VycmVuY3k/ZS5jdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiFlLm5ldFJldmVudWV8fGUubmV0UmV2ZW51ZSx0dGw6ZS50dGw/ZS50dGw6MzAwLGNyZWF0aXZlSWQ6ZS5jcmVhdGl2ZUlkfHwwfTtzd2l0Y2goZS5oYXNPd25Qcm9wZXJ0eSgiZGVhbElkIikmJihhLmRlYWxJZD1lLmRlYWxJZCksZS5oYXNPd25Qcm9wZXJ0eSgiZXgiKSYmKGEuZXg9ZS5leCksZS5tZWRpYSl7Y2FzZSJiYW5uZXIiOmEuYWQ9ZS5hZG0rbC5jcmVhdGVUcmFja1BpeGVsSHRtbChkZWNvZGVVUklDb21wb25lbnQoZS5udXJsKSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbC5sb2dFcnJvcigiYmFkIEFhcmR2YXJrIHJlc3BvbnNlIChtZWRpYSkiLGUpfW4ucHVzaChhKX19KSxufSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLGEsbil7dmFyIHQ9W10scz1bXSxpPSExO2lmKGEmJiJib29sZWFuIj09dHlwZW9mIGEuZ2RwckFwcGxpZXMmJihpPWEuZ2RwckFwcGxpZXMpLCFlLmlmcmFtZUVuYWJsZWQpcmV0dXJuIGwubG9nV2FybigiQWFyZHZhcms6IFBsZWFzZSBlbmFibGUgaWZyYW1lIGJhc2VkIHVzZXIgc3luYy4iKSx0O2lmKGQpcmV0dXJuIHQ7ZD0hMCxpJiYocy5wdXNoKFsiZyIsIjEiXSkscy5wdXNoKFsiYyIsYS5jb25zZW50U3RyaW5nXSkpLG4mJnMucHVzaChbInVzX3ByaXZhY3kiLG5dKTt2YXIgbz0iIjtyZXR1cm4gcy5sZW5ndGgmJihvPSI/IitzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZVswXSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGVbMV0pfSkuam9pbigiJiIpKSx0LnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovLyIuY29uY2F0KCJzeW5jLnJ0ay5pbyIsIi9jcyIpLmNvbmNhdChvKX0pLHR9LHNlcmlhbGl6ZVN1cHBseUNoYWluOmZ1bmN0aW9uKGUpe3JldHVybiB0KGUpPyIiLmNvbmNhdChlLnZlciwiLCIpLmNvbmNhdChlLmNvbXBsZXRlLCIhIikuY29uY2F0KGguc2VyaWFsaXplU3VwcGx5Q2hhaW5Ob2RlcyhlLm5vZGVzKSk6IiJ9LHNlcmlhbGl6ZVN1cHBseUNoYWluTm9kZXM6ZnVuY3Rpb24oZSl7dmFyIGE9WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQocltlXXx8IiIpfSkuam9pbigiLCIpfSkuam9pbigiISIpfX07ZnVuY3Rpb24gdChlKXtpZighZXx8IWUubm9kZXMpcmV0dXJuITE7dmFyIGE9WyJhc2kiLCJzaWQiLCJocCJdLHI9ZS5ub2Rlcy5yZWR1Y2UoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZT9hLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiByW2VdfSk6ZX0sITApO3JldHVybiByfHxsLmxvZ0Vycm9yKCJBYXJkdmFyazogcmVxdWlyZWQgc2NoYWluIHBhcmFtcyBtaXNzaW5nIikscn1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikoaCl9fSxbMTI5XSk7CnVwYmpzQ2h1bmsoWzI5MV0sezEzOTpmdW5jdGlvbihlLHIsbil7ZS5leHBvcnRzPW4oMTQwKX0sMTQwOmZ1bmN0aW9uKGUscixuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBkfSk7dmFyIHQ9bigxKSx2PW4oMyksbD1uKDIpLGg9bigxMCksZj1uKDApLF89ImFkZm9ybSIsZD17Y29kZTpfLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2wuYixsLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMubWlkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIG4sdCxkLHMsaSxvLHAsYSx1LGMsZz12LmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5IiksbD1bXSxoPVtbImFkeERvbWFpbiIsImFkeC5hZGZvcm0ubmV0Il0sWyJmZCIsMV0sWyJ1cmwiLG51bGxdLFsidGlkIixudWxsXV0sZj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSxiPWZbMF0mJmZbMF0uYmlkZGVyfHxfO2ZvcihuPTAsdD1mLmxlbmd0aDtuPHQ7bisrKXtmb3IoIm5ldCIhPT0oaT1mW25dKS5wYXJhbXMucHJpY2VUeXBlJiYibmV0IiE9PWkucGFyYW1zLnB0fHwodT0ibmV0IiksZD0wLHM9aC5sZW5ndGg7ZDxzO2QrKykocD1pW289aFtkXVswXV18fGkucGFyYW1zW29dKSYmKGlbb109aS5wYXJhbXNbb109bnVsbCxoW2RdWzFdPXApOyhhPWkucGFyYW1zKS50cmFuc2FjdGlvbklkPWkudHJhbnNhY3Rpb25JZCxhLnJjdXI9YS5yY3VyfHxnLGwucHVzaChtKGEpKX1mb3IobC51bnNoaWZ0KCIvLyIraFswXVsxXSsiL2FkeC8/cnA9NCIpLHU9dXx8Imdyb3NzIixsLnB1c2goInB0PSIrdSksbC5wdXNoKCJzdGlkPSIrZVswXS5hdWN0aW9uSWQpLHImJnIuZ2RwckNvbnNlbnQmJnIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihjPXtnZHByOnIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMsZ2Rwcl9jb25zZW50OnIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZ30sbC5wdXNoKCJnZHByPSIrYy5nZHByKSxsLnB1c2goImdkcHJfY29uc2VudD0iK2MuZ2Rwcl9jb25zZW50KSksbj0xLHQ9aC5sZW5ndGg7bjx0O24rKylvPWhbbl1bMF0sKHA9aFtuXVsxXSkmJmwucHVzaChvKyI9IitlbmNvZGVVUklDb21wb25lbnQocCkpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOmwuam9pbigiJiIpLGJpZHM6ZSxuZXRSZXZlbnVlOnUsYmlkZGVyOmIsZ2RwcjpjfTtmdW5jdGlvbiBtKGUpe3ZhciByLG49W107Zm9yKHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiZlW3JdJiZuLnB1c2gociwiPSIsZVtyXSwiJiIpO3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoYnRvYShuLmpvaW4oIiIpLnNsaWNlKDAsLTEpKSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe2Zvcih2YXIgbix0LGQscyxpPXtiYW5uZXI6MSx2YXN0X2NvbnRlbnQ6MSx2YXN0X3VybDoxfSxvPVtdLHA9ci5iaWRzLGE9ZS5ib2R5LHU9MDt1PGEubGVuZ3RoO3UrKylzPSJiYW5uZXIiPT09KHQ9YVt1XSkucmVzcG9uc2U/bC5iOmwuZCxkPXBbdV0saVt0LnJlc3BvbnNlXSYmKGcodCxmLmdldEFkVW5pdFNpemVzKGQpKXx8cz09PWwuZCkmJihuPXtyZXF1ZXN0SWQ6ZC5iaWRJZCxjcG06dC53aW5fYmlkLHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0LGNyZWF0aXZlSWQ6ZC5iaWRJZCxkZWFsSWQ6dC5kZWFsX2lkLGN1cnJlbmN5OnQud2luX2N1cixuZXRSZXZlbnVlOiJncm9zcyIhPT1yLm5ldFJldmVudWUsdHRsOjM2MCxhZDp0LmJhbm5lcixiaWRkZXJDb2RlOnIuYmlkZGVyLHRyYW5zYWN0aW9uSWQ6ZC50cmFuc2FjdGlvbklkLHZhc3RVcmw6dC52YXN0X3VybCx2YXN0WG1sOnQudmFzdF9jb250ZW50LG1lZGlhVHlwZTpzfSxkLnJlbmRlcmVyfHxzIT09bC5kfHwib3V0c3RyZWFtIiE9PWYuZGVlcEFjY2VzcyhkLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKXx8KG4ucmVuZGVyZXI9aC5hLmluc3RhbGwoe2lkOmQuYmlkSWQsdXJsOiJodHRwczovL3MyLmFkZm9ybS5uZXQvYmFubmVycy9zY3JpcHRzL3ZpZGVvL291dHN0cmVhbS9yZW5kZXIuanMifSksbi5yZW5kZXJlci5zZXRSZW5kZXIoYykpLHIuZ2RwciYmKG4uZ2Rwcj1yLmdkcHIuZ2RwcixuLmdkcHJfY29uc2VudD1yLmdkcHIuZ2Rwcl9jb25zZW50KSxvLnB1c2gobikpO3JldHVybiBvO2Z1bmN0aW9uIGMoZSl7ZS5yZW5kZXJlci5wdXNoKGZ1bmN0aW9uKCl7d2luZG93LkFkZm9ybS5yZW5kZXJPdXRzdHJlYW0oZSl9KX1mdW5jdGlvbiBnKGUscil7Zm9yKHZhciBuPTAsdD1yLmxlbmd0aDtuPHQ7bisrKWlmKGUud2lkdGg9PXJbbl1bMF0mJmUuaGVpZ2h0PT1yW25dWzFdKXJldHVybiEwO3JldHVybiExfX19O09iamVjdCh0LnJlZ2lzdGVyQmlkZGVyKShkKX19LFsxMzldKTsKdXBianNDaHVuayhbMjcxXSx7MTkyOmZ1bmN0aW9uKGUsbixyKXtlLmV4cG9ydHM9cigxOTMpfSwxOTM6ZnVuY3Rpb24oZSxuLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKG4sInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGN9KTt2YXIgdD1yKDApLG89cig5KSxpPXIoMSksYT1yKDEyKSxkPXIubihhKSxjPXtjb2RlOiJhZHlvdWxpa2UiLGFsaWFzZXM6WyJheWwiXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgbj1wKHMoZSkpO3JldHVybiEhKGUucGFyYW1zJiZlLnBhcmFtcy5wbGFjZW1lbnQmJm4ud2lkdGgmJm4uaGVpZ2h0KX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe3ZhciByPXtWZXJzaW9uOiIxLjAiLEJpZHM6ZS5yZWR1Y2UoZnVuY3Rpb24oZSxuKXt2YXIgcj1zKG4pLHQ9cChyKTtyZXR1cm4gZVtuLmJpZElkXT17fSxlW24uYmlkSWRdLlBsYWNlbWVudElEPW4ucGFyYW1zLnBsYWNlbWVudCxlW24uYmlkSWRdLlRyYW5zYWN0aW9uSUQ9bi50cmFuc2FjdGlvbklkLGVbbi5iaWRJZF0uV2lkdGg9dC53aWR0aCxlW24uYmlkSWRdLkhlaWdodD10LmhlaWdodCxlW24uYmlkSWRdLkF2YWlsYWJsZVNpemVzPXIuam9pbigiLCIpLGV9LHt9KSxQYWdlUmVmcmVzaGVkOmZ1bmN0aW9uKCl7dHJ5e2lmKHBlcmZvcm1hbmNlJiZwZXJmb3JtYW5jZS5uYXZpZ2F0aW9uKXJldHVybiBwZXJmb3JtYW5jZS5uYXZpZ2F0aW9uLnR5cGU9PT1wZXJmb3JtYW5jZS5uYXZpZ2F0aW9uLlRZUEVfUkVMT0FEfWNhdGNoKGUpe31yZXR1cm4hMX0oKX07biYmbi5nZHByQ29uc2VudCYmKHIuZ2RwckNvbnNlbnQ9e2NvbnNlbnRTdHJpbmc6bi5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGNvbnNlbnRSZXF1aXJlZDoiYm9vbGVhbiIhPXR5cGVvZiBuLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfHxuLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSk7dmFyIHQsaSxhPUpTT04uc3RyaW5naWZ5KHIpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoodD1uLGk9ZnVuY3Rpb24oZSl7dmFyIG49ZCgpKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLkRDfSk7aWYobilyZXR1cm4iLSIrbi5wYXJhbXMuREM7cmV0dXJuIiJ9KGUpLE9iamVjdChvLmEpKHtwcm90b2NvbDoiaHR0cHMiLGhvc3Q6IiIuY29uY2F0KCJoYi1hcGkiKS5jb25jYXQoaSwiLm9tbml0YWdqcy5jb20iKSxwYXRobmFtZToiL2hiLWFwaS9wcmViaWQvdjEiLHNlYXJjaDpmdW5jdGlvbihlKXt2YXIgbj17fSxyPWZ1bmN0aW9uKGUpe3ZhciBuPSIiO3JldHVybiBlJiZlLnJlZmVyZXJJbmZvJiYobj1lbmNvZGVVUklDb21wb25lbnQoZS5yZWZlcmVySW5mby5yZWZlcmVyKSksbn0oZSk7ciYmKG4uUmVmZXJlclVybD1lbmNvZGVVUklDb21wb25lbnQocikpO3ZhciB0PWZ1bmN0aW9uKCl7dmFyIGU7aWYod2luZG93LnNlbGYhPT13aW5kb3cudG9wKXRyeXtlPXdpbmRvdy50b3AuZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD0iY2Fub25pY2FsIl1baHJlZl0nKX1jYXRjaChlKXt9ZWxzZSBlPWRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcignbGlua1tyZWw9ImNhbm9uaWNhbCJdW2hyZWZdJyk7cmV0dXJuIGU/ZS5ocmVmOiIifSgpO3JldHVybiB0JiYobi5DYW5vbmljYWxVcmw9ZW5jb2RlVVJJQ29tcG9uZW50KHQpKSxufSh0KX0pKSxkYXRhOmEsb3B0aW9uczp7d2l0aENyZWRlbnRpYWxzOiEwfX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmJvZHkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbixyPShuPWUpJiZuLkFkP3tyZXF1ZXN0SWQ6bi5CaWRJRCx3aWR0aDpuLldpZHRoLGhlaWdodDpuLkhlaWdodCxhZDpuLkFkLHR0bDozNjAwLGNyZWF0aXZlSWQ6bi5DcmVhdGl2ZUlELGNwbTpuLlByaWNlLG5ldFJldmVudWU6ITAsY3VycmVuY3k6IlVTRCJ9OnZvaWQgMDtyJiZ0LnB1c2gocil9KSx0fX07ZnVuY3Rpb24gcyhlKXt2YXIgbj1lLnNpemVzO3JldHVybiBlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJihuPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpLHQucGFyc2VTaXplc0lucHV0KG4pfWZ1bmN0aW9uIHAoZSl7dmFyIG49e30scj1lWzBdO2lmKCJzdHJpbmciIT10eXBlb2YgcilyZXR1cm4gbjt2YXIgdD1yLnRvVXBwZXJDYXNlKCkuc3BsaXQoIlgiKSxpPXBhcnNlSW50KHRbMF0sMTApO2kmJihuLndpZHRoPWkpO3ZhciBhPXBhcnNlSW50KHRbMV0sMTApO3JldHVybiBhJiYobi5oZWlnaHQ9YSksbn1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikoYyl9fSxbMTkyXSk7CnVwYmpzQ2h1bmsoWzI2OV0sezE5NjpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMTk3KX0sMTk3OmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJCSURERVJfQ09ERSIsZnVuY3Rpb24oKXtyZXR1cm4gaX0pLGUuZCh0LCJFTkdJTkVfQkFTRV9VUkwiLGZ1bmN0aW9uKCl7cmV0dXJuIG99KSxlLmQodCwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gY30pLHQucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe3M9ITF9O2UoMCk7dmFyIHI9ZSgxKSxhPWUoMik7ZnVuY3Rpb24gdShuLHQsZSl7cmV0dXJuIHQgaW4gbj9PYmplY3QuZGVmaW5lUHJvcGVydHkobix0LHt2YWx1ZTplLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6blt0XT1lLG59dmFyIGk9ImFtYXpvbkFBWCIsbz0iaHR0cHM6Ly9jLmFtYXpvbi1hZHN5c3RlbS5jb20vZS9kdGIvYmlkIixmPVtdLHM9ITEsZD1bImh0dHBzOi8vYWF4LWV1LmFtYXpvbi1hZHN5c3RlbS5jb20vcy9pdTM/Y20zcHBkPTEmZD1kdGItcHViJmNzaWY9dCJdO3ZhciBjPXtjb2RlOmksc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbigpe3JldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPTA7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV07Zi5wdXNoKHIpfXZhciBhLGk9W107cmV0dXJuIGE9ZnVuY3Rpb24obix0KXtmb3IodmFyIGUscj1bXSxhPXQmJnQuZ2RwckNvbnNlbnQsaT0wO2k8bi5sZW5ndGg7aSsrKXtmb3IodmFyIG89e30scz1uW2ldLnNpemVzLGQ9W10sYz0wO2M8cy5sZW5ndGg7YysrKWQucHVzaChzW2NdWzBdKyJ4IitzW2NdWzFdKTtvLnNkPWwudG9TdHJpbmcoKSxvLnM9ZCxvLnNuPW5baV0ucGFyYW1zLmFkVW5pdEdQVFBhdGgsci5wdXNoKG8pLGwrK312YXIgbT0tMTxuWzBdLnBhcmFtcy5wdWJJRC5pbmRleE9mKCItIikscD0odShlPXt9LCJzcmMiLG0/IjYwMCI6blswXS5wYXJhbXMucHViSUQpLHUoZSwicHViaWQiLG5bMF0ucGFyYW1zLnB1YklEKSx1KGUsInUiLHdpbmRvdy5sb2NhdGlvbi5ocmVmKSx1KGUsInBpZCIsZnVuY3Rpb24obil7Zm9yKHZhciB0PSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSIsZT1uZXcgQXJyYXkobikscj0wO3I8bjtyKyspZVtyXT10W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0Lmxlbmd0aCldO3JldHVybiBlLmpvaW4oIiIpfSgxMykpLHUoZSwicHIiLGRvY3VtZW50LnJlZmVycmVyKSx1KGUsImNiIiwwKSx1KGUsIndzIiwod2luZG93LmlubmVyV2lkdGh8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aHx8ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCkrIngiKyh3aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR8fGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KSksdShlLCJ2IiwiNy40Ny4wMCIpLHUoZSwic2xvdHMiLEpTT04uc3RyaW5naWZ5KHIpKSx1KGUsInQiLDNlMyksZSk7YSYmInN0cmluZyI9PXR5cGVvZiBhLmNvbnNlbnRTdHJpbmc/ImJvb2xlYW4iPT10eXBlb2YgYS5nZHByQXBwbGllcz8ocC5nZHByZT0iMSIscC5nZHByYz0iIi5jb25jYXQoYS5jb25zZW50U3RyaW5nKSxwLmdkcHJsPUpTT04uc3RyaW5naWZ5KHtsc1N0YXR1czoicHJlc2VudCIsc3RhdHVzOiJjbXAtc3VjY2VzcyIscnRpbWVzOlsxXSxjYzoiMCJ9KSk6cC5nZHBybD1KU09OLnN0cmluZ2lmeSh1KHtzdGF0dXM6InByZXNlbnQifSwic3RhdHVzIiwiY21wLXN1Y2Nlc3MiKSk6cC5nZHBybD1KU09OLnN0cmluZ2lmeSh7c3RhdHVzOiJjbXAtZXJyb3IifSk7cmV0dXJuIHB9KG4sdCksaS5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOm8sZGF0YTphfSksaX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24obil7dmFyIHQ9W10sZT1uZXcgUmVnRXhwKCJhcHN0YWdcXC5cXHcrXFwoKC4qPylcXCkiLCJnbSIpLHI9bi5ib2R5LGE9ZS5leGVjKHIpO2lmKGEmJjA8YS5sZW5ndGgpdHJ5e3ZhciBpLG89SlNPTi5wYXJzZShhWzFdKTtpZihvLmNtcCwhby5zbG90cylyZXR1cm4gdDtpPW8uaG9zdDtmb3IodmFyIHM9by5zbG90cyxkPTA7ZDxzLmxlbmd0aDtkKyspe2Zvcih2YXIgYz12b2lkIDAsbT1zW2RdLHA9MDtwPGYubGVuZ3RoO3ArKylpZihwLnRvU3RyaW5nKCk9PT1tLnNsb3RJRCl7Yz1mW3BdO2JyZWFrfWlmKHZvaWQgMCE9PWMpe3ZhciB1PTAsbD0iIitNYXRoLnJvdW5kKDFlMTIqTWF0aC5yYW5kb20oKSkrRGF0ZS5ub3coKSxnPWkrIi9lL2R0Yi9hZG1pP2I9IittLmFtem5paWQrIiZybmQ9IitsKyImcHA9IittLmFtem5iaWQrIiZwPSIrbS5hbXpucCsiJmNyaWQ9IittLmNyaWQ7d2luZG93LnVwb19hbXpuJiZ3aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ2hhcnQmJndpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydFttLmFtem5iaWRdJiYodT13aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ2hhcnRbbS5hbXpuYmlkXSksdC5wdXNoKHtyZXF1ZXN0SWQ6Yy5iaWRJZCxjcG06dSx3aWR0aDptLmFtem5zei5zcGxpdCgieCIpWzBdLGhlaWdodDptLmFtem5zei5zcGxpdCgieCIpWzFdLGFkVGFyZ2V0aW5nOid7ImFtem5paWQiOiInK20uYW16bmlpZCsnIiwiYW16bnAiOiInK20uYW16bnArJyIsImFtem5iaWQiOiInK20uYW16bmJpZCsnIiwiYW16bnN6IjoiJyttLmFtem5zeisnIn0nLGFkOiIiLGFkSHRtbDonPGJvZHkgbGVmdG1hcmdpbj0iMCIgdG9wbWFyZ2luPSIwIiBtYXJnaW53aWR0aD0iMCIgbWFyZ2luaGVpZ2h0PSIwIj48aWZyYW1lIGZyYW1lYm9yZGVyPSIwIiBtYXJnaW5oZWlnaHQ9IjAiIG1hcmdpbndpZHRoPSIwIiBzY3JvbGxpbmc9Im5vIiB3aWR0aD0iJyttLmFtem5zei5zcGxpdCgieCIpWzBdKydweCIgaGVpZ2h0PSInK20uYW16bnN6LnNwbGl0KCJ4IilbMV0rJ3B4IiBpZD0iYW16bmFkNzAzNTIiIHNhbmRib3g9ImFsbG93LWZvcm1zIGFsbG93LXBvaW50ZXItbG9jayBhbGxvdy1wb3B1cHMgYWxsb3ctcG9wdXBzLXRvLWVzY2FwZS1zYW5kYm94IGFsbG93LXNhbWUtb3JpZ2luIGFsbG93LXNjcmlwdHMgYWxsb3ctdG9wLW5hdmlnYXRpb24tYnktdXNlci1hY3RpdmF0aW9uIiBzcmM9IicrZysnIj48L2lmcmFtZT48c2NyaXB0PnZhciBhbXogPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTthbXouc3JjID0gIi8vYy5hbWF6b24tYWRzeXN0ZW0uY29tL2Jhby1jc20vZGlyZWN0L2NzbS5qcyI7YW16LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGZ1bmN0aW9uKCl7dmFyIGNzbUZ1bmMgPSBudWxsOyBpZih3aW5kb3cuYW16bmNzbSAmJiB3aW5kb3cuYW16bmNzbS5ybUQpe2NzbUZ1bmMgPSB3aW5kb3cuYW16bmNzbS5ybUQ7fSBlbHNlIGlmICh3aW5kb3cuYW16bmNzbSkge2NzbUZ1bmMgPSB3aW5kb3cuYW16bmNzbVtPYmplY3Qua2V5cyh3aW5kb3cuYW16bmNzbSlbMF1dfTsgdmFyIGFkSWZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcJ2lmcmFtZVtzcmMqPSJhbWF6b24tYWRzeXN0ZW0uY29tL2UvZHRiL2FkbWlcJyk7Y3NtRnVuYyhhZElmcmFtZSwgIicrbS5hbXpuaWlkKyciLCB3aW5kb3csIGRvY3VtZW50LCAiJytjLnBhcmFtcy5wdWJJRCsnIik7fSk7KGRvY3VtZW50LmJvZHl8fGRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoYW16KTs8XC9zY3JpcHQ+PC9ib2R5PicsYWRVcmw6Zyx0dGw6OTAwLGNyZWF0aXZlSWQ6bS5jcmlkLG5ldFJldmVudWU6ITAsY3VycmVuY3k6IlVTRCJ9KX19fWNhdGNoKG4pe31yZXR1cm4gdH0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKG4sdCxlKXtpZighcyl7ZSYmInN0cmluZyI9PXR5cGVvZiBlLmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiBlLmdkcHJBcHBsaWVzPyI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIoZS5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KGUuY29uc2VudFN0cmluZyk6Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQoZS5jb25zZW50U3RyaW5nKSkscz0hMDtmb3IodmFyIHI9W10sYT0wO2E8ZC5sZW5ndGg7YSsrKXIucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6ZFthXX0pO3JldHVybiByfX19O3ZhciBsPTA7T2JqZWN0KHIucmVnaXN0ZXJCaWRkZXIpKGMpfX0sWzE5Nl0pOwp1cGJqc0NodW5rKFsyNjZdLHsyMDI6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDIwMyl9LDIwMzpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4geH0pO3ZhciBzPXQoMCksbj10KDEpLGk9dCgyKTtmdW5jdGlvbiBvKCl7cmV0dXJuKG89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBhKCl7dmFyIGU9ZChbImRjbj0iLCImcG9zPSIsIiZjbWQ9YmlkIiwiIl0pO3JldHVybiBhPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9ZnVuY3Rpb24gYygpe3ZhciBlPWQoWyIvLyIsIi9iaWRSZXF1ZXN0PyJdKTtyZXR1cm4gYz1mdW5jdGlvbigpe3JldHVybiBlfSxlfWZ1bmN0aW9uIHUoKXt2YXIgZT1kKFsiLy8iLCIvcHViYXBpLzMuMC8iLCIvIiwiLyIsIi8iLCIvQURURUNIO3Y9MjtjbWQ9YmlkO2NvcnM9eWVzO2FsaWFzPSIsIjttaXNjPSIsIjsiLCJ1cG9uaXQ9dHJ1ZSZ1cGFwaT10cnVlIl0pO3JldHVybiB1PWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9ZnVuY3Rpb24gZChlLHIpe3JldHVybiByPXJ8fGUuc2xpY2UoMCksT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUocil9fSkpfXZhciBwPXtBT0w6ImFvbCIsT05FTU9CSUxFOiJvbmVtb2JpbGUiLE9ORURJU1BMQVk6Im9uZWRpc3BsYXkifSxsPXtHRVQ6ImRpc3BsYXktZ2V0In0sbT17R0VUOiJtb2JpbGUtZ2V0IixQT1NUOiJtb2JpbGUtcG9zdCJ9LGY9e1RBRzoiaWZyYW1lIixUWVBFOiJpZnJhbWUifSxiPXtUQUc6ImltZyIsVFlQRToiaW1hZ2UifSxoPVAodSgpLCJob3N0IiwibmV0d29yayIsInBsYWNlbWVudCIsInBhZ2VpZCIsInNpemVpZCIsImFsaWFzIiwibWlzYyIsImR5bmFtaWNQYXJhbXMiKSx2PVAoYygpLCJob3N0IiksZz1QKGEoKSwiZGNuIiwicG9zIiwiZHluYW1pY1BhcmFtcyIpLE89e3VzOiJhZHNlcnZlci11cy5hZHRlY2guYWR2ZXJ0aXNpbmcuY29tIixldToiYWRzZXJ2ZXItZXUuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbSIsYXM6ImFkc2VydmVyLWFzLmFkdGVjaC5hZHZlcnRpc2luZy5jb20ifSx5PSJodHRwcyIsRT0xO2Z1bmN0aW9uIFAobyl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoMTxlP2UtMTowKSxyPTE7cjxlO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKW5bcl09YXJndW1lbnRzW3JdO3ZhciBpPW5bbi5sZW5ndGgtMV18fHt9LGE9W29bMF1dO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24oZSxyKXt2YXIgdD1zLmlzSW50ZWdlcihlKT9uW2VdOmlbZV07YS5wdXNoKHQsb1tyKzFdKX0pLGEuam9pbigiIil9fWZ1bmN0aW9uIEkoZSl7cmV0dXJuIGU9PT1wLkFPTHx8ZT09PXAuT05FTU9CSUxFfWZ1bmN0aW9uIFQoZSl7aWYoSShlLmJpZGRlcikmJmUucGFyYW1zLmlkJiZlLnBhcmFtcy5pbXAmJmUucGFyYW1zLmltcFswXSl7dmFyIHI9ZS5wYXJhbXMuaW1wWzBdO3JldHVybiByLmlkJiZyLnRhZ2lkJiYoci5iYW5uZXImJnIuYmFubmVyLncmJnIuYmFubmVyLmh8fHIudmlkZW8mJnIudmlkZW8ubWltZXMmJnIudmlkZW8ubWluZHVyYXRpb24mJnIudmlkZW8ubWF4ZHVyYXRpb24pfX1mdW5jdGlvbiBTKGUpe3JldHVybiBJKGUuYmlkZGVyKSYmZS5wYXJhbXMuZGNuJiZlLnBhcmFtcy5wb3N9ZnVuY3Rpb24gQyhlKXtyZXR1cm4oKHI9ZS5iaWRkZXIpPT09cC5BT0x8fHI9PT1wLk9ORURJU1BMQVkpJiZlLnBhcmFtcy5wbGFjZW1lbnQmJmUucGFyYW1zLm5ldHdvcms7dmFyIHJ9dmFyIHg9e2NvZGU6cC5BT0wsYWxpYXNlczpbcC5PTkVNT0JJTEUscC5PTkVESVNQTEFZXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBDKGUpfHwoUyhyPWUpfHxUKHIpKTt2YXIgcn0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBuPXRoaXMsaT17fTtyZXR1cm4gciYmKGkuZ2Rwcj1yLmdkcHJDb25zZW50LGkudXNwQ29uc2VudD1yLnVzcENvbnNlbnQpLGUubWFwKGZ1bmN0aW9uKGUpe3ZhciByLHQ9UyhyPWUpP20uR0VUOlQocik/bS5QT1NUOkMocik/bC5HRVQ6dm9pZCAwO2lmKHQpcmV0dXJuIG4uZm9ybWF0QmlkUmVxdWVzdCh0LGUsaSl9KX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1lLmJvZHk7aWYodCl7dmFyIG49dGhpcy5fcGFyc2VCaWRSZXNwb25zZSh0LHIpO2lmKG4pcmV0dXJuIG59ZWxzZSBzLmxvZ0Vycm9yKCJFbXB0eSBiaWQgcmVzcG9uc2UiLHIuYmlkZGVyQ29kZSx0KX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscil7dmFyIHQ9IXMuaXNFbXB0eShyKSYmclswXS5ib2R5O3JldHVybiB0JiZ0LmV4dCYmdC5leHQucGl4ZWxzP3RoaXMucGFyc2VQaXhlbEl0ZW1zKHQuZXh0LnBpeGVscyk6W119LGZvcm1hdEJpZFJlcXVlc3Q6ZnVuY3Rpb24oZSxyLHQpe3ZhciBuO3N3aXRjaChlKXtjYXNlIGwuR0VUOm49e3VybDp0aGlzLmJ1aWxkTWFya2V0cGxhY2VVcmwocix0KSxtZXRob2Q6IkdFVCIsdHRsOjYwfTticmVhaztjYXNlIG0uR0VUOm49e3VybDp0aGlzLmJ1aWxkT25lTW9iaWxlR2V0VXJsKHIsdCksbWV0aG9kOiJHRVQiLHR0bDozNjAwfTticmVhaztjYXNlIG0uUE9TVDpuPXt1cmw6dGhpcy5idWlsZE9uZU1vYmlsZUJhc2VVcmwociksbWV0aG9kOiJQT1NUIix0dGw6MzYwMCxkYXRhOnRoaXMuYnVpbGRPcGVuUnRiUmVxdWVzdERhdGEocix0KSxvcHRpb25zOntjb250ZW50VHlwZToiYXBwbGljYXRpb24vanNvbiIsY3VzdG9tSGVhZGVyczp7Ingtb3BlbnJ0Yi12ZXJzaW9uIjoiMi4yIn19fX1yZXR1cm4gbi5iaWRkZXJDb2RlPXIuYmlkZGVyLG4uYmlkSWQ9ci5iaWRJZCxuLnVzZXJTeW5jT249ci5wYXJhbXMudXNlclN5bmNPbixufSxidWlsZE1hcmtldHBsYWNlVXJsOmZ1bmN0aW9uKGUscil7dmFyIHQsbj1lLnBhcmFtcyxpPW4uc2VydmVyLGE9bi5yZWdpb258fCJ1cyI7cmV0dXJuIE8uaGFzT3duUHJvcGVydHkoYSl8fChzLmxvZ1dhcm4oIlVua25vd24gcmVnaW9uICciLmNvbmNhdChhLCInIGZvciBBT0wgYmlkZGVyLiIpKSxhPSJ1cyIpLHQ9aXx8T1thXSxuLnJlZ2lvbj1hLHRoaXMuYXBwbHlQcm90b2NvbChoKHtob3N0OnQsbmV0d29yazpuLm5ldHdvcmsscGxhY2VtZW50OnBhcnNlSW50KG4ucGxhY2VtZW50KSxwYWdlaWQ6bi5wYWdlSWR8fDAsc2l6ZWlkOm4uc2l6ZUlkfHwwLGFsaWFzOm4uYWxpYXN8fHMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLG1pc2M6KG5ldyBEYXRlKS5nZXRUaW1lKCksZHluYW1pY1BhcmFtczp0aGlzLmZvcm1hdE1hcmtldHBsYWNlRHluYW1pY1BhcmFtcyhuLHIpfSkpfSxidWlsZE9uZU1vYmlsZUdldFVybDpmdW5jdGlvbihlLHIpe3ZhciB0PWUucGFyYW1zLG49dC5kY24saT10LnBvcyxhPXQuZXh0LG89dGhpcy5idWlsZE9uZU1vYmlsZUJhc2VVcmwoZSk7aWYobiYmaSl7dmFyIHM9dGhpcy5mb3JtYXRPbmVNb2JpbGVEeW5hbWljUGFyYW1zKGEscik7bys9Zyh7ZGNuOm4scG9zOmksZHluYW1pY1BhcmFtczpzfSl9cmV0dXJuIG99LGJ1aWxkT25lTW9iaWxlQmFzZVVybDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hcHBseVByb3RvY29sKHYoe2hvc3Q6ZS5wYXJhbXMuaG9zdHx8ImMyc2hiLnNzcC55YWhvby5jb20ifSkpfSxhcHBseVByb3RvY29sOmZ1bmN0aW9uKGUpe3JldHVybi9eaHR0cHM/OlwvXC8vaS50ZXN0KGUpP2U6MD09PWUuaW5kZXhPZigiLy8iKT8iIi5jb25jYXQoeSwiOiIpLmNvbmNhdChlKToiIi5jb25jYXQoeSwiOi8vIikuY29uY2F0KGUpfSxmb3JtYXRNYXJrZXRwbGFjZUR5bmFtaWNQYXJhbXM6ZnVuY3Rpb24oZSxyKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTp7fSxuPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09cj9yOnt9LGk9e307dC5iaWRGbG9vciYmKGkuYmlkZmxvb3I9dC5iaWRGbG9vciksbyhpLHRoaXMuZm9ybWF0S2V5VmFsdWVzKHQua2V5VmFsdWVzKSksbyhpLHRoaXMuZm9ybWF0Q29uc2VudERhdGEobikpO3ZhciBhPSIiO3JldHVybiBzLl9lYWNoKGksZnVuY3Rpb24oZSxyKXthKz0iIi5jb25jYXQociwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZSksIjsiKX0pLGF9LGZvcm1hdE9uZU1vYmlsZUR5bmFtaWNQYXJhbXM6ZnVuY3Rpb24oZSxyKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTp7fSxuPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09cj9yOnt9O3RoaXMuaXNTZWN1cmVQcm90b2NvbCgpJiYodC5zZWN1cmU9RSksbyh0LHRoaXMuZm9ybWF0Q29uc2VudERhdGEobikpO3ZhciBpPSIiO3JldHVybiBzLl9lYWNoKHQsZnVuY3Rpb24oZSxyKXtpKz0iJiIuY29uY2F0KHIsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUpKX0pLGl9LGJ1aWxkT3BlblJ0YlJlcXVlc3REYXRhOmZ1bmN0aW9uKGUscil7dmFyIHQ9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1yP3I6e30sbj17aWQ6ZS5wYXJhbXMuaWQsaW1wOmUucGFyYW1zLmltcH07cmV0dXJuIHRoaXMuaXNFVUNvbnNlbnRSZXF1aXJlZCh0KSYmKHMuZGVlcFNldFZhbHVlKG4sInJlZ3MuZXh0LmdkcHIiLEUpLHQuZ2Rwci5jb25zZW50U3RyaW5nJiZzLmRlZXBTZXRWYWx1ZShuLCJ1c2VyLmV4dC5jb25zZW50Iix0LmdkcHIuY29uc2VudFN0cmluZykpLHQudXNwQ29uc2VudCYmcy5kZWVwU2V0VmFsdWUobiwicmVncy5leHQudXNfcHJpdmFjeSIsdC51c3BDb25zZW50KSxufSxpc0VVQ29uc2VudFJlcXVpcmVkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUuZ2RwciYmZS5nZHByLmdkcHJBcHBsaWVzKX0sZm9ybWF0S2V5VmFsdWVzOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBzLl9lYWNoKGUsZnVuY3Rpb24oZSxyKXt0WyJrdiIuY29uY2F0KHIpXT1lfSksdH0sZm9ybWF0Q29uc2VudERhdGE6ZnVuY3Rpb24oZSl7dmFyIHI9e307cmV0dXJuIHRoaXMuaXNFVUNvbnNlbnRSZXF1aXJlZChlKSYmKHIuZ2Rwcj1FLGUuZ2Rwci5jb25zZW50U3RyaW5nJiYoci5ldWNvbnNlbnQ9ZS5nZHByLmNvbnNlbnRTdHJpbmcpKSxlLnVzcENvbnNlbnQmJihyLnVzX3ByaXZhY3k9ZS51c3BDb25zZW50KSxyfSxwYXJzZVBpeGVsSXRlbXM6ZnVuY3Rpb24oZSl7dmFyIG49L1x3Kig/PVxzKS8saT0vc3JjPSgifCcpKC4qPylcMS8sYT1bXTtpZihlKXt2YXIgcj1lLm1hdGNoKC8oaW1nfGlmcmFtZSlbXHNcU10qP3NyY1xzKj1ccyooInwnKSguKj8pXDIvZ2kpO3ImJnIuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj1lLm1hdGNoKG4pWzBdLHQ9ZS5tYXRjaChpKVsyXTtyJiZyJiZhLnB1c2goe3R5cGU6cj09PWIuVEFHP2IuVFlQRTpmLlRZUEUsdXJsOnR9KX0pfXJldHVybiBhfSxfcGFyc2VCaWRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0LG47dHJ5e3Q9ZS5zZWF0YmlkWzBdLmJpZFswXX1jYXRjaChlKXtyZXR1cm59aWYodC5leHQmJnQuZXh0LmVuY3Apbj10LmV4dC5lbmNwO2Vsc2UgaWYobnVsbD09PShuPXQucHJpY2UpfHxpc05hTihuKSlyZXR1cm4gdm9pZCBzLmxvZ0Vycm9yKCJJbnZhbGlkIHByaWNlIGluIGJpZCByZXNwb25zZSIscC5BT0wsYmlkKTtyZXR1cm57YmlkZGVyQ29kZTpyLmJpZGRlckNvZGUscmVxdWVzdElkOnIuYmlkSWQsYWQ6dC5hZG0sY3BtOm4sd2lkdGg6dC53LGhlaWdodDp0LmgsY3JlYXRpdmVJZDp0LmNyaWR8fDAscHViYXBpSWQ6ZS5pZCxjdXJyZW5jeTplLmN1cnx8IlVTRCIsZGVhbElkOnQuZGVhbGlkLG5ldFJldmVudWU6ITAsdHRsOnIudHRsfX0saXNPbmVNb2JpbGVCaWRkZXI6SSxpc1NlY3VyZVByb3RvY29sOmZ1bmN0aW9uKCl7cmV0dXJuImh0dHBzOiI9PT1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbH19O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKSh4KX19LFsyMDJdKTsKdXBianNDaHVuayhbMjY0XSx7MjEwOmZ1bmN0aW9uKGUscixhKXtlLmV4cG9ydHM9YSgyMTEpfSwyMTE6ZnVuY3Rpb24oZSxyLGEpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYS5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGx9KTt2YXIgZj1hKDEwKSxfPWEoMCksaz1hKDMpLHY9YSgxKSxnPWEoMiksYz1hKDI1KSx0PWEoMTIpLEk9YS5uKHQpLG49YSgxMSkseD1hLm4obikseT1hKDM0KTtmdW5jdGlvbiBpKGUpe3JldHVybihpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYigpe3JldHVybihiPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBhPWFyZ3VtZW50c1tyXTtmb3IodmFyIHQgaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSx0KSYmKGVbdF09YVt0XSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gQShlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciByPTAsYT1uZXcgQXJyYXkoZS5sZW5ndGgpO3I8ZS5sZW5ndGg7cisrKWFbcl09ZVtyXTtyZXR1cm4gYX19KGUpfHxmdW5jdGlvbihlKXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX12YXIgQz0iYXBwbmV4dXMiLHc9Ii8vaWIuYWRueHMuY29tL3V0L3YzL3ByZWJpZCIsdT1bImlkIiwibWltZXMiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwic3RhcnRkZWxheSIsInNraXBwYWJsZSIsInBsYXliYWNrX21ldGhvZCIsImZyYW1ld29ya3MiXSxTPVsiYWdlIiwiZXh0ZXJuYWxVaWQiLCJzZWdtZW50cyIsImdlbmRlciIsImRudCIsImxhbmd1YWdlIl0sVD1bImdlbyIsImRldmljZV9pZCJdLEU9WyJlbmFibGVkIiwiZG9uZ2xlIiwibWVtYmVyX2lkIiwiZGVidWdfdGltZW91dCJdLHA9e2JvZHk6ImRlc2NyaXB0aW9uIixib2R5MjoiZGVzYzIiLGN0YToiY3RhdGV4dCIsaW1hZ2U6e3NlcnZlck5hbWU6Im1haW5faW1hZ2UiLHJlcXVpcmVkUGFyYW1zOntyZXF1aXJlZDohMH19LGljb246e3NlcnZlck5hbWU6Imljb24iLHJlcXVpcmVkUGFyYW1zOntyZXF1aXJlZDohMH19LHNwb25zb3JlZEJ5OiJzcG9uc29yZWRfYnkiLHByaXZhY3lMaW5rOiJwcml2YWN5X2xpbmsiLHNhbGVQcmljZToic2FsZXByaWNlIixkaXNwbGF5VXJsOiJkaXNwbGF5dXJsIn0scz0iPHNjcmlwdCIsbz0vXC9cL2NkblwuYWRueHNcLmNvbVwvdi8sZD0idHJrLmpzIixsPXtjb2RlOkMsYWxpYXNlczpbImFwcG5leHVzQXN0IiwiYnJlYWx0aW1lIiwiZW14ZGlnaXRhbCIsInBhZ2VzY2llbmNlIiwiZGVmeW1lZGlhIiwiZ291cm1ldGFkcyIsIm1hdG9teSIsImZlYXR1cmVmb3J3YXJkIiwib2Z0bWVkaWEiLCJkaXN0cmljdG0iLCJhZGFzdGEiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltnLmIsZy5kLGcuY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5wYXJhbXMucGxhY2VtZW50SWR8fGUucGFyYW1zLm1lbWJlciYmZS5wYXJhbXMuaW52Q29kZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1lLm1hcChPKSxhPUkoKShlLFApLG49e307ITA9PT1rLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYobj17Y29wcGE6ITB9KSxhJiZPYmplY3Qua2V5cyhhLnBhcmFtcy51c2VyKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHgoKShTLGUpfSkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbltlXT1hLnBhcmFtcy51c2VyW2VdfSk7dmFyIGkscz1JKCkoZSxVKTtzJiZzLnBhcmFtcyYmcy5wYXJhbXMuYXBwJiYoaT17fSxPYmplY3Qua2V5cyhzLnBhcmFtcy5hcHApLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4geCgpKFQsZSl9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBpW2VdPXMucGFyYW1zLmFwcFtlXX0pKTt2YXIgbyxkPUkoKShlLHEpO2QmJmQucGFyYW1zJiZzLnBhcmFtcy5hcHAmJnMucGFyYW1zLmFwcC5pZCYmKG89e2FwcGlkOmQucGFyYW1zLmFwcC5pZH0pO3ZhciBjPXt9LHU9e30scD1fLmdldENvb2tpZSgiYXBuX3ByZWJpZF9kZWJ1ZyIpfHxudWxsO2lmKHApdHJ5e2M9SlNPTi5wYXJzZShwKX1jYXRjaChlKXtfLmxvZ0Vycm9yKCJBcHBOZXh1cyBEZWJ1ZyBBdWN0aW9uIENvb2tpZSBFcnJvcjpcblxuIitlKX1lbHNle3ZhciBsPUkoKShlLHopO2wmJmwuZGVidWcmJihjPWwuZGVidWcpfWMmJmMuZW5hYmxlZCYmT2JqZWN0LmtleXMoYykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB4KCkoRSxlKX0pLmZvckVhY2goZnVuY3Rpb24oZSl7dVtlXT1jW2VdfSk7dmFyIG09SSgpKGUsTiksZj1tP3BhcnNlSW50KG0ucGFyYW1zLm1lbWJlciwxMCk6MCx2PWVbMF0uc2NoYWluLGc9e3RhZ3M6QSh0KSx1c2VyOm4sc2RrOntzb3VyY2U6InBianMiLHZlcnNpb246IjIuNDQuOC1wcmUifSxzY2hhaW46dn07aWYoMDxmJiYoZy5tZW1iZXJfaWQ9ZikscyYmKGcuZGV2aWNlPWkpLGQmJihnLmFwcD1vKSxrLmIuZ2V0Q29uZmlnKCJhZHBvZC5icmFuZENhdGVnb3J5RXhjbHVzaW9uIikmJihnLmJyYW5kX2NhdGVnb3J5X3VuaXF1ZW5lc3M9ITApLHUuZW5hYmxlZCYmKGcuZGVidWc9dSxfLmxvZ0luZm8oIkFwcE5leHVzIERlYnVnIEF1Y3Rpb24gU2V0dGluZ3M6XG5cbiIrSlNPTi5zdHJpbmdpZnkodSxudWxsLDQpKSksciYmci5nZHByQ29uc2VudCYmKGcuZ2Rwcl9jb25zZW50PXtjb25zZW50X3N0cmluZzpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsY29uc2VudF9yZXF1aXJlZDpyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSksciYmci51c3BDb25zZW50JiYoZy51c19wcml2YWN5PXIudXNwQ29uc2VudCksciYmci5yZWZlcmVySW5mbyl7dmFyIHk9e3JkX3JlZjplbmNvZGVVUklDb21wb25lbnQoci5yZWZlcmVySW5mby5yZWZlcmVyKSxyZF90b3A6ci5yZWZlcmVySW5mby5yZWFjaGVkVG9wLHJkX2lmczpyLnJlZmVyZXJJbmZvLm51bUlmcmFtZXMscmRfc3RrOnIucmVmZXJlckluZm8uc3RhY2subWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSl9KS5qb2luKCIsIil9O2cucmVmZXJyZXJfZGV0ZWN0aW9uPXl9SSgpKGUsTSkmJmUuZmlsdGVyKE0pLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIGU9ZnVuY3Rpb24oZSxyKXt2YXIgYT1yLm1lZGlhVHlwZXMudmlkZW8sdD1hLmR1cmF0aW9uUmFuZ2VTZWMsbj1hLnJlcXVpcmVFeGFjdER1cmF0aW9uLGk9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5hZFBvZER1cmF0aW9uU2VjLGE9ZS5kdXJhdGlvblJhbmdlU2VjLHQ9ZS5yZXF1aXJlRXhhY3REdXJhdGlvbixuPV8uZ2V0TWluVmFsdWVGcm9tQXJyYXkoYSksaT1NYXRoLmZsb29yKHIvbik7cmV0dXJuIHQ/TWF0aC5tYXgoaSxhLmxlbmd0aCk6aX0oci5tZWRpYVR5cGVzLnZpZGVvKSxzPV8uZ2V0TWF4VmFsdWVGcm9tQXJyYXkodCksbz1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS51dWlkPT09ci5iaWRJZH0pLGQ9Xy5maWxsLmFwcGx5KF8sQShvKS5jb25jYXQoW2ldKSk7aWYobil7dmFyIGM9TWF0aC5jZWlsKGkvdC5sZW5ndGgpLHU9Xy5jaHVuayhkLGMpO3QuZm9yRWFjaChmdW5jdGlvbihyLGUpe3VbZV0ubWFwKGZ1bmN0aW9uKGUpe0IoZSwibWluZHVyYXRpb24iLHIpLEIoZSwibWF4ZHVyYXRpb24iLHIpfSl9KX1lbHNlIGQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBCKGUsIm1heGR1cmF0aW9uIixzKX0pO3JldHVybiBkfSh0LHIpLGE9Zy50YWdzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS51dWlkIT09ci5iaWRJZH0pO2cudGFncz1bXS5jb25jYXQoQShhKSxBKGUpKX0pO3ZhciBiPV8uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQuY3JpdGVvcnR1cy4iLmNvbmNhdChDLCIudXNlcmlkIikpO2lmKGIpe3ZhciBoPVtdO2gucHVzaCh7cHJvdmlkZXI6ImNyaXRlbyIsdXNlcl9pZDpifSksZy50cHVpZHM9aH1yZXR1cm4gZnVuY3Rpb24oZSxhKXt2YXIgdD1bXTtpZigxNTxlLnRhZ3MubGVuZ3RoKXt2YXIgbj1fLmRlZXBDbG9uZShlKTtfLmNodW5rKGUudGFncywxNSkuZm9yRWFjaChmdW5jdGlvbihlKXtuLnRhZ3M9ZTt2YXIgcj1KU09OLnN0cmluZ2lmeShuKTt0LnB1c2goe21ldGhvZDoiUE9TVCIsdXJsOncsZGF0YTpyLGJpZGRlclJlcXVlc3Q6YX0pfSl9ZWxzZXt2YXIgcj1KU09OLnN0cmluZ2lmeShlKTt0PXttZXRob2Q6IlBPU1QiLHVybDp3LGRhdGE6cixiaWRkZXJSZXF1ZXN0OmF9fXJldHVybiB0fShnLHIpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciBpPXRoaXMscz1yLmJpZGRlclJlcXVlc3Q7ZT1lLmJvZHk7dmFyIG89W107aWYoIWV8fGUuZXJyb3Ipe3ZhciBhPSJpbiByZXNwb25zZSBmb3IgIi5jb25jYXQocy5iaWRkZXJDb2RlLCIgYWRhcHRlciIpO3JldHVybiBlJiZlLmVycm9yJiYoYSs9IjogIi5jb25jYXQoZS5lcnJvcikpLF8ubG9nRXJyb3IoYSksb31pZihlLnRhZ3MmJmUudGFncy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByLGEsdD0ocj1lKSYmci5hZHMmJnIuYWRzLmxlbmd0aCYmSSgpKHIuYWRzLGZ1bmN0aW9uKGUpe3JldHVybiBlLnJ0Yn0pO2lmKHQmJjAhPT10LmNwbSYmeCgpKGkuc3VwcG9ydGVkTWVkaWFUeXBlcyx0LmFkX3R5cGUpKXt2YXIgbj1mdW5jdGlvbihyLGUsYSl7dmFyIHQ9Xy5nZXRCaWRSZXF1ZXN0KHIudXVpZCxbYV0pLG49e3JlcXVlc3RJZDpyLnV1aWQsY3BtOmUuY3BtLGNyZWF0aXZlSWQ6ZS5jcmVhdGl2ZV9pZCxkZWFsSWQ6ZS5kZWFsX2lkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjMwMCxhZFVuaXRDb2RlOnQuYWRVbml0Q29kZSxhcHBuZXh1czp7YnV5ZXJNZW1iZXJJZDplLmJ1eWVyX21lbWJlcl9pZCxkZWFsUHJpb3JpdHk6ZS5kZWFsX3ByaW9yaXR5LGRlYWxDb2RlOmUuZGVhbF9jb2RlfX07ZS5hZHZlcnRpc2VyX2lkJiYobi5tZXRhPWIoe30sbi5tZXRhLHthZHZlcnRpc2VySWQ6ZS5hZHZlcnRpc2VyX2lkfSkpO2lmKGUucnRiLnZpZGVvKXtzd2l0Y2goYihuLHt3aWR0aDplLnJ0Yi52aWRlby5wbGF5ZXJfd2lkdGgsaGVpZ2h0OmUucnRiLnZpZGVvLnBsYXllcl9oZWlnaHQsdmFzdEltcFVybDplLm5vdGlmeV91cmwsdHRsOjM2MDB9KSxfLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iikpe2Nhc2UgZy5hOnZhciBpPU9iamVjdCh2LmdldElhYlN1YkNhdGVnb3J5KSh0LmJpZGRlcixlLmJyYW5kX2NhdGVnb3J5X2lkKTtuLm1ldGE9Yih7fSxuLm1ldGEse2lhYlN1YkNhdElkOml9KTt2YXIgcz1lLnJ0Yi5kZWFsUHJpb3JpdHk7bi52aWRlbz17Y29udGV4dDpnLmEsZHVyYXRpb25TZWNvbmRzOk1hdGguZmxvb3IoZS5ydGIudmlkZW8uZHVyYXRpb25fbXMvMWUzKSxkZWFsVGllcjpzfSxuLnZhc3RVcmw9ZS5ydGIudmlkZW8uYXNzZXRfdXJsO2JyZWFrO2Nhc2UgeS5iOmlmKG4uYWRSZXNwb25zZT1yLG4uYWRSZXNwb25zZS5hZD1uLmFkUmVzcG9uc2UuYWRzWzBdLG4uYWRSZXNwb25zZS5hZC52aWRlbz1uLmFkUmVzcG9uc2UuYWQucnRiLnZpZGVvLG4udmFzdFhtbD1lLnJ0Yi52aWRlby5jb250ZW50LGUucmVuZGVyZXJfdXJsKXt2YXIgbz1JKCkoYS5iaWRzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZElkPT09ci51dWlkfSksZD1fLmRlZXBBY2Nlc3MobywicmVuZGVyZXIub3B0aW9ucyIpO24ucmVuZGVyZXI9ZnVuY3Rpb24oZSxyKXt2YXIgYT0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sdD1mLmEuaW5zdGFsbCh7aWQ6ci5yZW5kZXJlcl9pZCx1cmw6ci5yZW5kZXJlcl91cmwsY29uZmlnOmEsbG9hZGVkOiExLGFkVW5pdENvZGU6ZX0pO3RyeXt0LnNldFJlbmRlcihEKX1jYXRjaChlKXtfLmxvZ1dhcm4oIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHQuc2V0RXZlbnRIYW5kbGVycyh7aW1wcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiBfLmxvZ01lc3NhZ2UoIkFwcE5leHVzIG91dHN0cmVhbSB2aWRlbyBpbXByZXNzaW9uIGV2ZW50Iil9LGxvYWRlZDpmdW5jdGlvbigpe3JldHVybiBfLmxvZ01lc3NhZ2UoIkFwcE5leHVzIG91dHN0cmVhbSB2aWRlbyBsb2FkZWQgZXZlbnQiKX0sZW5kZWQ6ZnVuY3Rpb24oKXtfLmxvZ01lc3NhZ2UoIkFwcE5leHVzIG91dHN0cmVhbSByZW5kZXJlciB2aWRlbyBldmVudCIpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiMiLmNvbmNhdChlKSkuc3R5bGUuZGlzcGxheT0ibm9uZSJ9fSksdH0obi5hZFVuaXRDb2RlLGUsZCl9YnJlYWs7Y2FzZSB5LmE6bi52YXN0VXJsPWUubm90aWZ5X3VybCsiJnJlZGlyPSIrZW5jb2RlVVJJQ29tcG9uZW50KGUucnRiLnZpZGVvLmFzc2V0X3VybCl9fWVsc2UgaWYoZS5ydGJbZy5jXSl7dmFyIGM9ZS5ydGJbZy5jXSx1PWUudmlld2FiaWxpdHkuY29uZmlnLnJlcGxhY2UoInNyYz0iLCJkYXRhLXNyYz0iKSxwPWMuamF2YXNjcmlwdF90cmFja2VycztudWxsPT1wP3A9dTpfLmlzU3RyKHApP3A9W3AsdV06cC5wdXNoKHUpLG5bZy5jXT17dGl0bGU6Yy50aXRsZSxib2R5OmMuZGVzYyxib2R5MjpjLmRlc2MyLGN0YTpjLmN0YXRleHQscmF0aW5nOmMucmF0aW5nLHNwb25zb3JlZEJ5OmMuc3BvbnNvcmVkLHByaXZhY3lMaW5rOmMucHJpdmFjeV9saW5rLGFkZHJlc3M6Yy5hZGRyZXNzLGRvd25sb2FkczpjLmRvd25sb2FkcyxsaWtlczpjLmxpa2VzLHBob25lOmMucGhvbmUscHJpY2U6Yy5wcmljZSxzYWxlUHJpY2U6Yy5zYWxlcHJpY2UsY2xpY2tVcmw6Yy5saW5rLnVybCxkaXNwbGF5VXJsOmMuZGlzcGxheXVybCxjbGlja1RyYWNrZXJzOmMubGluay5jbGlja190cmFja2VycyxpbXByZXNzaW9uVHJhY2tlcnM6Yy5pbXByZXNzaW9uX3RyYWNrZXJzLGphdmFzY3JpcHRUcmFja2VyczpwfSxjLm1haW5faW1nJiYobi5uYXRpdmUuaW1hZ2U9e3VybDpjLm1haW5faW1nLnVybCxoZWlnaHQ6Yy5tYWluX2ltZy5oZWlnaHQsd2lkdGg6Yy5tYWluX2ltZy53aWR0aH0pLGMuaWNvbiYmKG4ubmF0aXZlLmljb249e3VybDpjLmljb24udXJsLGhlaWdodDpjLmljb24uaGVpZ2h0LHdpZHRoOmMuaWNvbi53aWR0aH0pfWVsc2V7YihuLHt3aWR0aDplLnJ0Yi5iYW5uZXIud2lkdGgsaGVpZ2h0OmUucnRiLmJhbm5lci5oZWlnaHQsYWQ6ZS5ydGIuYmFubmVyLmNvbnRlbnR9KTt0cnl7dmFyIGw9ZS5ydGIudHJhY2tlcnNbMF0uaW1wcmVzc2lvbl91cmxzWzBdLG09Xy5jcmVhdGVUcmFja1BpeGVsSHRtbChsKTtuLmFkKz1tfWNhdGNoKGUpe18ubG9nRXJyb3IoIkVycm9yIGFwcGVuZGluZyB0cmFja2luZyBwaXhlbCIsZSl9fXJldHVybiBufShlLHQscyk7bi5tZWRpYVR5cGU9KGE9dC5hZF90eXBlKT09PWcuZD9nLmQ6YT09PWcuYz9nLmM6Zy5iLG8ucHVzaChuKX19KSxlLmRlYnVnJiZlLmRlYnVnLmRlYnVnX2luZm8pe3ZhciB0PSJBcHBOZXh1cyBEZWJ1ZyBBdWN0aW9uIGZvciBQcmViaWRcblxuIitlLmRlYnVnLmRlYnVnX2luZm87dD10LnJlcGxhY2UoLyg8dGQ+fDx0aD4pL2dtLCJcdCIpLnJlcGxhY2UoLyg8XC90ZD58PFwvdGg+KS9nbSwiXG4iKS5yZXBsYWNlKC9ePGJyPi9nbSwiIikucmVwbGFjZSgvKDxicj5cbnw8YnI+KS9nbSwiXG4iKS5yZXBsYWNlKC88aDE+KC4qKTxcL2gxPi9nbSwiXG5cbj09PT09ICQxID09PT09XG5cbiIpLnJlcGxhY2UoLzxoWzItNl0+KC4qKTxcL2hbMi02XT4vZ20sIlxuXG4qKiogJDEgKioqXG5cbiIpLnJlcGxhY2UoLyg8KFtePl0rKT4pL2dpbSwiIiksXy5sb2dNZXNzYWdlKCJodHRwczovL2NvbnNvbGUuYXBwbmV4dXMuY29tL2RvY3MvdW5kZXJzdGFuZGluZy10aGUtZGVidWctYXVjdGlvbiIpLF8ubG9nTWVzc2FnZSh0KX1yZXR1cm4gb30sZ2V0TWFwcGluZ0ZpbGVJbmZvOmZ1bmN0aW9uKCl7cmV0dXJue3VybDoiLy9hY2RuLmFkbnhzLmNvbS9wcmViaWQvYXBwbmV4dXMtbWFwcGluZy9tYXBwaW5ncy5qc29uIixyZWZyZXNoSW5EYXlzOjd9fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSl7aWYoZS5pZnJhbWVFbmFibGVkKXJldHVyblt7dHlwZToiaWZyYW1lIix1cmw6Ii8vYWNkbi5hZG54cy5jb20vaWIvc3RhdGljL3VzZXJzeW5jL3YzL2FzeW5jX3VzZXJzeW5jLmh0bWwifV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihhLGUpe3JldHVybiBhPV8uY29udmVydFR5cGVzKHttZW1iZXI6InN0cmluZyIsaW52Q29kZToic3RyaW5nIixwbGFjZW1lbnRJZDoibnVtYmVyIixrZXl3b3JkczpfLnRyYW5zZm9ybUJpZGRlclBhcmFtS2V5d29yZHN9LGEpLGUmJihhLnVzZV9wbXRfcnVsZT0iYm9vbGVhbiI9PXR5cGVvZiBhLnVzZVBheW1lbnRSdWxlJiZhLnVzZVBheW1lbnRSdWxlLGEudXNlUGF5bWVudFJ1bGUmJmRlbGV0ZSBhLnVzZVBheW1lbnRSdWxlLG0oYS5rZXl3b3JkcykmJmEua2V5d29yZHMuZm9yRWFjaChoKSxPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPV8uY29udmVydENhbWVsVG9VbmRlcnNjb3JlKGUpO3IhPT1lJiYoYVtyXT1hW2VdLGRlbGV0ZSBhW2VdKX0pKSxhfSxvbkJpZFdvbjpmdW5jdGlvbihlKXtlLm5hdGl2ZSYmZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI7aWYoXy5pc1N0cihlKSYmUihlKSlyPWU7ZWxzZSBpZihfLmlzQXJyYXkoZSkpZm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciB0PWVbYV07Uih0KSYmKHI9dCl9cmV0dXJuIHJ9KGUubmF0aXZlLmphdmFzY3JpcHRUcmFja2Vycyk7aWYocilmb3IodmFyIGE9InBianNfYWRpZD0iK2UuYWRJZCsiO3BianNfYXVjPSIrZS5hZFVuaXRDb2RlLHQ9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5pbmRleE9mKCdzcmM9IicpKzUsYT1lLmluZGV4T2YoJyInLHIpO3JldHVybiBlLnN1YnN0cmluZyhyLGEpfShyKSxuPXQucmVwbGFjZSgiZG9tX2lkPSVuYXRpdmVfZG9tX2lkJSIsYSksaT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaWZyYW1lIikscz0hMSxvPTA7bzxpLmxlbmd0aCYmIXM7bysrKXt2YXIgZD1pW29dO3RyeXt2YXIgYz1kLmNvbnRlbnREb2N1bWVudHx8ZC5jb250ZW50V2luZG93LmRvY3VtZW50O2lmKGMpZm9yKHZhciB1PWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLHA9MDtwPHUubGVuZ3RoJiYhcztwKyspe3ZhciBsPXVbcF07bC5nZXRBdHRyaWJ1dGUoImRhdGEtc3JjIik9PXQmJihsLnNldEF0dHJpYnV0ZSgic3JjIixuKSxsLnNldEF0dHJpYnV0ZSgiZGF0YS1zcmMiLCIiKSxsLnJlbW92ZUF0dHJpYnV0ZSYmbC5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtc3JjIikscz0hMCl9fWNhdGNoKGUpe2lmKCEoZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiYmIlNlY3VyaXR5RXJyb3IiPT09ZS5uYW1lKSl0aHJvdyBlfX19KGUpfX07ZnVuY3Rpb24gbShlKXtyZXR1cm4hIShfLmlzQXJyYXkoZSkmJjA8ZS5sZW5ndGgpfWZ1bmN0aW9uIGgoZSl7bShlLnZhbHVlKSYmIiI9PT1lLnZhbHVlWzBdJiZkZWxldGUgZS52YWx1ZX1mdW5jdGlvbiBSKGUpe3ZhciByPWUubWF0Y2gobyksYT1udWxsIT1yJiYxPD1yLmxlbmd0aCx0PWUubWF0Y2goZCksbj1udWxsIT10JiYxPD10Lmxlbmd0aDtyZXR1cm4gZS5zdGFydHNXaXRoKHMpJiZuJiZhfWZ1bmN0aW9uIE8ocil7dmFyIG4saSxhPXt9O2lmKGEuc2l6ZXM9aihyLnNpemVzKSxhLnByaW1hcnlfc2l6ZT1hLnNpemVzWzBdLGEuYWRfdHlwZXM9W10sYS51dWlkPXIuYmlkSWQsci5wYXJhbXMucGxhY2VtZW50SWQ/YS5pZD1wYXJzZUludChyLnBhcmFtcy5wbGFjZW1lbnRJZCwxMCk6YS5jb2RlPXIucGFyYW1zLmludkNvZGUsYS5hbGxvd19zbWFsbGVyX3NpemVzPXIucGFyYW1zLmFsbG93U21hbGxlclNpemVzfHwhMSxhLnVzZV9wbXRfcnVsZT1yLnBhcmFtcy51c2VQYXltZW50UnVsZXx8ITEsYS5wcmViaWQ9ITAsYS5kaXNhYmxlX3BzYT0hMCxyLnBhcmFtcy5yZXNlcnZlJiYoYS5yZXNlcnZlPXIucGFyYW1zLnJlc2VydmUpLHIucGFyYW1zLnBvc2l0aW9uJiYoYS5wb3NpdGlvbj17YWJvdmU6MSxiZWxvdzoyfVtyLnBhcmFtcy5wb3NpdGlvbl18fDApLHIucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlJiYoYS50cmFmZmljX3NvdXJjZV9jb2RlPXIucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlKSxyLnBhcmFtcy5wcml2YXRlU2l6ZXMmJihhLnByaXZhdGVfc2l6ZXM9aihyLnBhcmFtcy5wcml2YXRlU2l6ZXMpKSxyLnBhcmFtcy5zdXBwbHlUeXBlJiYoYS5zdXBwbHlfdHlwZT1yLnBhcmFtcy5zdXBwbHlUeXBlKSxyLnBhcmFtcy5wdWJDbGljayYmKGEucHViY2xpY2s9ci5wYXJhbXMucHViQ2xpY2spLHIucGFyYW1zLmV4dEludkNvZGUmJihhLmV4dF9pbnZfY29kZT1yLnBhcmFtcy5leHRJbnZDb2RlKSxyLnBhcmFtcy5leHRlcm5hbEltcElkJiYoYS5leHRlcm5hbF9pbXBfaWQ9ci5wYXJhbXMuZXh0ZXJuYWxJbXBJZCksIV8uaXNFbXB0eShyLnBhcmFtcy5rZXl3b3Jkcykpe3ZhciBlPV8udHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3JkcyhyLnBhcmFtcy5rZXl3b3Jkcyk7MDxlLmxlbmd0aCYmZS5mb3JFYWNoKGgpLGEua2V5d29yZHM9ZX1pZigoci5tZWRpYVR5cGU9PT1nLmN8fF8uZGVlcEFjY2VzcyhyLCJtZWRpYVR5cGVzLiIuY29uY2F0KGcuYykpKSYmKGEuYWRfdHlwZXMucHVzaChnLmMpLDA9PT1hLnNpemVzLmxlbmd0aCYmKGEuc2l6ZXM9aihbMSwxXSkpLHIubmF0aXZlUGFyYW1zKSl7dmFyIHQ9KG49ci5uYXRpdmVQYXJhbXMsaT17fSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXBbZV0mJnBbZV0uc2VydmVyTmFtZXx8cFtlXXx8ZSxhPXBbZV0mJnBbZV0ucmVxdWlyZWRQYXJhbXM7aWYoaVtyXT1iKHt9LGEsbltlXSksKHI9PT1wLmltYWdlLnNlcnZlck5hbWV8fHI9PT1wLmljb24uc2VydmVyTmFtZSkmJmlbcl0uc2l6ZXMpe3ZhciB0PWlbcl0uc2l6ZXM7KF8uaXNBcnJheU9mTnVtcyh0KXx8Xy5pc0FycmF5KHQpJiYwPHQubGVuZ3RoJiZ0LmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBfLmlzQXJyYXlPZk51bXMoZSl9KSkmJihpW3JdLnNpemVzPWooaVtyXS5zaXplcykpfXI9PT1wLnByaXZhY3lMaW5rJiYoaS5wcml2YWN5X3N1cHBvcnRlZD0hMCl9KSxpKTthW2cuY109e2xheW91dHM6W3RdfX12YXIgcz1fLmRlZXBBY2Nlc3MociwibWVkaWFUeXBlcy4iLmNvbmNhdChnLmQpKSxvPV8uZGVlcEFjY2VzcyhyLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyLm1lZGlhVHlwZSE9PWcuZCYmIXN8fGEuYWRfdHlwZXMucHVzaChnLmQpLChyLm1lZGlhVHlwZT09PWcuZHx8cyYmIm91dHN0cmVhbSIhPT1vKSYmKGEucmVxdWlyZV9hc3NldF91cmw9ITApLHIucGFyYW1zLnZpZGVvJiYoYS52aWRlbz17fSxPYmplY3Qua2V5cyhyLnBhcmFtcy52aWRlbykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB4KCkodSxlKX0pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGEudmlkZW9bZV09ci5wYXJhbXMudmlkZW9bZV19KSksci5yZW5kZXJlciYmKGEudmlkZW89Yih7fSxhLnZpZGVvLHtjdXN0b21fcmVuZGVyZXJfcHJlc2VudDohMH0pKTt2YXIgZD1JKCkoYy5hLmdldEFkVW5pdHMoKSxmdW5jdGlvbihlKXtyZXR1cm4gci50cmFuc2FjdGlvbklkPT09ZS50cmFuc2FjdGlvbklkfSk7cmV0dXJuIGQmJmQubWVkaWFUeXBlcyYmZC5tZWRpYVR5cGVzLmJhbm5lciYmYS5hZF90eXBlcy5wdXNoKGcuYiksMD09PWEuYWRfdHlwZXMubGVuZ3RoJiZkZWxldGUgYS5hZF90eXBlcyxhfWZ1bmN0aW9uIGooZSl7dmFyIHI9W10sYT17fTtpZihfLmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aCYmIV8uaXNBcnJheShlWzBdKSlhLndpZHRoPXBhcnNlSW50KGVbMF0sMTApLGEuaGVpZ2h0PXBhcnNlSW50KGVbMV0sMTApLHIucHVzaChhKTtlbHNlIGlmKCJvYmplY3QiPT09aShlKSlmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XTsoYT17fSkud2lkdGg9cGFyc2VJbnQoblswXSwxMCksYS5oZWlnaHQ9cGFyc2VJbnQoblsxXSwxMCksci5wdXNoKGEpfXJldHVybiByfWZ1bmN0aW9uIFAoZSl7cmV0dXJuISFlLnBhcmFtcy51c2VyfWZ1bmN0aW9uIE4oZSl7cmV0dXJuISFwYXJzZUludChlLnBhcmFtcy5tZW1iZXIsMTApfWZ1bmN0aW9uIFUoZSl7aWYoZS5wYXJhbXMpcmV0dXJuISFlLnBhcmFtcy5hcHB9ZnVuY3Rpb24gcShlKXtyZXR1cm4gZS5wYXJhbXMmJmUucGFyYW1zLmFwcD8hIWUucGFyYW1zLmFwcC5pZDohIWUucGFyYW1zLmFwcH1mdW5jdGlvbiB6KGUpe3JldHVybiEhZS5kZWJ1Z31mdW5jdGlvbiBNKGUpe3JldHVybiBlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyYmZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQ9PT1nLmF9ZnVuY3Rpb24gQihlLHIsYSl7Xy5pc0VtcHR5KGUudmlkZW8pJiYoZS52aWRlbz17fSksZS52aWRlb1tyXT1hfWZ1bmN0aW9uIEQoZSl7ZS5yZW5kZXJlci5wdXNoKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3RhZ0lkOmUuYWRSZXNwb25zZS50YWdfaWQsc2l6ZXM6W2UuZ2V0U2l6ZSgpLnNwbGl0KCJ4IildLHRhcmdldElkOmUuYWRVbml0Q29kZSx1dWlkOmUuYWRSZXNwb25zZS51dWlkLGFkUmVzcG9uc2U6ZS5hZFJlc3BvbnNlLHJlbmRlcmVyT3B0aW9uczplLnJlbmRlcmVyLmdldENvbmZpZygpfSxmdW5jdGlvbihlLHIsYSl7ZS5yZW5kZXJlci5oYW5kbGVWaWRlb0V2ZW50KHtpZDpyLGV2ZW50TmFtZTphfSl9LmJpbmQobnVsbCxlKSl9KX1PYmplY3Qodi5yZWdpc3RlckJpZGRlcikobCl9fSxbMjEwXSk7CnVwYmpzQ2h1bmsoWzI0NF0sezI1MDpmdW5jdGlvbihlLGkscyl7ZS5leHBvcnRzPXMoMjUxKX0sMjUxOmZ1bmN0aW9uKGUsaSxzKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHMuZChpLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBhfSk7dmFyIHQ9cygwKSxyPXMoMSksbj1zKDMpLGM9WzIsMyw1LDZdLHA9WyJ2aWRlby9tcDQiLCJ2aWRlby94LWZsdiJdLG89WzEsMiwzLDRdO2Z1bmN0aW9uIGQoZSxpKXtpZighdC5pc0FycmF5KGUpfHx2b2lkIDA9PT1lWzBdKXJldHVybiExO2lmKCJ2aWRlbyI9PT1pJiYoIXQuaXNBcnJheShlWzBdKXx8MiE9PWVbMF0ubGVuZ3RoKSlyZXR1cm4hMTt2YXIgcz0hMDtyZXR1cm4iYmFubmVyIj09PWk/KHQuX2VhY2goZSxmdW5jdGlvbihlKXt0LmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aHx8KHM9ITEpfSkscyk6Im9sZCIhPT1pfHwodC5pc0FycmF5KGVbMF0pfHwyPT09ZS5sZW5ndGg/dC5pc0FycmF5KGVbMF0pJiZ0Ll9lYWNoKGUsZnVuY3Rpb24oZSl7dC5pc0FycmF5KGUpJiYyPT09ZS5sZW5ndGh8fChzPSExKX0pOnM9ITEscyl9dmFyIGE9e2NvZGU6ImNjeCIsc3VwcG9ydGVkTWVkaWFUeXBlczpbImJhbm5lciIsInZpZGVvIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIXQuZGVlcEFjY2VzcyhlLCJwYXJhbXMucGxhY2VtZW50SWQiKSlyZXR1cm4gdC5sb2dXYXJuKCJwbGFjZW1lbnRJZCBwYXJhbSBpcyByZXFldWlyZWQuIiksITE7aWYodC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikpe3ZhciBpPWQoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcywiYmFubmVyIik7cmV0dXJuIGl8fHQubG9nV2FybigiQmlkIHNpemVzIGFyZSBpbnZhbGlkLiIpLGl9aWYodC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKXt2YXIgcz1kKGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplLCJ2aWRlbyIpO3JldHVybiBzfHx0LmxvZ1dhcm4oIkJpZCBzaXplcyBhcmUgaW52YWxpZC4iKSxzfWlmKHQuZGVlcEFjY2VzcyhlLCJzaXplcyIpKXt2YXIgcj1kKGUuc2l6ZXMsIm9sZCIpO3JldHVybiByfHx0LmxvZ1dhcm4oIkJpZCBzaXplcyBhcmUgaW52YWxpZC4iKSxyfXJldHVybiB0LmxvZ1dhcm4oIkJpZCBzaXplcyBhcmUgcmVxdWlyZWQuIiksITF9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxpKXtpZigwPGUubGVuZ3RoKXt2YXIgcz17aW1wOltdfTtyZXR1cm4gcy5zaXRlPShkPXt9LDA8KGE9bi5iLmdldENvbmZpZygicGFnZVVybCIpfHx0LmdldFRvcFdpbmRvd1VybCgpKS5sZW5ndGgmJihhPWEuc3BsaXQoIj8iKVswXSksZC5wYWdlPWEsZCkscy5kZXZpY2U9KChyPXt9KS53PXNjcmVlbi53aWR0aCxyLnk9c2NyZWVuLmhlaWdodCxyLnVhPW5hdmlnYXRvci51c2VyQWdlbnQscikscy5pZD1pLmJpZHNbMF0uYXVjdGlvbklkLHMuZXh0PXtjZTp0LmNvb2tpZXNBcmVFbmFibGVkKCk/MTowfSx0Ll9lYWNoKGUsZnVuY3Rpb24oZSl7cy5pbXAucHVzaChmdW5jdGlvbihlKXt2YXIgaT17fTtpLmlkPWUuYmlkSWQsaS5zZWN1cmU9MTt2YXIgcz10LmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKXx8dC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpfHx0LmRlZXBBY2Nlc3MoZSwic2l6ZXMiKTtyZXR1cm4gdC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIil8fCJiYW5uZXIiPT09dC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZSIpfHwhdC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSYmIXQuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGUiKT8oaS5iYW5uZXI9e2Zvcm1hdDpbXX0sdC5pc0FycmF5KHNbMF0pP3QuX2VhY2gocyxmdW5jdGlvbihlKXtpLmJhbm5lci5mb3JtYXQucHVzaCh7dzplWzBdLGg6ZVsxXX0pfSk6aS5iYW5uZXIuZm9ybWF0LnB1c2goe3c6c1swXSxoOnNbMV19KSk6IXQuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIikmJiJ2aWRlbyIhPT10LmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlIil8fChpLnZpZGVvPXt9LHZvaWQgMCE9PXMmJih0LmlzQXJyYXkoc1swXSk/KGkudmlkZW8udz1zWzBdWzBdLGkudmlkZW8uaD1zWzBdWzFdKTooaS52aWRlby53PXNbMF0saS52aWRlby5oPXNbMV0pKSxpLnZpZGVvLnByb3RvY29scz10LmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLnByb3RvY29scyIpfHxjLGkudmlkZW8ubWltZXM9dC5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlby5taW1lcyIpfHxwLGkudmlkZW8ucGxheWJhY2ttZXRob2Q9dC5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlby5wbGF5YmFja21ldGhvZCIpfHxvLGkudmlkZW8uc2tpcD10LmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLnNraXAiKXx8MCwxPT09aS52aWRlby5za2lwJiZ0LmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLnNraXBhZnRlciIpJiYoaS52aWRlby5za2lwYWZ0ZXI9dC5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlby5za2lwYWZ0ZXIiKSkpLGkuZXh0PXtwaWQ6ZS5wYXJhbXMucGxhY2VtZW50SWR9LGl9KGUpKX0pLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9kZWxpdmVyeS5jbGlja29ub21ldHJpY3MucGwvb3J0Yi9wcmViaWQvYmlkIixkYXRhOkpTT04uc3RyaW5naWZ5KHMpfX12YXIgcixkLGF9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGEpe3ZhciBuPVtdO3JldHVybiB0LmlzRW1wdHkoYS5ib2R5KXx8dC5fZWFjaChhLmJvZHkuc2VhdGJpZCxmdW5jdGlvbihlKXt0Ll9lYWNoKGUuYmlkLGZ1bmN0aW9uKGUpe3ZhciBpLHMscixkO24ucHVzaCgoaT1lLHM9YS5ib2R5LmN1cixyPWEuYm9keS5leHQudHRsLGQ9e3JlcXVlc3RJZDppLmltcGlkLGNwbTppLnByaWNlLHdpZHRoOmkudyxoZWlnaHQ6aS5oLGNyZWF0aXZlSWQ6aS5jcmlkLG5ldFJldmVudWU6ITEsdHRsOnIsY3VycmVuY3k6c30sInZpZGVvIj09PWkuZXh0LnR5cGU/ZC52YXN0WG1sPWkuYWRtOmQuYWQ9aS5hZG0sdC5kZWVwQWNjZXNzKGksImRlYWxpZCIpJiYoZC5kZWFsSWQ9aS5kZWFsaWQpLGQpKX0pfSksbn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGksZSl7dmFyIHM9W107cmV0dXJuIHQuZGVlcEFjY2VzcyhlWzBdLCJib2R5LmV4dC51c2Vyc3luYyIpJiYhdC5pc0VtcHR5KGVbMF0uYm9keS5leHQudXNlcnN5bmMpJiZ0Ll9lYWNoKGVbMF0uYm9keS5leHQudXNlcnN5bmMsZnVuY3Rpb24oZSl7KGkuaWZyYW1lRW5hYmxlZCYmImlmcmFtZSI9PT1lLnR5cGV8fGkucGl4ZWxFbmFibGVkJiYiaW1hZ2UiPT09ZS50eXBlKSYmcy5wdXNoKHt0eXBlOmUudHlwZSx1cmw6ZS51cmx9KX0pLHN9fTtPYmplY3Qoci5yZWdpc3RlckJpZGRlcikoYSl9fSxbMjUwXSk7CnVwYmpzQ2h1bmsoWzIzNl0sezI2NjpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMjY3KX0sMjY3OmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJ1c2VyQ01QIixmdW5jdGlvbigpe3JldHVybiBkfSksZS5kKHQsImNvbnNlbnRUaW1lb3V0IixmdW5jdGlvbigpe3JldHVybiBmfSksZS5kKHQsImFsbG93QXVjdGlvbiIsZnVuY3Rpb24oKXtyZXR1cm4gZ30pLGUuZCh0LCJzdGF0aWNDb25zZW50RGF0YSIsZnVuY3Rpb24oKXtyZXR1cm4gcH0pLHQucmVxdWVzdEJpZHNIb29rPUQsdC5yZXNldENvbnNlbnREYXRhPWZ1bmN0aW9uKCl7bT12b2lkIDAsZD12b2lkIDAsYS5nZHByRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobnVsbCl9LHQuc2V0Q29uc2VudENvbmZpZz1NO3ZhciBsPWUoMCksbz1lKDMpLGE9ZSg3KSxzPWUoMTEpLGk9ZS5uKHMpLGM9ZSgyNjgpLHU9ZS5uKGMpO2Z1bmN0aW9uIHIobil7cmV0dXJuKHI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBufTpmdW5jdGlvbihuKXtyZXR1cm4gbiYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmbi5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmbiE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIG59KShuKX12YXIgZCxmLGcscCxtLEM9ImlhYiIsYj0xZTQsdj0hMCx3PSExLHk9e2lhYjpmdW5jdGlvbihuLHQsaSl7dmFyIGUsbz1mdW5jdGlvbigpe3ZhciB0PXt9O2Z1bmN0aW9uIGUoKXt0LmdldENvbnNlbnREYXRhJiZ0LmdldFZlbmRvckNvbnNlbnRzJiZuKHQsaSl9cmV0dXJue2NvbnNlbnREYXRhQ2FsbGJhY2s6ZnVuY3Rpb24obil7dC5nZXRDb25zZW50RGF0YT1uLGUoKX0sdmVuZG9yQ29uc2VudHNDYWxsYmFjazpmdW5jdGlvbihuKXt0LmdldFZlbmRvckNvbnNlbnRzPW4sZSgpfX19KCksYz17fTt0cnl7ZT13aW5kb3cuX19jbXB8fGwuZ2V0V2luZG93VG9wKCkuX19jbXB9Y2F0Y2gobil7fWlmKGwuaXNGbihlKSllKCJnZXRDb25zZW50RGF0YSIsbnVsbCxvLmNvbnNlbnREYXRhQ2FsbGJhY2spLGUoImdldFZlbmRvckNvbnNlbnRzIixudWxsLG8udmVuZG9yQ29uc2VudHNDYWxsYmFjayk7ZWxzZSBpZih3aW5kb3cuJHNmJiZ3aW5kb3cuJHNmLmV4dCYmImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy4kc2YuZXh0LmNtcClyKCJnZXRDb25zZW50RGF0YSIsby5jb25zZW50RGF0YUNhbGxiYWNrKSxyKCJnZXRWZW5kb3JDb25zZW50cyIsby52ZW5kb3JDb25zZW50c0NhbGxiYWNrKTtlbHNle2Zvcih2YXIgYSxzPXdpbmRvdzshYTspe3RyeXtzLmZyYW1lcy5fX2NtcExvY2F0b3ImJihhPXMpfWNhdGNoKG4pe31pZihzPT09d2luZG93LnRvcClicmVhaztzPXMucGFyZW50fWlmKCFhKXJldHVybiB0KCJDTVAgbm90IGZvdW5kLiIsaSk7ZCgiZ2V0Q29uc2VudERhdGEiLGEsby5jb25zZW50RGF0YUNhbGxiYWNrKSxkKCJnZXRWZW5kb3JDb25zZW50cyIsYSxvLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spfWZ1bmN0aW9uIHIobyxhKXt2YXIgbj1pLmFkVW5pdHMsdD0xLGU9MTtpZihBcnJheS5pc0FycmF5KG4pJiYwPG4ubGVuZ3RoKXt2YXIgcz1sLmdldEFkVW5pdFNpemVzKG5bMF0pO3Q9c1swXVswXSxlPXNbMF1bMV19d2luZG93LiRzZi5leHQucmVnaXN0ZXIodCxlLGZ1bmN0aW9uKG4sdCl7aWYoImNtcFJldHVybiI9PT1uKXt2YXIgZT0iZ2V0Q29uc2VudERhdGEiPT09bz90LnZlbmRvckNvbnNlbnREYXRhOnQudmVuZG9yQ29uc2VudHM7YShlKX19KSx3aW5kb3cuJHNmLmV4dC5jbXAobyl9ZnVuY3Rpb24gZChuLHMsdCl7ZnVuY3Rpb24gZShuKXt2YXIgdD0ic3RyaW5nIj09dHlwZW9mIG4uZGF0YSYmdSgpKG4uZGF0YSwiY21wUmV0dXJuIik/SlNPTi5wYXJzZShuLmRhdGEpOm4uZGF0YTtpZih0Ll9fY21wUmV0dXJuJiZ0Ll9fY21wUmV0dXJuLmNhbGxJZCl7dmFyIGU9dC5fX2NtcFJldHVybjt2b2lkIDAhPT1jW2UuY2FsbElkXSYmKGNbZS5jYWxsSWRdKGUucmV0dXJuVmFsdWUsZS5zdWNjZXNzKSxkZWxldGUgY1tlLmNhbGxJZF0pfX13aW5kb3cuX19jbXA9ZnVuY3Rpb24obix0LGUpe3ZhciBvPU1hdGgucmFuZG9tKCkrIiIsYT17X19jbXBDYWxsOntjb21tYW5kOm4scGFyYW1ldGVyOnQsY2FsbElkOm99fTtjW29dPWUscy5wb3N0TWVzc2FnZShhLCIqIil9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlLCExKSx3aW5kb3cuX19jbXAobixudWxsLGZ1bmN0aW9uKG4pe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlLCExKSx0KG4pfSl9fSxzdGF0aWM6ZnVuY3Rpb24obix0LGUpe24ocCxlKX19O2Z1bmN0aW9uIEQobix0KXt2YXIgZT17Y29udGV4dDp0aGlzLGFyZ3M6W3RdLG5leHRGbjpuLGFkVW5pdHM6dC5hZFVuaXRzfHx1cGJqcy5hZFVuaXRzLGJpZHNCYWNrSGFuZGxlcjp0LmJpZHNCYWNrSGFuZGxlcixoYXZlRXhpdGVkOiExLHRpbWVyOm51bGx9O3JldHVybiBtP3gobnVsbCxlKTppKCkoT2JqZWN0LmtleXMoeSksZCk/KHlbZF0uY2FsbCh0aGlzLGssaCxlKSx2b2lkKGUuaGF2ZUV4aXRlZHx8KDA9PT1mP2sodm9pZCAwLGUpOmUudGltZXI9c2V0VGltZW91dChmdW5jdGlvbihuKXtoKCJDTVAgd29ya2Zsb3cgZXhjZWVkZWQgdGltZW91dCB0aHJlc2hvbGQuIixuKX0uYmluZChudWxsLGUpLGYpKSkpOihsLmxvZ1dhcm4oIkNNUCBmcmFtZXdvcmsgKCIuY29uY2F0KGQsIikgaXMgbm90IGEgc3VwcG9ydGVkIGZyYW1ld29yay4gIEFib3J0aW5nIGNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBhbmQgcmVzdW1pbmcgYXVjdGlvbi4iKSksZS5uZXh0Rm4uYXBwbHkoZS5jb250ZXh0LGUuYXJncykpfWZ1bmN0aW9uIGsobix0KXt2YXIgZT1uJiZuLmdldENvbnNlbnREYXRhJiZuLmdldENvbnNlbnREYXRhLmdkcHJBcHBsaWVzOyJib29sZWFuIj09dHlwZW9mIGUmJighMCE9PWV8fGwuaXNTdHIobi5nZXRDb25zZW50RGF0YS5jb25zZW50RGF0YSkmJmwuaXNQbGFpbk9iamVjdChuLmdldFZlbmRvckNvbnNlbnRzKSYmMTxPYmplY3Qua2V5cyhuLmdldFZlbmRvckNvbnNlbnRzKS5sZW5ndGgpPyhjbGVhclRpbWVvdXQodC50aW1lciksXyhuKSx4KG51bGwsdCkpOmgoIkNNUCByZXR1cm5lZCB1bmV4cGVjdGVkIHZhbHVlIGR1cmluZyBsb29rdXAgcHJvY2Vzcy4iLHQsbil9ZnVuY3Rpb24gaChuLHQsZSl7Y2xlYXJUaW1lb3V0KHQudGltZXIpLGcmJl8odm9pZCAwKSx4KG4sdCxlKX1mdW5jdGlvbiBfKG4pe209e2NvbnNlbnRTdHJpbmc6bj9uLmdldENvbnNlbnREYXRhLmNvbnNlbnREYXRhOnZvaWQgMCx2ZW5kb3JEYXRhOm4/bi5nZXRWZW5kb3JDb25zZW50czp2b2lkIDAsZ2RwckFwcGxpZXM6bj9uLmdldENvbnNlbnREYXRhLmdkcHJBcHBsaWVzOnZvaWQgMH0sYS5nZHByRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobSl9ZnVuY3Rpb24geChuLHQsZSl7aWYoITE9PT10LmhhdmVFeGl0ZWQpe3QuaGF2ZUV4aXRlZD0hMDt2YXIgbz10LmNvbnRleHQsYT10LmFyZ3Mscz10Lm5leHRGbjtuP2c/KGwubG9nV2FybihuKyIgUmVzdW1pbmcgYXVjdGlvbiB3aXRob3V0IGNvbnNlbnQgZGF0YSBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSkscy5hcHBseShvLGEpKToobC5sb2dFcnJvcihuKyIgQ2FuY2VsaW5nIGF1Y3Rpb24gYXMgcGVyIGNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZy4iLGUpLCJmdW5jdGlvbiI9PXR5cGVvZiB0LmJpZHNCYWNrSGFuZGxlcj90LmJpZHNCYWNrSGFuZGxlcigpOmwubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiKSk6cy5hcHBseShvLGEpfX1mdW5jdGlvbiBNKG4peyhuPW4uZ2Rwcnx8bi51c3A/bi5nZHByOm4pJiYib2JqZWN0Ij09PXIobik/KGwuaXNTdHIobi5jbXBBcGkpP2Q9bi5jbXBBcGk6KGQ9QyxsLmxvZ0luZm8oImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgY21wLiAgVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoQywiKS4iKSkpLGwuaXNOdW1iZXIobi50aW1lb3V0KT9mPW4udGltZW91dDooZj1iLGwubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSB0aW1lb3V0LiAgVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoYiwiKS4iKSkpLCJib29sZWFuIj09dHlwZW9mIG4uYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQ/Zz1uLmFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50OihnPXYsbC5sb2dJbmZvKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IGFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50LiAgVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQodiwiKS4iKSkpLGwubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGhhcyBiZWVuIGFjdGl2YXRlZC4uLiIpLCJzdGF0aWMiPT09ZCYmKGwuaXNQbGFpbk9iamVjdChuLmNvbnNlbnREYXRhKT8ocD1uLmNvbnNlbnREYXRhLGY9MCk6bC5sb2dFcnJvcigiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIHdpdGggY21wQXBpOiAnc3RhdGljJyBkaWQgbm90IHNwZWNpZnkgY29uc2VudERhdGEuIE5vIGNvbnNlbnRzIHdpbGwgYmUgYXZhaWxhYmxlIHRvIGFkYXB0ZXJzLiIpKSx3fHx1cGJqcy5yZXF1ZXN0Qmlkcy5iZWZvcmUoRCw1MCksdz0hMCk6bC5sb2dXYXJuKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgbm90IGRlZmluZWQsIGV4aXRpbmcgY29uc2VudCBtYW5hZ2VyIil9by5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQiLGZ1bmN0aW9uKG4pe3JldHVybiBNKG4uY29uc2VudE1hbmFnZW1lbnQpfSl9fSxbMjY2XSk7CnVwYmpzQ2h1bmsoWzIzNV0sezI3MzpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMjc0KX0sMjc0OmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJjb25zZW50QVBJIixmdW5jdGlvbigpe3JldHVybiBjfSksZS5kKHQsImNvbnNlbnRUaW1lb3V0IixmdW5jdGlvbigpe3JldHVybiByfSksZS5kKHQsInN0YXRpY0NvbnNlbnREYXRhIixmdW5jdGlvbigpe3JldHVybiB1fSksdC5yZXF1ZXN0Qmlkc0hvb2s9bSx0LnJlc2V0Q29uc2VudERhdGE9ZnVuY3Rpb24oKXtsPXZvaWQgMCxjPXZvaWQgMCxvLnVzcERhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKG51bGwpfSx0LnNldENvbnNlbnRDb25maWc9UDt2YXIgcz1lKDApLGE9ZSgzKSxvPWUoNyk7ZnVuY3Rpb24gaShuKXtyZXR1cm4oaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG59OmZ1bmN0aW9uKG4pe3JldHVybiBuJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZuLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZuIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2Ygbn0pKG4pfXZhciBjLHIsdSxsLGQ9ImlhYiIscD01MCxmPSExLGc9e2lhYjpmdW5jdGlvbihhLG8saSl7dmFyIHQ9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm57Y29uc2VudERhdGFDYWxsYmFjazpmdW5jdGlvbihuLHQpe3QmJm4udXNwU3RyaW5nJiYoZS51c1ByaXZhY3k9bi51c3BTdHJpbmcpLGUudXNQcml2YWN5P2EoZSxpKTpvKCJVbmFibGUgdG8gZ2V0IFVTUCBjb25zZW50IHN0cmluZy4iLGkpfX19KCkscz17fTt0cnl7d2luZG93Ll9fdXNwYXBpKCJnZXRVU1BEYXRhIiwxLHQuY29uc2VudERhdGFDYWxsYmFjayl9Y2F0Y2gobil7Zm9yKHZhciBlLGM9d2luZG93OyFlOyl7dHJ5e2MuZnJhbWVzLl9fdXNwYXBpTG9jYXRvciYmKGU9Yyl9Y2F0Y2gobil7fWlmKGM9PT13aW5kb3cudG9wKWJyZWFrO2M9Yy5wYXJlbnR9aWYoIWUpcmV0dXJuIG8oIlVTUCBDTVAgbm90IGZvdW5kLiIsaSk7IWZ1bmN0aW9uKG4saSxlKXtmdW5jdGlvbiBhKG4pe3ZhciB0PW4mJm4uZGF0YSYmbi5kYXRhLl9fdXNwYXBpUmV0dXJuO3QmJnQuY2FsbElkJiZ2b2lkIDAhPT1zW3QuY2FsbElkXSYmKHNbdC5jYWxsSWRdKHQucmV0dXJuVmFsdWUsdC5zdWNjZXNzKSxkZWxldGUgc1t0LmNhbGxJZF0pfXdpbmRvdy5fX3VzcGFwaT1mdW5jdGlvbihuLHQsZSl7dmFyIGE9TWF0aC5yYW5kb20oKSsiIixvPXtfX3VzcGFwaUNhbGw6e2NvbW1hbmQ6bix2ZXJzaW9uOnQsY2FsbElkOmF9fTtzW2FdPWUsaS5wb3N0TWVzc2FnZShvLCIqIil9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixhLCExKSx3aW5kb3cuX191c3BhcGkobiwxLGZ1bmN0aW9uKG4sdCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGEsITEpLGUobix0KX0pfSgiZ2V0VVNQRGF0YSIsZSx0LmNvbnNlbnREYXRhQ2FsbGJhY2spfX0sc3RhdGljOmZ1bmN0aW9uKG4sdCxlKXtuKHUsZSl9fTtmdW5jdGlvbiBtKG4sdCl7dmFyIGU9e2NvbnRleHQ6dGhpcyxhcmdzOlt0XSxuZXh0Rm46bixhZFVuaXRzOnQuYWRVbml0c3x8dXBianMuYWRVbml0cyxiaWRzQmFja0hhbmRsZXI6dC5iaWRzQmFja0hhbmRsZXIsaGF2ZUV4aXRlZDohMSx0aW1lcjpudWxsfTtyZXR1cm4gbD95KG51bGwsZSk6Z1tjXT8oZ1tjXS5jYWxsKHRoaXMsdixiLGUpLHZvaWQoZS5oYXZlRXhpdGVkfHwoMD09PXI/dih2b2lkIDAsZSk6ZS50aW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKG4pe2IoIlVTUEFQSSB3b3JrZmxvdyBleGNlZWRlZCB0aW1lb3V0IHRocmVzaG9sZC4iLG4pfS5iaW5kKG51bGwsZSkscikpKSk6KHMubG9nV2FybigiVVNQIGZyYW1ld29yayAoIi5jb25jYXQoYywiKSBpcyBub3QgYSBzdXBwb3J0ZWQgZnJhbWV3b3JrLiBBYm9ydGluZyBjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgYW5kIHJlc3VtaW5nIGF1Y3Rpb24uIikpLGUubmV4dEZuLmFwcGx5KGUuY29udGV4dCxlLmFyZ3MpKX1mdW5jdGlvbiB2KG4sdCl7dmFyIGU7IW58fCFuLnVzUHJpdmFjeT9iKCJVUFNBUEkgcmV0dXJuZWQgdW5leHBlY3RlZCB2YWx1ZSBkdXJpbmcgbG9va3VwIHByb2Nlc3MuIix0LG4pOihjbGVhclRpbWVvdXQodC50aW1lciksKGU9bikmJmUudXNQcml2YWN5JiYobD1lLnVzUHJpdmFjeSxvLnVzcERhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKGwpKSx5KG51bGwsdCkpfWZ1bmN0aW9uIGIobix0LGUpe2NsZWFyVGltZW91dCh0LnRpbWVyKSx5KG4sdCxlKX1mdW5jdGlvbiB5KG4sdCxlKXtpZighMT09PXQuaGF2ZUV4aXRlZCl7dC5oYXZlRXhpdGVkPSEwO3ZhciBhPXQuY29udGV4dCxvPXQuYXJncyxpPXQubmV4dEZuO24mJnMubG9nV2FybihuKyIgUmVzdW1pbmcgYXVjdGlvbiB3aXRob3V0IGNvbnNlbnQgZGF0YSBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSksaS5hcHBseShhLG8pfX1mdW5jdGlvbiBQKG4peyhuPW4udXNwKSYmIm9iamVjdCI9PT1pKG4pPyhzLmlzU3RyKG4uY21wQXBpKT9jPW4uY21wQXBpOihjPWQscy5sb2dJbmZvKCJjb25zZW50TWFuYWdlbWVudC51c3AgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSBjbXBBcGkuIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KGQsIikuIikpKSxzLmlzTnVtYmVyKG4udGltZW91dCk/cj1uLnRpbWVvdXQ6KHI9cCxzLmxvZ0luZm8oImNvbnNlbnRNYW5hZ2VtZW50LnVzcCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IHRpbWVvdXQuIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KHAsIikuIikpKSxzLmxvZ0luZm8oIlVTUEFQSSBjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgaGFzIGJlZW4gYWN0aXZhdGVkLi4uIiksInN0YXRpYyI9PT1jJiYocy5pc1BsYWluT2JqZWN0KG4uY29uc2VudERhdGEpJiZzLmlzUGxhaW5PYmplY3Qobi5jb25zZW50RGF0YS5nZXRVU1BEYXRhKT8obi5jb25zZW50RGF0YS5nZXRVU1BEYXRhLnVzcFN0cmluZyYmKHU9e3VzUHJpdmFjeTpuLmNvbnNlbnREYXRhLmdldFVTUERhdGEudXNwU3RyaW5nfSkscj0wKTpzLmxvZ0Vycm9yKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgd2l0aCBjbXBBcGk6ICdzdGF0aWMnIGRpZCBub3Qgc3BlY2lmeSBjb25zZW50RGF0YS4gTm8gY29uc2VudHMgd2lsbCBiZSBhdmFpbGFibGUgdG8gYWRhcHRlcnMuIikpLGZ8fHVwYmpzLnJlcXVlc3RCaWRzLmJlZm9yZShtLDUwKSxmPSEwKTpzLmxvZ1dhcm4oImNvbnNlbnRNYW5hZ2VtZW50LnVzcCBjb25maWcgbm90IGRlZmluZWQsIGV4aXRpbmcgdXNwIGNvbnNlbnQgbWFuYWdlciIpfWEuYi5nZXRDb25maWcoImNvbnNlbnRNYW5hZ2VtZW50IixmdW5jdGlvbihuKXtyZXR1cm4gUChuLmNvbnNlbnRNYW5hZ2VtZW50KX0pfX0sWzI3M10pOwp1cGJqc0NodW5rKFsyMzRdLHsyNzU6ZnVuY3Rpb24oZSxyLG4pe2UuZXhwb3J0cz1uKDI3Nil9LDI3NjpmdW5jdGlvbihlLHIsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gaX0pO3ZhciBjPW4oMCksdD1uKDEpO2Z1bmN0aW9uIHMoKXtyZXR1cm4ocz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgbj1hcmd1bWVudHNbcl07Zm9yKHZhciB0IGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sdCkmJihlW3RdPW5bdF0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBhPTAsZD0iY29uc3VtYWJsZSIsaT17Y29kZToiY29uc3VtYWJsZSIsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5wYXJhbXMubmV0d29ya0lkJiZlLnBhcmFtcy5zaXRlSWQmJmUucGFyYW1zLnVuaXRJZCYmZS5wYXJhbXMudW5pdE5hbWUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIG49e21ldGhvZDoiUE9TVCIsdXJsOiIiLGRhdGE6IiIsYmlkUmVxdWVzdDpbXX07aWYoZS5sZW5ndGg8MSlyZXR1cm4gbjthPWVbMF0ucGFyYW1zLnNpdGVJZCxkPWVbMF0uYmlkZGVyO3ZhciBpPXMoe3BsYWNlbWVudHM6W10sdGltZTpEYXRlLm5vdygpLHVybDpyLnJlZmVyZXJJbmZvLnJlZmVyZXIscmVmZXJyZXI6ZG9jdW1lbnQucmVmZXJyZXIsc291cmNlOlt7bmFtZToicHJlYmlkanMiLHZlcnNpb246IjIuNDQuOC1wcmUifV19LGVbMF0ucGFyYW1zKTtyZXR1cm4gciYmci5nZHByQ29uc2VudCYmKGkuZ2Rwcj17Y29uc2VudDpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsYXBwbGllczoiYm9vbGVhbiIhPXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfHxyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSksZS5tYXAoZnVuY3Rpb24oZSl7dmFyIG4scj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fGUuc2l6ZXN8fFtdLHQ9cyh7ZGl2TmFtZTplLmJpZElkLGFkVHlwZXM6ZS5hZFR5cGVzfHwobj1bXSxyLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dS5pbmRleE9mKGVbMF0rIngiK2VbMV0pOzA8PXImJm4ucHVzaChyKX0pLG4pfSxlLnBhcmFtcyk7dC5uZXR3b3JrSWQmJnQuc2l0ZUlkJiZ0LnVuaXRJZCYmdC51bml0TmFtZSYmaS5wbGFjZW1lbnRzLnB1c2godCl9KSxuLmRhdGE9SlNPTi5zdHJpbmdpZnkoaSksbi5iaWRSZXF1ZXN0PWUsbi5iaWRkZXJSZXF1ZXN0PXIsbi51cmw9Imh0dHBzOi8vZS5zZXJ2ZXJiaWQuY29tL2FwaS92MiIsbn0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgbix0LGkscyxhLGQ9W107dD1yLmJpZFJlcXVlc3QsZT0oZXx8e30pLmJvZHk7Zm9yKHZhciB1PTA7dTx0Lmxlbmd0aDt1KyspaWYobj17fSxpPShzPXRbdV0pLmJpZElkLGUpe3ZhciBvPWUuZGVjaXNpb25zJiZlLmRlY2lzaW9uc1tpXSxwPW8mJm8ucHJpY2luZyYmby5wcmljaW5nLmNsZWFyUHJpY2U7byYmcCYmKG4ucmVxdWVzdElkPWksbi5jcG09cCxuLndpZHRoPW8ud2lkdGgsbi5oZWlnaHQ9by5oZWlnaHQsbi51bml0SWQ9cy5wYXJhbXMudW5pdElkLG4udW5pdE5hbWU9cy5wYXJhbXMudW5pdE5hbWUsbi5hZD0oYT1vLG4udW5pdElkLG4udW5pdE5hbWUsYS5jb250ZW50cyYmYS5jb250ZW50c1swXSYmYS5jb250ZW50c1swXS5ib2R5K2MuY3JlYXRlVHJhY2tQaXhlbEh0bWwoYS5pbXByZXNzaW9uVXJsKSksbi5jdXJyZW5jeT0iVVNEIixuLmNyZWF0aXZlSWQ9by5hZElkLG4udHRsPTMwLG4ubmV0UmV2ZW51ZT0hMCxuLnJlZmVycmVyPXIuYmlkZGVyUmVxdWVzdC5yZWZlcmVySW5mby5yZWZlcmVyLGQucHVzaChuKSl9cmV0dXJuIGR9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiLy9zeW5jLnNlcnZlcmJpZC5jb20vc3MvIithKyIuaHRtbCJ9XTplLnBpeGVsRW5hYmxlZCYmMDxyLmxlbmd0aD9yWzBdLmJvZHkucGl4ZWxzOnZvaWQgYy5sb2dXYXJuKGQrIjogUGxlYXNlIGVuYWJsZSBpZnJhbWUgYmFzZWQgdXNlciBzeW5jaW5nLiIpfX0sdT1bbnVsbCwiMTIweDkwIiwiMTIweDkwIiwiNDY4eDYwIiwiNzI4eDkwIiwiMzAweDI1MCIsIjE2MHg2MDAiLCIxMjB4NjAwIiwiMzAweDEwMCIsIjE4MHgxNTAiLCIzMzZ4MjgwIiwiMjQweDQwMCIsIjIzNHg2MCIsIjg4eDMxIiwiMTIweDYwIiwiMTIweDI0MCIsIjEyNXgxMjUiLCIyMjB4MjUwIiwiMjUweDI1MCIsIjI1MHg5MCIsIjB4MCIsIjIwMHg5MCIsIjMwMHg1MCIsIjMyMHg1MCIsIjMyMHg0ODAiLCIxODV4MTg1IiwiNjIweDQ1IiwiMzAweDEyNSIsIjgwMHgyNTAiXTt1Wzc3XT0iOTcweDkwIix1WzEyM109Ijk3MHgyNTAiLHVbNDNdPSIzMDB4NjAwIix1WzI4Nl09Ijk3MHg2NiIsdVszMjMwXT0iOTcweDI4MCIsdVs0MjldPSI0ODZ4NjAiLHVbMzc0XT0iNzAweDUwMCIsdVs5MzRdPSIzMDB4MTA1MCIsdVsxNTc4XT0iMzIweDEwMCIsdVszMzFdPSIzMjB4MjUwIix1WzMzMDFdPSIzMjB4MjY3Iix1WzI3MzBdPSI3Mjh4MjUwIixPYmplY3QodC5yZWdpc3RlckJpZGRlcikoaSl9fSxbMjc1XSk7CnVwYmpzQ2h1bmsoWzIzMl0sezI3OTpmdW5jdGlvbihlLHIsaSl7ZS5leHBvcnRzPWkoMjgwKX0sMjgwOmZ1bmN0aW9uKGUscixpKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGkuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBufSk7dmFyIGw9aSgwKSxhPWkoMSksdD1pKDIpLHM9ImNvbnZlcnNhbnQiLG49e2NvZGU6cyxhbGlhc2VzOlsiY252ciJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3QuYix0LmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5wYXJhbXMpcmV0dXJuIGwubG9nV2FybihzKyI6IE1pc3NpbmcgYmlkIHBhcmFtZXRlcnMiKSwhMTtpZighbC5pc1N0cihlLnBhcmFtcy5zaXRlX2lkKSlyZXR1cm4gbC5sb2dXYXJuKHMrIjogc2l0ZV9pZCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIHN0cmluZyIpLCExO2lmKGYoZSkpaWYoZS5wYXJhbXMubWltZXMpe2lmKCFsLmlzQXJyYXkoZS5wYXJhbXMubWltZXMpfHwhZS5wYXJhbXMubWltZXMuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIGwuaXNTdHIoZSl9KSlyZXR1cm4gbC5sb2dXYXJuKHMrIjogbWltZXMgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzIiksITF9ZWxzZSBsLmxvZ1dhcm4ocysiOiBtaW1lcyBzaG91bGQgYmUgc3BlY2lmaWVkIGZvciB2aWRlb3MiKTtyZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBpLGE9ciYmci5yZWZlcmVySW5mbz9yLnJlZmVyZXJJbmZvLnJlZmVyZXI6IiIsZD0iIixvPSIiLHA9bnVsbCx1PSJfcHViY2lkIix0PWUubWFwKGZ1bmN0aW9uKGUpe3ZhciByPWwuZ2V0QmlkSWRQYXJhbWV0ZXIoImJpZGZsb29yIixlLnBhcmFtcyk7ZD1sLmdldEJpZElkUGFyYW1ldGVyKCJzaXRlX2lkIixlLnBhcmFtcyl8fGQsdT1sLmdldEJpZElkUGFyYW1ldGVyKCJwdWJjaWRfbmFtZSIsZS5wYXJhbXMpfHx1LG89ZS5hdWN0aW9uSWQ7dmFyIGk9e2lkOmUuYmlkSWQsc2VjdXJlOjEsYmlkZmxvb3I6cnx8MCxkaXNwbGF5bWFuYWdlcjoiUHJlYmlkLmpzIixkaXNwbGF5bWFuYWdlcnZlcjoiMi40NC44LXByZSJ9O2lmKGIoZS5wYXJhbXMudGFnX2lkLGksInRhZ2lkIiksZihlKSl7dmFyIGE9bC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKXx8e30sdD12KGEucGxheWVyU2l6ZXx8ZS5zaXplcykscz17fTt0JiZ0WzBdJiYoYih0WzBdLncscywidyIpLGIodFswXS5oLHMsImgiKSksYihlLnBhcmFtcy5wb3NpdGlvbixzLCJwb3MiKSxiKGUucGFyYW1zLm1pbWVzfHxhLm1pbWVzLHMsIm1pbWVzIiksYihlLnBhcmFtcy5tYXhkdXJhdGlvbixzLCJtYXhkdXJhdGlvbiIpLGIoZS5wYXJhbXMucHJvdG9jb2xzfHxhLnByb3RvY29scyxzLCJwcm90b2NvbHMiKSxiKGUucGFyYW1zLmFwaXx8YS5hcGkscywiYXBpIiksaS52aWRlbz1zfWVsc2V7dmFyIG49e2Zvcm1hdDp2KChsLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIiKXx8e30pLnNpemVzfHxlLnNpemVzKX07YihlLnBhcmFtcy5wb3NpdGlvbixuLCJwb3MiKSxpLmJhbm5lcj1ufXJldHVybiBlLnVzZXJJZCYmZS51c2VySWQucHViY2lkP3A9ZS51c2VySWQucHViY2lkOmUuY3J1bWJzJiZlLmNydW1icy5wdWJjaWQmJihwPWUuY3J1bWJzLnB1YmNpZCksaX0pLHM9e2lkOm8saW1wOnQsc2l0ZTp7aWQ6ZCxtb2JpbGU6bnVsbCE9PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT0idmlld3BvcnQiXVtjb250ZW50Kj0id2lkdGg9ZGV2aWNlLXdpZHRoIl0nKT8xOjAscGFnZTphfSxkZXZpY2U6KGk9bmF2aWdhdG9yLmxhbmd1YWdlPyJsYW5ndWFnZSI6InVzZXJMYW5ndWFnZSIse2g6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxkbnQ6IjEiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PXdpbmRvdy5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IubXNEb05vVHJhY2t8fCJ5ZXMiPT09bmF2aWdhdG9yLmRvTm90VHJhY2s/MTowLGxhbmd1YWdlOm5hdmlnYXRvcltpXS5zcGxpdCgiLSIpWzBdLG1ha2U6bmF2aWdhdG9yLnZlbmRvcj9uYXZpZ2F0b3IudmVuZG9yOiIiLHVhOm5hdmlnYXRvci51c2VyQWdlbnR9KSxhdDoxfSxuPXt9O3ImJihyLmdkcHJDb25zZW50JiYobi5jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZywiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiZsLmRlZXBTZXRWYWx1ZShzLCJyZWdzLmV4dC5nZHByIixyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCkpLHIudXNwQ29uc2VudCYmbC5kZWVwU2V0VmFsdWUocywicmVncy5leHQudXNfcHJpdmFjeSIsci51c3BDb25zZW50KSksKHA9cHx8ZnVuY3Rpb24oZSl7dmFyIHI7dHJ5e2lmKCEocj1sLmdldENvb2tpZShlKSkpe3ZhciBpPWwuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KGUsIl9leHAiKSk7KCIiPT09aXx8aSYmMDxuZXcgRGF0ZShpKS5nZXRUaW1lKCktRGF0ZS5ub3coKSkmJihyPShyPWwuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoZSkpP2RlY29kZVVSSUNvbXBvbmVudChyKTpyKX1sLmlzU3RyKHIpJiYieyI9PT1yLmNoYXJBdCgwKSYmKHI9SlNPTi5wYXJzZShyKSl9Y2F0Y2goZSl7bC5sb2dFcnJvcihlKX1yZXR1cm4gcn0odSkpJiYobi5mcGM9cCk7dmFyIGMsbSxnPShjPWVbMF0saChtPVtdLGMsInVzZXJJZC50ZGlkIiwiYWRzZXJ2ZXIub3JnIiksaChtLGMsInVzZXJJZC5pZGxfZW52IiwibGl2ZXJhbXAuY29tIiksaChtLGMsInVzZXJJZC5jcml0ZW9JZCIsImNyaXRlby5jb20iKSxoKG0sYywidXNlcklkLmlkNWlkIiwiaWQ1LXN5bmMuY29tIiksaChtLGMsInVzZXJJZC5wYXJyYWJsZWlkIiwicGFycmFibGUuY29tIiksaChtLGMsInVzZXJJZC5kaWdpdHJ1c3RpZC5kYXRhLmlkIiwiZGlnaXRydS5zdCIpLGgobSxjLCJ1c2VySWQubGlwYi5saXBiaWQiLCJsaXZlaW50ZW50LmNvbSIpLG0pO3JldHVybiAwPGcubGVuZ3RoJiYobi5laWRzPWcpLGwuaXNFbXB0eShuKXx8KHMudXNlcj17ZXh0Om59KSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vd2ViLmhiLmFkLmNwZS5kb3RvbWkuY29tL3Mycy9oZWFkZXIvMjQiLGRhdGE6c319LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKG4sZSl7dmFyIGQ9W10sbz17fTtyZXR1cm4gbj1uLmJvZHksZSYmZS5kYXRhJiZlLmRhdGEuaW1wJiZsLl9lYWNoKGUuZGF0YS5pbXAsZnVuY3Rpb24oZSl7cmV0dXJuIG9bZS5pZF09ZX0pLG4mJmwuaXNBcnJheShuLnNlYXRiaWQpJiZsLl9lYWNoKG4uc2VhdGJpZCxmdW5jdGlvbihlKXtsLl9lYWNoKGUuYmlkLGZ1bmN0aW9uKGUpe3ZhciByPXBhcnNlRmxvYXQoZS5wcmljZSk7aWYoMDxyJiZlLmltcGlkKXt2YXIgaT1lLmFkbXx8IiIsYT1lLm51cmx8fCIiLHQ9b1tlLmltcGlkXSxzPXtyZXF1ZXN0SWQ6ZS5pbXBpZCxjdXJyZW5jeTpuLmN1cnx8IlVTRCIsY3BtOnIsY3JlYXRpdmVJZDplLmNyaWR8fCIiLHR0bDozMDAsbmV0UmV2ZW51ZTohMH07dC52aWRlbz8oIjwiPT09aS5jaGFyQXQoMCk/cy52YXN0WG1sPWk6cy52YXN0VXJsPWkscy5tZWRpYVR5cGU9InZpZGVvIixzLndpZHRoPXQudmlkZW8udyxzLmhlaWdodD10LnZpZGVvLmgpOihzLmFkPWkrJzxpbWcgc3JjPSInK2ErJyIgLz4nLHMud2lkdGg9ZS53LHMuaGVpZ2h0PWUuaCksZC5wdXNoKHMpfX0pfSksZH0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVybiBsLmNvbnZlcnRUeXBlcyh7c2l0ZV9pZDoic3RyaW5nIixzZWN1cmU6Im51bWJlciIsbW9iaWxlOiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIHYoZSl7dmFyIHI7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJihyPTI9PT1lLmxlbmd0aCYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV0/W3t3OmVbMF0saDplWzFdfV06bC5fbWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpLHJ9ZnVuY3Rpb24gZihlKXtyZXR1cm4idmlkZW8iPT09ZS5tZWRpYVR5cGV8fCEhbC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKX1mdW5jdGlvbiBiKGUscixpKXtlJiYocltpXT1lKX1mdW5jdGlvbiBoKGUscixpLGEpe3ZhciB0PWwuZGVlcEFjY2VzcyhyLGkpO3QmJmUucHVzaCh7c291cmNlOmEsdWlkczpbe2lkOnQsYXR5cGU6MX1dfSl9T2JqZWN0KGEucmVnaXN0ZXJCaWRkZXIpKG4pfX0sWzI3OV0pOwp1cGJqc0NodW5rKFswXSx7Mjg1OmZ1bmN0aW9uKHQsZSxpKXt0LmV4cG9ydHM9aSgyODYpfSwyODY6ZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiQURBUFRFUl9WRVJTSU9OIixmdW5jdGlvbigpe3JldHVybiBBREFQVEVSX1ZFUlNJT059KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiUFJPRklMRV9JRF9QVUJMSVNIRVJUQUciLGZ1bmN0aW9uKCl7cmV0dXJuIFBST0ZJTEVfSURfUFVCTElTSEVSVEFHfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIkZBU1RfQklEX1BVQktFWSIsZnVuY3Rpb24oKXtyZXR1cm4gRkFTVF9CSURfUFVCS0VZfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIHNwZWN9KSxfX3dlYnBhY2tfZXhwb3J0c19fLnRyeUdldENyaXRlb0Zhc3RCaWQ9dHJ5R2V0Q3JpdGVvRmFzdEJpZDt2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfYWRsb2FkZXJfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDM1KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NyY19hZGFwdGVyc19iaWRkZXJGYWN0b3J5X189X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19jb25maWdfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3VybF9fPV9fd2VicGFja19yZXF1aXJlX18oOSksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zcmNfdXRpbHNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jb3JlX2pzX2xpYnJhcnlfZm5fYXJyYXlfZmluZF9fPV9fd2VicGFja19yZXF1aXJlX18oMTIpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jb3JlX2pzX2xpYnJhcnlfZm5fYXJyYXlfZmluZF9fX2RlZmF1bHQ9X193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jb3JlX2pzX2xpYnJhcnlfZm5fYXJyYXlfZmluZF9fKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfanNlbmNyeXB0X2Jpbl9qc2VuY3J5cHRfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDU2KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfanNlbmNyeXB0X2Jpbl9qc2VuY3J5cHRfX19kZWZhdWx0PV9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfanNlbmNyeXB0X2Jpbl9qc2VuY3J5cHRfXyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X2NyeXB0b19qc19zaGEyNTZfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDU3KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfY3J5cHRvX2pzX3NoYTI1Nl9fX2RlZmF1bHQ9X193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9jcnlwdG9fanNfc2hhMjU2X18pO2Z1bmN0aW9uIF9leHRlbmRzKCl7cmV0dXJuKF9leHRlbmRzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBpPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxyKSYmKHRbcl09aVtyXSl9cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEFEQVBURVJfVkVSU0lPTj0yMyxCSURERVJfQ09ERT0iY3JpdGVvIixDREJfRU5EUE9JTlQ9Imh0dHBzOi8vYmlkZGVyLmNyaXRlby5jb20vY2RiIixDUklURU9fVkVORE9SX0lEPTkxLFBST0ZJTEVfSURfSU5MSU5FPTIwNyxQUk9GSUxFX0lEX1BVQkxJU0hFUlRBRz0xODUsUFVCTElTSEVSX1RBR19VUkw9Ii8vc3RhdGljLmNyaXRlby5uZXQvanMvbGQvcHVibGlzaGVydGFnLnByZWJpZC5qcyIsRkFTVF9CSURfUFVCS0VZPSItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlHZk1BMEdDU3FHU0liM0RRRUJBUVVBQTRHTkFEQ0JpUUtCZ1FETzFCakFJVGtGVHRQMElNem1GN3FzcWhwdVxueTFkR2FUUEhuak1VOW1SWnNybmZSM0Mwc0VONXBZRXpFY0ZSUG5rSmpKdWhIOFJuaDUrQ0UrTGNLZzBaOFpaN1xuT21PU2owL3FuWVRBWUN1MGNSNUxpeVdHNzlLbElnVXlNYnA5MnVsR2cyNGdBeUdyVm40K3YvNGM1M1dsT0VVcFxuNFlXdmI4MkcwQ0Q1TmNETnBRSURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0iLHNwZWM9e2NvZGU6QklEREVSX0NPREUsc3VwcG9ydGVkTWVkaWFUeXBlczpbX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19fLmIsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19fLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0LnBhcmFtc3x8IXQucGFyYW1zLnpvbmVJZCYmIXQucGFyYW1zLm5ldHdvcmtJZCkmJiEoaGFzVmlkZW9NZWRpYVR5cGUodCkmJiFoYXNWYWxpZFZpZGVvTWVkaWFUeXBlKHQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbih0LGUpe3ZhciBpLHI7aWYoX2V4dGVuZHMoZSx7Y2VoOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2NvbmZpZ19fLmIuZ2V0Q29uZmlnKCJjcml0ZW8uY2VoIil9KSxwdWJsaXNoZXJUYWdBdmFpbGFibGUoKXx8KHdpbmRvdy5Dcml0ZW89d2luZG93LkNyaXRlb3x8e30sd2luZG93LkNyaXRlby51c2VQcmViaWRFdmVudHM9ITEsdHJ5R2V0Q3JpdGVvRmFzdEJpZCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfYWRsb2FkZXJfXy5hKShQVUJMSVNIRVJfVEFHX1VSTCxCSURERVJfQ09ERSl9LGUudGltZW91dCkpLHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpKXt2YXIgbj1uZXcgQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQoUFJPRklMRV9JRF9QVUJMSVNIRVJUQUcsQURBUFRFUl9WRVJTSU9OLHQsZSwiMi40NC44LXByZSIpO2k9bi5idWlsZENkYlVybCgpLHI9bi5idWlsZENkYlJlcXVlc3QoKX1lbHNle3ZhciBzPWJ1aWxkQ29udGV4dCh0LGUpO2k9YnVpbGRDZGJVcmwocykscj1idWlsZENkYlJlcXVlc3Qocyx0LGUpfWlmKHIpcmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOmksZGF0YTpyLGJpZFJlcXVlc3RzOnR9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbih0LG4pe3ZhciBlPXQuYm9keXx8dDtpZihwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSl7dmFyIGk9Q3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcihuKTtpZihpKXJldHVybiBpLmludGVycHJldFJlc3BvbnNlKGUsbil9dmFyIHM9W107cmV0dXJuIGUmJmUuc2xvdHMmJl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fc3JjX3V0aWxzX18uaXNBcnJheShlLnNsb3RzKSYmZS5zbG90cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jb3JlX2pzX2xpYnJhcnlfZm5fYXJyYXlfZmluZF9fX2RlZmF1bHQoKShuLmJpZFJlcXVlc3RzLGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lLmltcGlkJiYoIXQucGFyYW1zLnpvbmVJZHx8cGFyc2VJbnQodC5wYXJhbXMuem9uZUlkKT09PWUuem9uZWlkKX0pLGk9dC5iaWRJZCxyPXtyZXF1ZXN0SWQ6aSxhZElkOmUuYmlkSWR8fF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fc3JjX3V0aWxzX18uZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGNwbTplLmNwbSxjdXJyZW5jeTplLmN1cnJlbmN5LG5ldFJldmVudWU6ITAsdHRsOmUudHRsfHw2MCxjcmVhdGl2ZUlkOmksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsZGVhbElkOmUuZGVhbENvZGV9O2UubmF0aXZlP3IuYWQ9Y3JlYXRlTmF0aXZlQWQoaSxlLm5hdGl2ZSx0LnBhcmFtcy5uYXRpdmVDYWxsYmFjayk6ZS52aWRlbz8oci52YXN0VXJsPWUuZGlzcGxheXVybCxyLm1lZGlhVHlwZT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19tZWRpYVR5cGVzX18uZCk6ci5hZD1lLmNyZWF0aXZlLHMucHVzaChyKX0pLHN9LG9uVGltZW91dDpmdW5jdGlvbih0KXtwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcih0LmF1Y3Rpb25JZCkuaGFuZGxlQmlkVGltZW91dCgpfSxvbkJpZFdvbjpmdW5jdGlvbih0KXtwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcih0LmF1Y3Rpb25JZCkuaGFuZGxlQmlkV29uKHQpfSxvblNldFRhcmdldGluZzpmdW5jdGlvbih0KXtwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcih0LmF1Y3Rpb25JZCkuaGFuZGxlU2V0VGFyZ2V0aW5nKHQpfX07ZnVuY3Rpb24gcHVibGlzaGVyVGFnQXZhaWxhYmxlKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBDcml0ZW8mJkNyaXRlby5QdWJUYWcmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkfWZ1bmN0aW9uIGJ1aWxkQ29udGV4dCh0LGUpe3ZhciBpPSIiO2UmJmUucmVmZXJlckluZm8mJihpPWUucmVmZXJlckluZm8ucmVmZXJlcik7dmFyIHI9T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3VybF9fLmMpKGkpLnNlYXJjaCxuPXt1cmw6aSxkZWJ1ZzoiMSI9PT1yLnBidF9kZWJ1Zyxub0xvZzoiMSI9PT1yLnBidF9ub2xvZyxhbXA6ITF9O3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7ImFtcCI9PT10LnBhcmFtcy5pbnRlZ3JhdGlvbk1vZGUmJihuLmFtcD0hMCl9KSxufWZ1bmN0aW9uIGJ1aWxkQ2RiVXJsKHQpe3ZhciBlPUNEQl9FTkRQT0lOVDtyZXR1cm4gZSs9Ij9wcm9maWxlSWQ9IitQUk9GSUxFX0lEX0lOTElORSxlKz0iJmF2PSIrU3RyaW5nKEFEQVBURVJfVkVSU0lPTiksZSs9IiZ3dj0iK2VuY29kZVVSSUNvbXBvbmVudCgiMi40NC44LXByZSIpLGUrPSImY2I9IitTdHJpbmcoTWF0aC5mbG9vcig5OTk5OTk5OTk5OSpNYXRoLnJhbmRvbSgpKSksdC5hbXAmJihlKz0iJmltPTEiKSx0LmRlYnVnJiYoZSs9IiZkZWJ1Zz0xIiksdC5ub0xvZyYmKGUrPSImbm9sb2c9MSIpLGV9ZnVuY3Rpb24gYnVpbGRDZGJSZXF1ZXN0KHQsZSxpKXt2YXIgcixuPXtwdWJsaXNoZXI6e3VybDp0LnVybH0sc2xvdHM6ZS5tYXAoZnVuY3Rpb24odCl7cj10LnBhcmFtcy5uZXR3b3JrSWR8fHI7dmFyIGU9e2ltcGlkOnQuYWRVbml0Q29kZSx0cmFuc2FjdGlvbmlkOnQudHJhbnNhY3Rpb25JZCxhdWN0aW9uSWQ6dC5hdWN0aW9uSWQsc2l6ZXM6Z2V0QmFubmVyU2l6ZXModCl9O2lmKHQucGFyYW1zLnpvbmVJZCYmKGUuem9uZWlkPXQucGFyYW1zLnpvbmVJZCksdC5wYXJhbXMucHVibGlzaGVyU3ViSWQmJihlLnB1Ymxpc2hlcnN1YmlkPXQucGFyYW1zLnB1Ymxpc2hlclN1YklkKSx0LnBhcmFtcy5uYXRpdmVDYWxsYmFjayYmKGUubmF0aXZlPSEwKSxoYXNWaWRlb01lZGlhVHlwZSh0KSl7dmFyIGk9e3BsYXllcnNpemVzOmdldFZpZGVvU2l6ZXModCksbWltZXM6dC5tZWRpYVR5cGVzLnZpZGVvLm1pbWVzLHByb3RvY29sczp0Lm1lZGlhVHlwZXMudmlkZW8ucHJvdG9jb2xzLG1heGR1cmF0aW9uOnQubWVkaWFUeXBlcy52aWRlby5tYXhkdXJhdGlvbixhcGk6dC5tZWRpYVR5cGVzLnZpZGVvLmFwaX07aS5za2lwPXQucGFyYW1zLnZpZGVvLnNraXAsaS5wbGFjZW1lbnQ9dC5wYXJhbXMudmlkZW8ucGxhY2VtZW50LGkubWluZHVyYXRpb249dC5wYXJhbXMudmlkZW8ubWluZHVyYXRpb24saS5wbGF5YmFja21ldGhvZD10LnBhcmFtcy52aWRlby5wbGF5YmFja21ldGhvZCxpLnN0YXJ0ZGVsYXk9dC5wYXJhbXMudmlkZW8uc3RhcnRkZWxheSxlLnZpZGVvPWl9cmV0dXJuIGV9KX07cmV0dXJuIHImJihuLnB1Ymxpc2hlci5uZXR3b3JraWQ9ciksbi51c2VyPXt9LGkmJmkuY2VoJiYobi51c2VyLmNlaD1pLmNlaCksaSYmaS5nZHByQ29uc2VudCYmKG4uZ2RwckNvbnNlbnQ9e30sdm9pZCAwIT09aS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKG4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM9ISFpLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxpLmdkcHJDb25zZW50LnZlbmRvckRhdGEmJmkuZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50cyYmdm9pZCAwIT09aS5nZHByQ29uc2VudC52ZW5kb3JEYXRhLnZlbmRvckNvbnNlbnRzW0NSSVRFT19WRU5ET1JfSUQudG9TdHJpbmcoMTApXSYmKG4uZ2RwckNvbnNlbnQuY29uc2VudEdpdmVuPSEhaS5nZHByQ29uc2VudC52ZW5kb3JEYXRhLnZlbmRvckNvbnNlbnRzW0NSSVRFT19WRU5ET1JfSUQudG9TdHJpbmcoMTApXSksdm9pZCAwIT09aS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYobi5nZHByQ29uc2VudC5jb25zZW50RGF0YT1pLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxufWZ1bmN0aW9uIGdldFZpZGVvU2l6ZXModCl7cmV0dXJuIHBhcnNlU2l6ZXMoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zcmNfdXRpbHNfXy5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKX1mdW5jdGlvbiBnZXRCYW5uZXJTaXplcyh0KXtyZXR1cm4gcGFyc2VTaXplcyhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX3NyY191dGlsc19fLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKXx8dC5zaXplcyl9ZnVuY3Rpb24gcGFyc2VTaXplKHQpe3JldHVybiB0WzBdKyJ4Iit0WzFdfWZ1bmN0aW9uIHBhcnNlU2l6ZXModCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodFswXSk/dC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlU2l6ZSh0KX0pOltwYXJzZVNpemUodCldfWZ1bmN0aW9uIGhhc1ZpZGVvTWVkaWFUeXBlKHQpe3JldHVybiB2b2lkIDAhPT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX3NyY191dGlsc19fLmRlZXBBY2Nlc3ModCwicGFyYW1zLnZpZGVvIikmJnZvaWQgMCE9PV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fc3JjX3V0aWxzX18uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvIil9ZnVuY3Rpb24gaGFzVmFsaWRWaWRlb01lZGlhVHlwZShlKXt2YXIgaT0hMDtbIm1pbWVzIiwicGxheWVyU2l6ZSIsIm1heGR1cmF0aW9uIiwicHJvdG9jb2xzIiwiYXBpIl0uZm9yRWFjaChmdW5jdGlvbih0KXt2b2lkIDA9PT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX3NyY191dGlsc19fLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby4iK3QpJiYoaT0hMSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX3NyY191dGlsc19fLmxvZ0Vycm9yKCJDcml0ZW8gQmlkIEFkYXB0ZXI6IG1lZGlhVHlwZXMudmlkZW8uIit0KyIgaXMgcmVxdWlyZWQiKSl9KTtpZihbInNraXAiLCJwbGFjZW1lbnQiLCJwbGF5YmFja21ldGhvZCJdLmZvckVhY2goZnVuY3Rpb24odCl7dm9pZCAwPT09X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zcmNfdXRpbHNfXy5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlby4iK3QpJiYoaT0hMSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX3NyY191dGlsc19fLmxvZ0Vycm9yKCJDcml0ZW8gQmlkIEFkYXB0ZXI6IHBhcmFtcy52aWRlby4iK3QrIiBpcyByZXF1aXJlZCIpKX0pLGkpe2lmKCJpbnN0cmVhbSI9PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYxPT09ZS5wYXJhbXMudmlkZW8ucGxhY2VtZW50KXJldHVybiEwO2lmKCJvdXRzdHJlYW0iPT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCYmMSE9PWUucGFyYW1zLnZpZGVvLnBsYWNlbWVudClyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBjcmVhdGVOYXRpdmVBZCh0LGUsaSl7cmV0dXJuIHdpbmRvdy5jcml0ZW9fcHJlYmlkX25hdGl2ZV9zbG90cz13aW5kb3cuY3JpdGVvX3ByZWJpZF9uYXRpdmVfc2xvdHN8fHt9LHdpbmRvdy5jcml0ZW9fcHJlYmlkX25hdGl2ZV9zbG90c1t0XT17Y2FsbGJhY2s6aSxwYXlsb2FkOmV9LCc8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+XG4gICAgdmFyIHdpbiA9IHdpbmRvdztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyArK2kpIHtcbiAgICAgIHdpbiA9IHdpbi5wYXJlbnQ7XG4gICAgICBpZiAod2luLmNyaXRlb19wcmViaWRfbmF0aXZlX3Nsb3RzKSB7XG4gICAgICAgIHZhciByZXNwb25zZVNsb3QgPSB3aW4uY3JpdGVvX3ByZWJpZF9uYXRpdmVfc2xvdHNbIicuY29uY2F0KHQsJyJdO1xuICAgICAgICByZXNwb25zZVNsb3QuY2FsbGJhY2socmVzcG9uc2VTbG90LnBheWxvYWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIDxcL3NjcmlwdD4nKX1mdW5jdGlvbiB0cnlHZXRDcml0ZW9GYXN0QmlkKCl7dHJ5e3ZhciBmYXN0QmlkU3RvcmFnZUtleT0iY3JpdGVvX2Zhc3RfYmlkIixoYXNoUHJlZml4PSIvLyBIYXNoOiAiLGZhc3RCaWRGcm9tU3RvcmFnZT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShmYXN0QmlkU3RvcmFnZUtleSk7aWYobnVsbCE9PWZhc3RCaWRGcm9tU3RvcmFnZSl7dmFyIGZpcnN0TGluZUVuZFBvc2l0aW9uPWZhc3RCaWRGcm9tU3RvcmFnZS5pbmRleE9mKCJcbiIpLGZpcnN0TGluZT1mYXN0QmlkRnJvbVN0b3JhZ2Uuc3Vic3RyKDAsZmlyc3RMaW5lRW5kUG9zaXRpb24pLnRyaW0oKTtpZihmaXJzdExpbmUuc3Vic3RyKDAsaGFzaFByZWZpeC5sZW5ndGgpIT09aGFzaFByZWZpeClfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX3NyY191dGlsc19fLmxvZ1dhcm4oIk5vIGhhc2ggZm91bmQgaW4gRmFzdEJpZCIpLGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGZhc3RCaWRTdG9yYWdlS2V5KTtlbHNle3ZhciBwdWJsaXNoZXJUYWdIYXNoPWZpcnN0TGluZS5zdWJzdHIoaGFzaFByZWZpeC5sZW5ndGgpLHB1Ymxpc2hlclRhZz1mYXN0QmlkRnJvbVN0b3JhZ2Uuc3Vic3RyKGZpcnN0TGluZUVuZFBvc2l0aW9uKzEpLGpzRW5jcnlwdD1uZXcgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2pzZW5jcnlwdF9iaW5fanNlbmNyeXB0X19fZGVmYXVsdC5hO2pzRW5jcnlwdC5zZXRQdWJsaWNLZXkoRkFTVF9CSURfUFVCS0VZKSxqc0VuY3J5cHQudmVyaWZ5KHB1Ymxpc2hlclRhZyxwdWJsaXNoZXJUYWdIYXNoLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9jcnlwdG9fanNfc2hhMjU2X19fZGVmYXVsdC5hKT8oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zcmNfdXRpbHNfXy5sb2dJbmZvKCJVc2luZyBDcml0ZW8gRmFzdEJpZCIpLGV2YWwocHVibGlzaGVyVGFnKSk6KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fc3JjX3V0aWxzX18ubG9nV2FybigiSW52YWxpZCBDcml0ZW8gRmFzdEJpZCBmb3VuZCIpLGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGZhc3RCaWRTdG9yYWdlS2V5KSl9fX1jYXRjaCh0KXt9fU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NyY19hZGFwdGVyc19iaWRkZXJGYWN0b3J5X18ucmVnaXN0ZXJCaWRkZXIpKHNwZWMpfSw1NjpmdW5jdGlvbih0LGUsaSl7KGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgZT0iMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IjtmdW5jdGlvbiBoKHQpe3JldHVybiBlLmNoYXJBdCh0KX1mdW5jdGlvbiBpKHQsZSl7cmV0dXJuIHQmZX1mdW5jdGlvbiB1KHQsZSl7cmV0dXJuIHR8ZX1mdW5jdGlvbiByKHQsZSl7cmV0dXJuIHReZX1mdW5jdGlvbiBuKHQsZSl7cmV0dXJuIHQmfmV9ZnVuY3Rpb24gcyh0KXtpZigwPT10KXJldHVybi0xO3ZhciBlPTA7cmV0dXJuIDA9PSg2NTUzNSZ0KSYmKHQ+Pj0xNixlKz0xNiksMD09KDI1NSZ0KSYmKHQ+Pj04LGUrPTgpLDA9PSgxNSZ0KSYmKHQ+Pj00LGUrPTQpLDA9PSgzJnQpJiYodD4+PTIsZSs9MiksMD09KDEmdCkmJisrZSxlfWZ1bmN0aW9uIG8odCl7Zm9yKHZhciBlPTA7MCE9dDspdCY9dC0xLCsrZTtyZXR1cm4gZX12YXIgYT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7ZnVuY3Rpb24gYyh0KXt2YXIgZSxpLHI9IiI7Zm9yKGU9MDtlKzM8PXQubGVuZ3RoO2UrPTMpaT1wYXJzZUludCh0LnN1YnN0cmluZyhlLGUrMyksMTYpLHIrPWEuY2hhckF0KGk+PjYpK2EuY2hhckF0KDYzJmkpO2ZvcihlKzE9PXQubGVuZ3RoPyhpPXBhcnNlSW50KHQuc3Vic3RyaW5nKGUsZSsxKSwxNikscis9YS5jaGFyQXQoaTw8MikpOmUrMj09dC5sZW5ndGgmJihpPXBhcnNlSW50KHQuc3Vic3RyaW5nKGUsZSsyKSwxNikscis9YS5jaGFyQXQoaT4+MikrYS5jaGFyQXQoKDMmaSk8PDQpKTswPCgzJnIubGVuZ3RoKTspcis9Ij0iO3JldHVybiByfWZ1bmN0aW9uIGYodCl7dmFyIGUsaT0iIixyPTAsbj0wO2ZvcihlPTA7ZTx0Lmxlbmd0aCYmIj0iIT10LmNoYXJBdChlKTsrK2Upe3ZhciBzPWEuaW5kZXhPZih0LmNoYXJBdChlKSk7czwwfHwocj0wPT1yPyhpKz1oKHM+PjIpLG49MyZzLDEpOjE9PXI/KGkrPWgobjw8MnxzPj40KSxuPTE1JnMsMik6Mj09cj8oaSs9aChuKSxpKz1oKHM+PjIpLG49MyZzLDMpOihpKz1oKG48PDJ8cz4+NCksaSs9aCgxNSZzKSwwKSl9cmV0dXJuIDE9PXImJihpKz1oKG48PDIpKSxpfXZhciBsLHA9ZnVuY3Rpb24odCxlKXtyZXR1cm4ocD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKHQsZSl9O3ZhciBkLGc9ZnVuY3Rpb24odCl7dmFyIGU7aWYodm9pZCAwPT09bCl7dmFyIGk9IjAxMjM0NTY3ODlBQkNERUYiLHI9IiBcZlxuXHJcdMKgXHUyMDI4XHUyMDI5Ijtmb3IobD17fSxlPTA7ZTwxNjsrK2UpbFtpLmNoYXJBdChlKV09ZTtmb3IoaT1pLnRvTG93ZXJDYXNlKCksZT0xMDtlPDE2OysrZSlsW2kuY2hhckF0KGUpXT1lO2ZvcihlPTA7ZTxyLmxlbmd0aDsrK2UpbFtyLmNoYXJBdChlKV09LTF9dmFyIG49W10scz0wLG89MDtmb3IoZT0wO2U8dC5sZW5ndGg7KytlKXt2YXIgYT10LmNoYXJBdChlKTtpZigiPSI9PWEpYnJlYWs7aWYoLTEhPShhPWxbYV0pKXtpZih2b2lkIDA9PT1hKXRocm93IG5ldyBFcnJvcigiSWxsZWdhbCBjaGFyYWN0ZXIgYXQgb2Zmc2V0ICIrZSk7c3w9YSwyPD0rK28/KG5bbi5sZW5ndGhdPXMsbz1zPTApOnM8PD00fX1pZihvKXRocm93IG5ldyBFcnJvcigiSGV4IGVuY29kaW5nIGluY29tcGxldGU6IDQgYml0cyBtaXNzaW5nIik7cmV0dXJuIG59LF89e2RlY29kZTpmdW5jdGlvbih0KXt2YXIgZTtpZih2b2lkIDA9PT1kKXt2YXIgaT0iPSBcZlxuXHJcdMKgXHUyMDI4XHUyMDI5Ijtmb3IoZD1PYmplY3QuY3JlYXRlKG51bGwpLGU9MDtlPDY0OysrZSlkWyJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5jaGFyQXQoZSldPWU7Zm9yKGU9MDtlPGkubGVuZ3RoOysrZSlkW2kuY2hhckF0KGUpXT0tMX12YXIgcj1bXSxuPTAscz0wO2ZvcihlPTA7ZTx0Lmxlbmd0aDsrK2Upe3ZhciBvPXQuY2hhckF0KGUpO2lmKCI9Ij09bylicmVhaztpZigtMSE9KG89ZFtvXSkpe2lmKHZvaWQgMD09PW8pdGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIGNoYXJhY3RlciBhdCBvZmZzZXQgIitlKTtufD1vLDQ8PSsrcz8ocltyLmxlbmd0aF09bj4+MTYscltyLmxlbmd0aF09bj4+OCYyNTUscltyLmxlbmd0aF09MjU1Jm4scz1uPTApOm48PD02fX1zd2l0Y2gocyl7Y2FzZSAxOnRocm93IG5ldyBFcnJvcigiQmFzZTY0IGVuY29kaW5nIGluY29tcGxldGU6IGF0IGxlYXN0IDIgYml0cyBtaXNzaW5nIik7Y2FzZSAyOnJbci5sZW5ndGhdPW4+PjEwO2JyZWFrO2Nhc2UgMzpyW3IubGVuZ3RoXT1uPj4xNixyW3IubGVuZ3RoXT1uPj44JjI1NX1yZXR1cm4gcn0scmU6Ly0tLS0tQkVHSU4gW14tXSstLS0tLShbQS1aYS16MC05K1wvPVxzXSspLS0tLS1FTkQgW14tXSstLS0tLXxiZWdpbi1iYXNlNjRbXlxuXStcbihbQS1aYS16MC05K1wvPVxzXSspPT09PS8sdW5hcm1vcjpmdW5jdGlvbih0KXt2YXIgZT1fLnJlLmV4ZWModCk7aWYoZSlpZihlWzFdKXQ9ZVsxXTtlbHNle2lmKCFlWzJdKXRocm93IG5ldyBFcnJvcigiUmVnRXhwIG91dCBvZiBzeW5jIik7dD1lWzJdfXJldHVybiBfLmRlY29kZSh0KX19LHY9MWUxMyxtPSh5LnByb3RvdHlwZS5tdWxBZGQ9ZnVuY3Rpb24odCxlKXt2YXIgaSxyLG49dGhpcy5idWYscz1uLmxlbmd0aDtmb3IoaT0wO2k8czsrK2kpKHI9bltpXSp0K2UpPHY/ZT0wOnItPShlPTB8ci92KSp2LG5baV09cjswPGUmJihuW2ldPWUpfSx5LnByb3RvdHlwZS5zdWI9ZnVuY3Rpb24odCl7dmFyIGUsaSxyPXRoaXMuYnVmLG49ci5sZW5ndGg7Zm9yKGU9MDtlPG47KytlKXQ9KGk9cltlXS10KTwwPyhpKz12LDEpOjAscltlXT1pO2Zvcig7MD09PXJbci5sZW5ndGgtMV07KXIucG9wKCl9LHkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe2lmKDEwIT0odHx8MTApKXRocm93IG5ldyBFcnJvcigib25seSBiYXNlIDEwIGlzIHN1cHBvcnRlZCIpO2Zvcih2YXIgZT10aGlzLmJ1ZixpPWVbZS5sZW5ndGgtMV0udG9TdHJpbmcoKSxyPWUubGVuZ3RoLTI7MDw9cjstLXIpaSs9KHYrZVtyXSkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMSk7cmV0dXJuIGl9LHkucHJvdG90eXBlLnZhbHVlT2Y9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5idWYsZT0wLGk9dC5sZW5ndGgtMTswPD1pOy0taSllPWUqdit0W2ldO3JldHVybiBlfSx5LnByb3RvdHlwZS5zaW1wbGlmeT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYnVmO3JldHVybiAxPT10Lmxlbmd0aD90WzBdOnRoaXN9LHkpO2Z1bmN0aW9uIHkodCl7dGhpcy5idWY9Wyt0fHwwXX12YXIgYj0i4oCmIixFPS9eKFxkXGQpKDBbMS05XXwxWzAtMl0pKDBbMS05XXxbMTJdXGR8M1swMV0pKFswMV1cZHwyWzAtM10pKD86KFswLTVdXGQpKD86KFswLTVdXGQpKD86Wy4sXShcZHsxLDN9KSk/KT8pPyhafFstK10oPzpbMF1cZHwxWzAtMl0pKFswLTVdXGQpPyk/JC8sVD0vXihcZFxkXGRcZCkoMFsxLTldfDFbMC0yXSkoMFsxLTldfFsxMl1cZHwzWzAxXSkoWzAxXVxkfDJbMC0zXSkoPzooWzAtNV1cZCkoPzooWzAtNV1cZCkoPzpbLixdKFxkezEsM30pKT8pPyk/KFp8Wy0rXSg/OlswXVxkfDFbMC0yXSkoWzAtNV1cZCk/KT8kLztmdW5jdGlvbiBTKHQsZSl7cmV0dXJuIHQubGVuZ3RoPmUmJih0PXQuc3Vic3RyaW5nKDAsZSkrYiksdH12YXIgRD0ody5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PXRoaXMucG9zKyspLHQ+PXRoaXMuZW5jLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIlJlcXVlc3RpbmcgYnl0ZSBvZmZzZXQgIit0KyIgb24gYSBzdHJlYW0gb2YgbGVuZ3RoICIrdGhpcy5lbmMubGVuZ3RoKTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHRoaXMuZW5jP3RoaXMuZW5jLmNoYXJDb2RlQXQodCk6dGhpcy5lbmNbdF19LHcucHJvdG90eXBlLmhleEJ5dGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGV4RGlnaXRzLmNoYXJBdCh0Pj40JjE1KSt0aGlzLmhleERpZ2l0cy5jaGFyQXQoMTUmdCl9LHcucHJvdG90eXBlLmhleER1bXA9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgcj0iIixuPXQ7bjxlOysrbilpZihyKz10aGlzLmhleEJ5dGUodGhpcy5nZXQobikpLCEwIT09aSlzd2l0Y2goMTUmbil7Y2FzZSA3OnIrPSIgICI7YnJlYWs7Y2FzZSAxNTpyKz0iXG4iO2JyZWFrO2RlZmF1bHQ6cis9IiAifXJldHVybiByfSx3LnByb3RvdHlwZS5pc0FTQ0lJPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXQ7aTxlOysraSl7dmFyIHI9dGhpcy5nZXQoaSk7aWYocjwzMnx8MTc2PHIpcmV0dXJuITF9cmV0dXJuITB9LHcucHJvdG90eXBlLnBhcnNlU3RyaW5nSVNPPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPSIiLHI9dDtyPGU7KytyKWkrPVN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5nZXQocikpO3JldHVybiBpfSx3LnByb3RvdHlwZS5wYXJzZVN0cmluZ1VURj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0iIixyPXQ7cjxlOyl7dmFyIG49dGhpcy5nZXQocisrKTtpKz1uPDEyOD9TdHJpbmcuZnJvbUNoYXJDb2RlKG4pOjE5MTxuJiZuPDIyND9TdHJpbmcuZnJvbUNoYXJDb2RlKCgzMSZuKTw8Nnw2MyZ0aGlzLmdldChyKyspKTpTdHJpbmcuZnJvbUNoYXJDb2RlKCgxNSZuKTw8MTJ8KDYzJnRoaXMuZ2V0KHIrKykpPDw2fDYzJnRoaXMuZ2V0KHIrKykpfXJldHVybiBpfSx3LnByb3RvdHlwZS5wYXJzZVN0cmluZ0JNUD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaSxyLG49IiIscz10O3M8ZTspaT10aGlzLmdldChzKyspLHI9dGhpcy5nZXQocysrKSxuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGk8PDh8cik7cmV0dXJuIG59LHcucHJvdG90eXBlLnBhcnNlVGltZT1mdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcy5wYXJzZVN0cmluZ0lTTyh0LGUpLG49KGk/RTpUKS5leGVjKHIpO3JldHVybiBuPyhpJiYoblsxXT0rblsxXSxuWzFdKz0rblsxXTw3MD8yZTM6MTkwMCkscj1uWzFdKyItIituWzJdKyItIituWzNdKyIgIituWzRdLG5bNV0mJihyKz0iOiIrbls1XSxuWzZdJiYocis9IjoiK25bNl0sbls3XSYmKHIrPSIuIituWzddKSkpLG5bOF0mJihyKz0iIFVUQyIsIloiIT1uWzhdJiYocis9bls4XSxuWzldJiYocis9IjoiK25bOV0pKSkscik6IlVucmVjb2duaXplZCB0aW1lOiAiK3J9LHcucHJvdG90eXBlLnBhcnNlSW50ZWdlcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaSxyPXRoaXMuZ2V0KHQpLG49MTI3PHIscz1uPzI1NTowLG89IiI7cj09cyYmKyt0PGU7KXI9dGhpcy5nZXQodCk7aWYoMD09KGk9ZS10KSlyZXR1cm4gbj8tMTowO2lmKDQ8aSl7Zm9yKG89cixpPDw9MzswPT0oMTI4Jigrb15zKSk7KW89K288PDEsLS1pO289IigiK2krIiBiaXQpXG4ifW4mJihyLT0yNTYpO2Zvcih2YXIgYT1uZXcgbShyKSxoPXQrMTtoPGU7KytoKWEubXVsQWRkKDI1Nix0aGlzLmdldChoKSk7cmV0dXJuIG8rYS50b1N0cmluZygpfSx3LnByb3RvdHlwZS5wYXJzZUJpdFN0cmluZz1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciByPXRoaXMuZ2V0KHQpLG49IigiKygoZS10LTE8PDMpLXIpKyIgYml0KVxuIixzPSIiLG89dCsxO288ZTsrK28pe2Zvcih2YXIgYT10aGlzLmdldChvKSxoPW89PWUtMT9yOjAsdT03O2g8PXU7LS11KXMrPWE+PnUmMT8iMSI6IjAiO2lmKHMubGVuZ3RoPmkpcmV0dXJuIG4rUyhzLGkpfXJldHVybiBuK3N9LHcucHJvdG90eXBlLnBhcnNlT2N0ZXRTdHJpbmc9ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMuaXNBU0NJSSh0LGUpKXJldHVybiBTKHRoaXMucGFyc2VTdHJpbmdJU08odCxlKSxpKTt2YXIgcj1lLXQsbj0iKCIrcisiIGJ5dGUpXG4iOyhpLz0yKTxyJiYoZT10K2kpO2Zvcih2YXIgcz10O3M8ZTsrK3Mpbis9dGhpcy5oZXhCeXRlKHRoaXMuZ2V0KHMpKTtyZXR1cm4gaTxyJiYobis9Yiksbn0sdy5wcm90b3R5cGUucGFyc2VPSUQ9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgcj0iIixuPW5ldyBtLHM9MCxvPXQ7bzxlOysrbyl7dmFyIGE9dGhpcy5nZXQobyk7aWYobi5tdWxBZGQoMTI4LDEyNyZhKSxzKz03LCEoMTI4JmEpKXtpZigiIj09PXIpaWYoKG49bi5zaW1wbGlmeSgpKWluc3RhbmNlb2YgbSluLnN1Yig4MCkscj0iMi4iK24udG9TdHJpbmcoKTtlbHNle3ZhciBoPW48ODA/bjw0MD8wOjE6MjtyPWgrIi4iKyhuLTQwKmgpfWVsc2Ugcis9Ii4iK24udG9TdHJpbmcoKTtpZihyLmxlbmd0aD5pKXJldHVybiBTKHIsaSk7bj1uZXcgbSxzPTB9fXJldHVybiAwPHMmJihyKz0iLmluY29tcGxldGUiKSxyfSx3KTtmdW5jdGlvbiB3KHQsZSl7dGhpcy5oZXhEaWdpdHM9IjAxMjM0NTY3ODlBQkNERUYiLHQgaW5zdGFuY2VvZiB3Pyh0aGlzLmVuYz10LmVuYyx0aGlzLnBvcz10LnBvcyk6KHRoaXMuZW5jPXQsdGhpcy5wb3M9ZSl9dmFyIEI9KE8ucHJvdG90eXBlLnR5cGVOYW1lPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMudGFnLnRhZ0NsYXNzKXtjYXNlIDA6c3dpdGNoKHRoaXMudGFnLnRhZ051bWJlcil7Y2FzZSAwOnJldHVybiJFT0MiO2Nhc2UgMTpyZXR1cm4iQk9PTEVBTiI7Y2FzZSAyOnJldHVybiJJTlRFR0VSIjtjYXNlIDM6cmV0dXJuIkJJVF9TVFJJTkciO2Nhc2UgNDpyZXR1cm4iT0NURVRfU1RSSU5HIjtjYXNlIDU6cmV0dXJuIk5VTEwiO2Nhc2UgNjpyZXR1cm4iT0JKRUNUX0lERU5USUZJRVIiO2Nhc2UgNzpyZXR1cm4iT2JqZWN0RGVzY3JpcHRvciI7Y2FzZSA4OnJldHVybiJFWFRFUk5BTCI7Y2FzZSA5OnJldHVybiJSRUFMIjtjYXNlIDEwOnJldHVybiJFTlVNRVJBVEVEIjtjYXNlIDExOnJldHVybiJFTUJFRERFRF9QRFYiO2Nhc2UgMTI6cmV0dXJuIlVURjhTdHJpbmciO2Nhc2UgMTY6cmV0dXJuIlNFUVVFTkNFIjtjYXNlIDE3OnJldHVybiJTRVQiO2Nhc2UgMTg6cmV0dXJuIk51bWVyaWNTdHJpbmciO2Nhc2UgMTk6cmV0dXJuIlByaW50YWJsZVN0cmluZyI7Y2FzZSAyMDpyZXR1cm4iVGVsZXRleFN0cmluZyI7Y2FzZSAyMTpyZXR1cm4iVmlkZW90ZXhTdHJpbmciO2Nhc2UgMjI6cmV0dXJuIklBNVN0cmluZyI7Y2FzZSAyMzpyZXR1cm4iVVRDVGltZSI7Y2FzZSAyNDpyZXR1cm4iR2VuZXJhbGl6ZWRUaW1lIjtjYXNlIDI1OnJldHVybiJHcmFwaGljU3RyaW5nIjtjYXNlIDI2OnJldHVybiJWaXNpYmxlU3RyaW5nIjtjYXNlIDI3OnJldHVybiJHZW5lcmFsU3RyaW5nIjtjYXNlIDI4OnJldHVybiJVbml2ZXJzYWxTdHJpbmciO2Nhc2UgMzA6cmV0dXJuIkJNUFN0cmluZyJ9cmV0dXJuIlVuaXZlcnNhbF8iK3RoaXMudGFnLnRhZ051bWJlci50b1N0cmluZygpO2Nhc2UgMTpyZXR1cm4iQXBwbGljYXRpb25fIit0aGlzLnRhZy50YWdOdW1iZXIudG9TdHJpbmcoKTtjYXNlIDI6cmV0dXJuIlsiK3RoaXMudGFnLnRhZ051bWJlci50b1N0cmluZygpKyJdIjtjYXNlIDM6cmV0dXJuIlByaXZhdGVfIit0aGlzLnRhZy50YWdOdW1iZXIudG9TdHJpbmcoKX19LE8ucHJvdG90eXBlLmNvbnRlbnQ9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dGhpcy50YWcpcmV0dXJuIG51bGw7dm9pZCAwPT09dCYmKHQ9MS8wKTt2YXIgZT10aGlzLnBvc0NvbnRlbnQoKSxpPU1hdGguYWJzKHRoaXMubGVuZ3RoKTtpZighdGhpcy50YWcuaXNVbml2ZXJzYWwoKSlyZXR1cm4gbnVsbCE9PXRoaXMuc3ViPyIoIit0aGlzLnN1Yi5sZW5ndGgrIiBlbGVtKSI6dGhpcy5zdHJlYW0ucGFyc2VPY3RldFN0cmluZyhlLGUraSx0KTtzd2l0Y2godGhpcy50YWcudGFnTnVtYmVyKXtjYXNlIDE6cmV0dXJuIDA9PT10aGlzLnN0cmVhbS5nZXQoZSk/ImZhbHNlIjoidHJ1ZSI7Y2FzZSAyOnJldHVybiB0aGlzLnN0cmVhbS5wYXJzZUludGVnZXIoZSxlK2kpO2Nhc2UgMzpyZXR1cm4gdGhpcy5zdWI/IigiK3RoaXMuc3ViLmxlbmd0aCsiIGVsZW0pIjp0aGlzLnN0cmVhbS5wYXJzZUJpdFN0cmluZyhlLGUraSx0KTtjYXNlIDQ6cmV0dXJuIHRoaXMuc3ViPyIoIit0aGlzLnN1Yi5sZW5ndGgrIiBlbGVtKSI6dGhpcy5zdHJlYW0ucGFyc2VPY3RldFN0cmluZyhlLGUraSx0KTtjYXNlIDY6cmV0dXJuIHRoaXMuc3RyZWFtLnBhcnNlT0lEKGUsZStpLHQpO2Nhc2UgMTY6Y2FzZSAxNzpyZXR1cm4gbnVsbCE9PXRoaXMuc3ViPyIoIit0aGlzLnN1Yi5sZW5ndGgrIiBlbGVtKSI6IihubyBlbGVtKSI7Y2FzZSAxMjpyZXR1cm4gUyh0aGlzLnN0cmVhbS5wYXJzZVN0cmluZ1VURihlLGUraSksdCk7Y2FzZSAxODpjYXNlIDE5OmNhc2UgMjA6Y2FzZSAyMTpjYXNlIDIyOmNhc2UgMjY6cmV0dXJuIFModGhpcy5zdHJlYW0ucGFyc2VTdHJpbmdJU08oZSxlK2kpLHQpO2Nhc2UgMzA6cmV0dXJuIFModGhpcy5zdHJlYW0ucGFyc2VTdHJpbmdCTVAoZSxlK2kpLHQpO2Nhc2UgMjM6Y2FzZSAyNDpyZXR1cm4gdGhpcy5zdHJlYW0ucGFyc2VUaW1lKGUsZStpLDIzPT10aGlzLnRhZy50YWdOdW1iZXIpfXJldHVybiBudWxsfSxPLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGVOYW1lKCkrIkAiK3RoaXMuc3RyZWFtLnBvcysiW2hlYWRlcjoiK3RoaXMuaGVhZGVyKyIsbGVuZ3RoOiIrdGhpcy5sZW5ndGgrIixzdWI6IisobnVsbD09PXRoaXMuc3ViPyJudWxsIjp0aGlzLnN1Yi5sZW5ndGgpKyJdIn0sTy5wcm90b3R5cGUudG9QcmV0dHlTdHJpbmc9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9IiIpO3ZhciBlPXQrdGhpcy50eXBlTmFtZSgpKyIgQCIrdGhpcy5zdHJlYW0ucG9zO2lmKDA8PXRoaXMubGVuZ3RoJiYoZSs9IisiKSxlKz10aGlzLmxlbmd0aCx0aGlzLnRhZy50YWdDb25zdHJ1Y3RlZD9lKz0iIChjb25zdHJ1Y3RlZCkiOiF0aGlzLnRhZy5pc1VuaXZlcnNhbCgpfHwzIT10aGlzLnRhZy50YWdOdW1iZXImJjQhPXRoaXMudGFnLnRhZ051bWJlcnx8bnVsbD09PXRoaXMuc3VifHwoZSs9IiAoZW5jYXBzdWxhdGVzKSIpLGUrPSJcbiIsbnVsbCE9PXRoaXMuc3ViKXt0Kz0iICAiO2Zvcih2YXIgaT0wLHI9dGhpcy5zdWIubGVuZ3RoO2k8cjsrK2kpZSs9dGhpcy5zdWJbaV0udG9QcmV0dHlTdHJpbmcodCl9cmV0dXJuIGV9LE8ucHJvdG90eXBlLnBvc1N0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyZWFtLnBvc30sTy5wcm90b3R5cGUucG9zQ29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmVhbS5wb3MrdGhpcy5oZWFkZXJ9LE8ucHJvdG90eXBlLnBvc0VuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmVhbS5wb3MrdGhpcy5oZWFkZXIrTWF0aC5hYnModGhpcy5sZW5ndGgpfSxPLnByb3RvdHlwZS50b0hleFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmVhbS5oZXhEdW1wKHRoaXMucG9zU3RhcnQoKSx0aGlzLnBvc0VuZCgpLCEwKX0sTy5kZWNvZGVMZW5ndGg9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoKSxpPTEyNyZlO2lmKGk9PWUpcmV0dXJuIGk7aWYoNjxpKXRocm93IG5ldyBFcnJvcigiTGVuZ3RoIG92ZXIgNDggYml0cyBub3Qgc3VwcG9ydGVkIGF0IHBvc2l0aW9uICIrKHQucG9zLTEpKTtpZigwPT1pKXJldHVybiBudWxsO2Zvcih2YXIgcj1lPTA7cjxpOysrcillPTI1NiplK3QuZ2V0KCk7cmV0dXJuIGV9LE8ucHJvdG90eXBlLmdldEhleFN0cmluZ1ZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50b0hleFN0cmluZygpLGU9Mip0aGlzLmhlYWRlcixpPTIqdGhpcy5sZW5ndGg7cmV0dXJuIHQuc3Vic3RyKGUsaSl9LE8uZGVjb2RlPWZ1bmN0aW9uKHQpe3ZhciByO2Z1bmN0aW9uIGUoKXt2YXIgdD1bXTtpZihudWxsIT09cyl7Zm9yKHZhciBlPW8rcztyLnBvczxlOyl0W3QubGVuZ3RoXT1PLmRlY29kZShyKTtpZihyLnBvcyE9ZSl0aHJvdyBuZXcgRXJyb3IoIkNvbnRlbnQgc2l6ZSBpcyBub3QgY29ycmVjdCBmb3IgY29udGFpbmVyIHN0YXJ0aW5nIGF0IG9mZnNldCAiK28pfWVsc2UgdHJ5e2Zvcig7Oyl7dmFyIGk9Ty5kZWNvZGUocik7aWYoaS50YWcuaXNFT0MoKSlicmVhazt0W3QubGVuZ3RoXT1pfXM9by1yLnBvc31jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoIkV4Y2VwdGlvbiB3aGlsZSBkZWNvZGluZyB1bmRlZmluZWQgbGVuZ3RoIGNvbnRlbnQ6ICIrdCl9cmV0dXJuIHR9cj10IGluc3RhbmNlb2YgRD90Om5ldyBEKHQsMCk7dmFyIGk9bmV3IEQociksbj1uZXcgUihyKSxzPU8uZGVjb2RlTGVuZ3RoKHIpLG89ci5wb3MsYT1vLWkucG9zLGg9bnVsbDtpZihuLnRhZ0NvbnN0cnVjdGVkKWg9ZSgpO2Vsc2UgaWYobi5pc1VuaXZlcnNhbCgpJiYoMz09bi50YWdOdW1iZXJ8fDQ9PW4udGFnTnVtYmVyKSl0cnl7aWYoMz09bi50YWdOdW1iZXImJjAhPXIuZ2V0KCkpdGhyb3cgbmV3IEVycm9yKCJCSVQgU1RSSU5HcyB3aXRoIHVudXNlZCBiaXRzIGNhbm5vdCBlbmNhcHN1bGF0ZS4iKTtoPWUoKTtmb3IodmFyIHU9MDt1PGgubGVuZ3RoOysrdSlpZihoW3VdLnRhZy5pc0VPQygpKXRocm93IG5ldyBFcnJvcigiRU9DIGlzIG5vdCBzdXBwb3NlZCB0byBiZSBhY3R1YWwgY29udGVudC4iKX1jYXRjaCh0KXtoPW51bGx9aWYobnVsbD09PWgpe2lmKG51bGw9PT1zKXRocm93IG5ldyBFcnJvcigiV2UgY2FuJ3Qgc2tpcCBvdmVyIGFuIGludmFsaWQgdGFnIHdpdGggdW5kZWZpbmVkIGxlbmd0aCBhdCBvZmZzZXQgIitvKTtyLnBvcz1vK01hdGguYWJzKHMpfXJldHVybiBuZXcgTyhpLGEscyxuLGgpfSxPKTtmdW5jdGlvbiBPKHQsZSxpLHIsbil7aWYoIShyIGluc3RhbmNlb2YgUikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHRhZyB2YWx1ZS4iKTt0aGlzLnN0cmVhbT10LHRoaXMuaGVhZGVyPWUsdGhpcy5sZW5ndGg9aSx0aGlzLnRhZz1yLHRoaXMuc3ViPW59dmFyIEEsUj0oSS5wcm90b3R5cGUuaXNVbml2ZXJzYWw9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMudGFnQ2xhc3N9LEkucHJvdG90eXBlLmlzRU9DPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLnRhZ0NsYXNzJiYwPT09dGhpcy50YWdOdW1iZXJ9LEkpO2Z1bmN0aW9uIEkodCl7dmFyIGU9dC5nZXQoKTtpZih0aGlzLnRhZ0NsYXNzPWU+PjYsdGhpcy50YWdDb25zdHJ1Y3RlZD0wIT0oMzImZSksdGhpcy50YWdOdW1iZXI9MzEmZSwzMT09dGhpcy50YWdOdW1iZXIpe2Zvcih2YXIgaT1uZXcgbTtlPXQuZ2V0KCksaS5tdWxBZGQoMTI4LDEyNyZlKSwxMjgmZTspO3RoaXMudGFnTnVtYmVyPWkuc2ltcGxpZnkoKX19dmFyIFA9WzIsMyw1LDcsMTEsMTMsMTcsMTksMjMsMjksMzEsMzcsNDEsNDMsNDcsNTMsNTksNjEsNjcsNzEsNzMsNzksODMsODksOTcsMTAxLDEwMywxMDcsMTA5LDExMywxMjcsMTMxLDEzNywxMzksMTQ5LDE1MSwxNTcsMTYzLDE2NywxNzMsMTc5LDE4MSwxOTEsMTkzLDE5NywxOTksMjExLDIyMywyMjcsMjI5LDIzMywyMzksMjQxLDI1MSwyNTcsMjYzLDI2OSwyNzEsMjc3LDI4MSwyODMsMjkzLDMwNywzMTEsMzEzLDMxNywzMzEsMzM3LDM0NywzNDksMzUzLDM1OSwzNjcsMzczLDM3OSwzODMsMzg5LDM5Nyw0MDEsNDA5LDQxOSw0MjEsNDMxLDQzMyw0MzksNDQzLDQ0OSw0NTcsNDYxLDQ2Myw0NjcsNDc5LDQ4Nyw0OTEsNDk5LDUwMyw1MDksNTIxLDUyMyw1NDEsNTQ3LDU1Nyw1NjMsNTY5LDU3MSw1NzcsNTg3LDU5Myw1OTksNjAxLDYwNyw2MTMsNjE3LDYxOSw2MzEsNjQxLDY0Myw2NDcsNjUzLDY1OSw2NjEsNjczLDY3Nyw2ODMsNjkxLDcwMSw3MDksNzE5LDcyNyw3MzMsNzM5LDc0Myw3NTEsNzU3LDc2MSw3NjksNzczLDc4Nyw3OTcsODA5LDgxMSw4MjEsODIzLDgyNyw4MjksODM5LDg1Myw4NTcsODU5LDg2Myw4NzcsODgxLDg4Myw4ODcsOTA3LDkxMSw5MTksOTI5LDkzNyw5NDEsOTQ3LDk1Myw5NjcsOTcxLDk3Nyw5ODMsOTkxLDk5N10seD0oMTw8MjYpL1BbUC5sZW5ndGgtMV0sTT0oQy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7aWYodGhpcy5zPDApcmV0dXJuIi0iK3RoaXMubmVnYXRlKCkudG9TdHJpbmcodCk7dmFyIGU7aWYoMTY9PXQpZT00O2Vsc2UgaWYoOD09dCllPTM7ZWxzZSBpZigyPT10KWU9MTtlbHNlIGlmKDMyPT10KWU9NTtlbHNle2lmKDQhPXQpcmV0dXJuIHRoaXMudG9SYWRpeCh0KTtlPTJ9dmFyIGkscj0oMTw8ZSktMSxuPSExLHM9IiIsbz10aGlzLnQsYT10aGlzLkRCLW8qdGhpcy5EQiVlO2lmKDA8by0tKWZvcihhPHRoaXMuREImJjA8KGk9dGhpc1tvXT4+YSkmJihuPSEwLHM9aChpKSk7MDw9bzspYTxlPyhpPSh0aGlzW29dJigxPDxhKS0xKTw8ZS1hLGl8PXRoaXNbLS1vXT4+KGErPXRoaXMuREItZSkpOihpPXRoaXNbb10+PihhLT1lKSZyLGE8PTAmJihhKz10aGlzLkRCLC0tbykpLDA8aSYmKG49ITApLG4mJihzKz1oKGkpKTtyZXR1cm4gbj9zOiIwIn0sQy5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9aygpO3JldHVybiBDLlpFUk8uc3ViVG8odGhpcyx0KSx0fSxDLnByb3RvdHlwZS5hYnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zPDA/dGhpcy5uZWdhdGUoKTp0aGlzfSxDLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zLXQucztpZigwIT1lKXJldHVybiBlO3ZhciBpPXRoaXMudDtpZigwIT0oZT1pLXQudCkpcmV0dXJuIHRoaXMuczwwPy1lOmU7Zm9yKDswPD0tLWk7KWlmKDAhPShlPXRoaXNbaV0tdFtpXSkpcmV0dXJuIGU7cmV0dXJuIDB9LEMucHJvdG90eXBlLmJpdExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnQ8PTA/MDp0aGlzLkRCKih0aGlzLnQtMSkrJCh0aGlzW3RoaXMudC0xXV50aGlzLnMmdGhpcy5ETSl9LEMucHJvdG90eXBlLm1vZD1mdW5jdGlvbih0KXt2YXIgZT1rKCk7cmV0dXJuIHRoaXMuYWJzKCkuZGl2UmVtVG8odCxudWxsLGUpLHRoaXMuczwwJiYwPGUuY29tcGFyZVRvKEMuWkVSTykmJnQuc3ViVG8oZSxlKSxlfSxDLnByb3RvdHlwZS5tb2RQb3dJbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gaT10PDI1Nnx8ZS5pc0V2ZW4oKT9uZXcgTChlKTpuZXcgcShlKSx0aGlzLmV4cCh0LGkpfSxDLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciB0PWsoKTtyZXR1cm4gdGhpcy5jb3B5VG8odCksdH0sQy5wcm90b3R5cGUuaW50VmFsdWU9ZnVuY3Rpb24oKXtpZih0aGlzLnM8MCl7aWYoMT09dGhpcy50KXJldHVybiB0aGlzWzBdLXRoaXMuRFY7aWYoMD09dGhpcy50KXJldHVybi0xfWVsc2V7aWYoMT09dGhpcy50KXJldHVybiB0aGlzWzBdO2lmKDA9PXRoaXMudClyZXR1cm4gMH1yZXR1cm4odGhpc1sxXSYoMTw8MzItdGhpcy5EQiktMSk8PHRoaXMuREJ8dGhpc1swXX0sQy5wcm90b3R5cGUuYnl0ZVZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMudD90aGlzLnM6dGhpc1swXTw8MjQ+PjI0fSxDLnByb3RvdHlwZS5zaG9ydFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMudD90aGlzLnM6dGhpc1swXTw8MTY+PjE2fSxDLnByb3RvdHlwZS5zaWdudW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zPDA/LTE6dGhpcy50PD0wfHwxPT10aGlzLnQmJnRoaXNbMF08PTA/MDoxfSxDLnByb3RvdHlwZS50b0J5dGVBcnJheT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudCxlPVtdO2VbMF09dGhpcy5zO3ZhciBpLHI9dGhpcy5EQi10KnRoaXMuREIlOCxuPTA7aWYoMDx0LS0pZm9yKHI8dGhpcy5EQiYmKGk9dGhpc1t0XT4+cikhPSh0aGlzLnMmdGhpcy5ETSk+PnImJihlW24rK109aXx0aGlzLnM8PHRoaXMuREItcik7MDw9dDspcjw4PyhpPSh0aGlzW3RdJigxPDxyKS0xKTw8OC1yLGl8PXRoaXNbLS10XT4+KHIrPXRoaXMuREItOCkpOihpPXRoaXNbdF0+PihyLT04KSYyNTUscjw9MCYmKHIrPXRoaXMuREIsLS10KSksMCE9KDEyOCZpKSYmKGl8PS0yNTYpLDA9PW4mJigxMjgmdGhpcy5zKSE9KDEyOCZpKSYmKytuLCgwPG58fGkhPXRoaXMucykmJihlW24rK109aSk7cmV0dXJuIGV9LEMucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gMD09dGhpcy5jb21wYXJlVG8odCl9LEMucHJvdG90eXBlLm1pbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wYXJlVG8odCk8MD90aGlzOnR9LEMucHJvdG90eXBlLm1heD1mdW5jdGlvbih0KXtyZXR1cm4gMDx0aGlzLmNvbXBhcmVUbyh0KT90aGlzOnR9LEMucHJvdG90eXBlLmFuZD1mdW5jdGlvbih0KXt2YXIgZT1rKCk7cmV0dXJuIHRoaXMuYml0d2lzZVRvKHQsaSxlKSxlfSxDLnByb3RvdHlwZS5vcj1mdW5jdGlvbih0KXt2YXIgZT1rKCk7cmV0dXJuIHRoaXMuYml0d2lzZVRvKHQsdSxlKSxlfSxDLnByb3RvdHlwZS54b3I9ZnVuY3Rpb24odCl7dmFyIGU9aygpO3JldHVybiB0aGlzLmJpdHdpc2VUbyh0LHIsZSksZX0sQy5wcm90b3R5cGUuYW5kTm90PWZ1bmN0aW9uKHQpe3ZhciBlPWsoKTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8odCxuLGUpLGV9LEMucHJvdG90eXBlLm5vdD1mdW5jdGlvbigpe2Zvcih2YXIgdD1rKCksZT0wO2U8dGhpcy50OysrZSl0W2VdPXRoaXMuRE0mfnRoaXNbZV07cmV0dXJuIHQudD10aGlzLnQsdC5zPX50aGlzLnMsdH0sQy5wcm90b3R5cGUuc2hpZnRMZWZ0PWZ1bmN0aW9uKHQpe3ZhciBlPWsoKTtyZXR1cm4gdDwwP3RoaXMuclNoaWZ0VG8oLXQsZSk6dGhpcy5sU2hpZnRUbyh0LGUpLGV9LEMucHJvdG90eXBlLnNoaWZ0UmlnaHQ9ZnVuY3Rpb24odCl7dmFyIGU9aygpO3JldHVybiB0PDA/dGhpcy5sU2hpZnRUbygtdCxlKTp0aGlzLnJTaGlmdFRvKHQsZSksZX0sQy5wcm90b3R5cGUuZ2V0TG93ZXN0U2V0Qml0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLnQ7Kyt0KWlmKDAhPXRoaXNbdF0pcmV0dXJuIHQqdGhpcy5EQitzKHRoaXNbdF0pO3JldHVybiB0aGlzLnM8MD90aGlzLnQqdGhpcy5EQjotMX0sQy5wcm90b3R5cGUuYml0Q291bnQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMucyZ0aGlzLkRNLGk9MDtpPHRoaXMudDsrK2kpdCs9byh0aGlzW2ldXmUpO3JldHVybiB0fSxDLnByb3RvdHlwZS50ZXN0Qml0PWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguZmxvb3IodC90aGlzLkRCKTtyZXR1cm4gZT49dGhpcy50PzAhPXRoaXMuczowIT0odGhpc1tlXSYxPDx0JXRoaXMuREIpfSxDLnByb3RvdHlwZS5zZXRCaXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hhbmdlQml0KHQsdSl9LEMucHJvdG90eXBlLmNsZWFyQml0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoYW5nZUJpdCh0LG4pfSxDLnByb3RvdHlwZS5mbGlwQml0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoYW5nZUJpdCh0LHIpfSxDLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU9aygpO3JldHVybiB0aGlzLmFkZFRvKHQsZSksZX0sQy5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24odCl7dmFyIGU9aygpO3JldHVybiB0aGlzLnN1YlRvKHQsZSksZX0sQy5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24odCl7dmFyIGU9aygpO3JldHVybiB0aGlzLm11bHRpcGx5VG8odCxlKSxlfSxDLnByb3RvdHlwZS5kaXZpZGU9ZnVuY3Rpb24odCl7dmFyIGU9aygpO3JldHVybiB0aGlzLmRpdlJlbVRvKHQsZSxudWxsKSxlfSxDLnByb3RvdHlwZS5yZW1haW5kZXI9ZnVuY3Rpb24odCl7dmFyIGU9aygpO3JldHVybiB0aGlzLmRpdlJlbVRvKHQsbnVsbCxlKSxlfSxDLnByb3RvdHlwZS5kaXZpZGVBbmRSZW1haW5kZXI9ZnVuY3Rpb24odCl7dmFyIGU9aygpLGk9aygpO3JldHVybiB0aGlzLmRpdlJlbVRvKHQsZSxpKSxbZSxpXX0sQy5wcm90b3R5cGUubW9kUG93PWZ1bmN0aW9uKHQsZSl7dmFyIGkscixuPXQuYml0TGVuZ3RoKCkscz1ZKDEpO2lmKG48PTApcmV0dXJuIHM7aT1uPDE4PzE6bjw0OD8zOm48MTQ0PzQ6bjw3Njg/NTo2LHI9bjw4P25ldyBMKGUpOmUuaXNFdmVuKCk/bmV3IEsoZSk6bmV3IHEoZSk7dmFyIG89W10sYT0zLGg9aS0xLHU9KDE8PGkpLTE7aWYob1sxXT1yLmNvbnZlcnQodGhpcyksMTxpKXt2YXIgYz1rKCk7Zm9yKHIuc3FyVG8ob1sxXSxjKTthPD11OylvW2FdPWsoKSxyLm11bFRvKGMsb1thLTJdLG9bYV0pLGErPTJ9dmFyIGYsbCxwPXQudC0xLGQ9ITAsZz1rKCk7Zm9yKG49JCh0W3BdKS0xOzA8PXA7KXtmb3IoaDw9bj9mPXRbcF0+Pm4taCZ1OihmPSh0W3BdJigxPDxuKzEpLTEpPDxoLW4sMDxwJiYoZnw9dFtwLTFdPj50aGlzLkRCK24taCkpLGE9aTswPT0oMSZmKTspZj4+PTEsLS1hO2lmKChuLT1hKTwwJiYobis9dGhpcy5EQiwtLXApLGQpb1tmXS5jb3B5VG8ocyksZD0hMTtlbHNle2Zvcig7MTxhOylyLnNxclRvKHMsZyksci5zcXJUbyhnLHMpLGEtPTI7MDxhP3Iuc3FyVG8ocyxnKToobD1zLHM9ZyxnPWwpLHIubXVsVG8oZyxvW2ZdLHMpfWZvcig7MDw9cCYmMD09KHRbcF0mMTw8bik7KXIuc3FyVG8ocyxnKSxsPXMscz1nLGc9bCwtLW48MCYmKG49dGhpcy5EQi0xLC0tcCl9cmV0dXJuIHIucmV2ZXJ0KHMpfSxDLnByb3RvdHlwZS5tb2RJbnZlcnNlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaXNFdmVuKCk7aWYodGhpcy5pc0V2ZW4oKSYmZXx8MD09dC5zaWdudW0oKSlyZXR1cm4gQy5aRVJPO2Zvcih2YXIgaT10LmNsb25lKCkscj10aGlzLmNsb25lKCksbj1ZKDEpLHM9WSgwKSxvPVkoMCksYT1ZKDEpOzAhPWkuc2lnbnVtKCk7KXtmb3IoO2kuaXNFdmVuKCk7KWkuclNoaWZ0VG8oMSxpKSxlPyhuLmlzRXZlbigpJiZzLmlzRXZlbigpfHwobi5hZGRUbyh0aGlzLG4pLHMuc3ViVG8odCxzKSksbi5yU2hpZnRUbygxLG4pKTpzLmlzRXZlbigpfHxzLnN1YlRvKHQscykscy5yU2hpZnRUbygxLHMpO2Zvcig7ci5pc0V2ZW4oKTspci5yU2hpZnRUbygxLHIpLGU/KG8uaXNFdmVuKCkmJmEuaXNFdmVuKCl8fChvLmFkZFRvKHRoaXMsbyksYS5zdWJUbyh0LGEpKSxvLnJTaGlmdFRvKDEsbykpOmEuaXNFdmVuKCl8fGEuc3ViVG8odCxhKSxhLnJTaGlmdFRvKDEsYSk7MDw9aS5jb21wYXJlVG8ocik/KGkuc3ViVG8ocixpKSxlJiZuLnN1YlRvKG8sbikscy5zdWJUbyhhLHMpKTooci5zdWJUbyhpLHIpLGUmJm8uc3ViVG8obixvKSxhLnN1YlRvKHMsYSkpfXJldHVybiAwIT1yLmNvbXBhcmVUbyhDLk9ORSk/Qy5aRVJPOjA8PWEuY29tcGFyZVRvKHQpP2Euc3VidHJhY3QodCk6YS5zaWdudW0oKTwwPyhhLmFkZFRvKHQsYSksYS5zaWdudW0oKTwwP2EuYWRkKHQpOmEpOmF9LEMucHJvdG90eXBlLnBvdz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5leHAodCxuZXcgVil9LEMucHJvdG90eXBlLmdjZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnM8MD90aGlzLm5lZ2F0ZSgpOnRoaXMuY2xvbmUoKSxpPXQuczwwP3QubmVnYXRlKCk6dC5jbG9uZSgpO2lmKGUuY29tcGFyZVRvKGkpPDApe3ZhciByPWU7ZT1pLGk9cn12YXIgbj1lLmdldExvd2VzdFNldEJpdCgpLHM9aS5nZXRMb3dlc3RTZXRCaXQoKTtpZihzPDApcmV0dXJuIGU7Zm9yKG48cyYmKHM9biksMDxzJiYoZS5yU2hpZnRUbyhzLGUpLGkuclNoaWZ0VG8ocyxpKSk7MDxlLnNpZ251bSgpOykwPChuPWUuZ2V0TG93ZXN0U2V0Qml0KCkpJiZlLnJTaGlmdFRvKG4sZSksMDwobj1pLmdldExvd2VzdFNldEJpdCgpKSYmaS5yU2hpZnRUbyhuLGkpLDA8PWUuY29tcGFyZVRvKGkpPyhlLnN1YlRvKGksZSksZS5yU2hpZnRUbygxLGUpKTooaS5zdWJUbyhlLGkpLGkuclNoaWZ0VG8oMSxpKSk7cmV0dXJuIDA8cyYmaS5sU2hpZnRUbyhzLGkpLGl9LEMucHJvdG90eXBlLmlzUHJvYmFibGVQcmltZT1mdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuYWJzKCk7aWYoMT09aS50JiZpWzBdPD1QW1AubGVuZ3RoLTFdKXtmb3IoZT0wO2U8UC5sZW5ndGg7KytlKWlmKGlbMF09PVBbZV0pcmV0dXJuITA7cmV0dXJuITF9aWYoaS5pc0V2ZW4oKSlyZXR1cm4hMTtmb3IoZT0xO2U8UC5sZW5ndGg7KXtmb3IodmFyIHI9UFtlXSxuPWUrMTtuPFAubGVuZ3RoJiZyPHg7KXIqPVBbbisrXTtmb3Iocj1pLm1vZEludChyKTtlPG47KWlmKHIlUFtlKytdPT0wKXJldHVybiExfXJldHVybiBpLm1pbGxlclJhYmluKHQpfSxDLnByb3RvdHlwZS5jb3B5VG89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudC0xOzA8PWU7LS1lKXRbZV09dGhpc1tlXTt0LnQ9dGhpcy50LHQucz10aGlzLnN9LEMucHJvdG90eXBlLmZyb21JbnQ9ZnVuY3Rpb24odCl7dGhpcy50PTEsdGhpcy5zPXQ8MD8tMTowLDA8dD90aGlzWzBdPXQ6dDwtMT90aGlzWzBdPXQrdGhpcy5EVjp0aGlzLnQ9MH0sQy5wcm90b3R5cGUuZnJvbVN0cmluZz1mdW5jdGlvbih0LGUpe3ZhciBpO2lmKDE2PT1lKWk9NDtlbHNlIGlmKDg9PWUpaT0zO2Vsc2UgaWYoMjU2PT1lKWk9ODtlbHNlIGlmKDI9PWUpaT0xO2Vsc2UgaWYoMzI9PWUpaT01O2Vsc2V7aWYoNCE9ZSlyZXR1cm4gdm9pZCB0aGlzLmZyb21SYWRpeCh0LGUpO2k9Mn10aGlzLnQ9MCx0aGlzLnM9MDtmb3IodmFyIHI9dC5sZW5ndGgsbj0hMSxzPTA7MDw9LS1yOyl7dmFyIG89OD09aT8yNTUmK3Rbcl06Wih0LHIpO288MD8iLSI9PXQuY2hhckF0KHIpJiYobj0hMCk6KG49ITEsMD09cz90aGlzW3RoaXMudCsrXT1vOnMraT50aGlzLkRCPyh0aGlzW3RoaXMudC0xXXw9KG8mKDE8PHRoaXMuREItcyktMSk8PHMsdGhpc1t0aGlzLnQrK109bz4+dGhpcy5EQi1zKTp0aGlzW3RoaXMudC0xXXw9bzw8cywocys9aSk+PXRoaXMuREImJihzLT10aGlzLkRCKSl9OD09aSYmMCE9KDEyOCYrdFswXSkmJih0aGlzLnM9LTEsMDxzJiYodGhpc1t0aGlzLnQtMV18PSgxPDx0aGlzLkRCLXMpLTE8PHMpKSx0aGlzLmNsYW1wKCksbiYmQy5aRVJPLnN1YlRvKHRoaXMsdGhpcyl9LEMucHJvdG90eXBlLmNsYW1wPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucyZ0aGlzLkRNOzA8dGhpcy50JiZ0aGlzW3RoaXMudC0xXT09dDspLS10aGlzLnR9LEMucHJvdG90eXBlLmRsU2hpZnRUbz1mdW5jdGlvbih0LGUpe3ZhciBpO2ZvcihpPXRoaXMudC0xOzA8PWk7LS1pKWVbaSt0XT10aGlzW2ldO2ZvcihpPXQtMTswPD1pOy0taSllW2ldPTA7ZS50PXRoaXMudCt0LGUucz10aGlzLnN9LEMucHJvdG90eXBlLmRyU2hpZnRUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10O2k8dGhpcy50OysraSllW2ktdF09dGhpc1tpXTtlLnQ9TWF0aC5tYXgodGhpcy50LXQsMCksZS5zPXRoaXMuc30sQy5wcm90b3R5cGUubFNoaWZ0VG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dCV0aGlzLkRCLHI9dGhpcy5EQi1pLG49KDE8PHIpLTEscz1NYXRoLmZsb29yKHQvdGhpcy5EQiksbz10aGlzLnM8PGkmdGhpcy5ETSxhPXRoaXMudC0xOzA8PWE7LS1hKWVbYStzKzFdPXRoaXNbYV0+PnJ8byxvPSh0aGlzW2FdJm4pPDxpO2ZvcihhPXMtMTswPD1hOy0tYSllW2FdPTA7ZVtzXT1vLGUudD10aGlzLnQrcysxLGUucz10aGlzLnMsZS5jbGFtcCgpfSxDLnByb3RvdHlwZS5yU2hpZnRUbz1mdW5jdGlvbih0LGUpe2Uucz10aGlzLnM7dmFyIGk9TWF0aC5mbG9vcih0L3RoaXMuREIpO2lmKGk+PXRoaXMudCllLnQ9MDtlbHNle3ZhciByPXQldGhpcy5EQixuPXRoaXMuREItcixzPSgxPDxyKS0xO2VbMF09dGhpc1tpXT4+cjtmb3IodmFyIG89aSsxO288dGhpcy50OysrbyllW28taS0xXXw9KHRoaXNbb10mcyk8PG4sZVtvLWldPXRoaXNbb10+PnI7MDxyJiYoZVt0aGlzLnQtaS0xXXw9KHRoaXMucyZzKTw8biksZS50PXRoaXMudC1pLGUuY2xhbXAoKX19LEMucHJvdG90eXBlLnN1YlRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTAscj0wLG49TWF0aC5taW4odC50LHRoaXMudCk7aTxuOylyKz10aGlzW2ldLXRbaV0sZVtpKytdPXImdGhpcy5ETSxyPj49dGhpcy5EQjtpZih0LnQ8dGhpcy50KXtmb3Ioci09dC5zO2k8dGhpcy50OylyKz10aGlzW2ldLGVbaSsrXT1yJnRoaXMuRE0scj4+PXRoaXMuREI7cis9dGhpcy5zfWVsc2V7Zm9yKHIrPXRoaXMucztpPHQudDspci09dFtpXSxlW2krK109ciZ0aGlzLkRNLHI+Pj10aGlzLkRCO3ItPXQuc31lLnM9cjwwPy0xOjAscjwtMT9lW2krK109dGhpcy5EVityOjA8ciYmKGVbaSsrXT1yKSxlLnQ9aSxlLmNsYW1wKCl9LEMucHJvdG90eXBlLm11bHRpcGx5VG89ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmFicygpLHI9dC5hYnMoKSxuPWkudDtmb3IoZS50PW4rci50OzA8PS0tbjspZVtuXT0wO2ZvcihuPTA7bjxyLnQ7KytuKWVbbitpLnRdPWkuYW0oMCxyW25dLGUsbiwwLGkudCk7ZS5zPTAsZS5jbGFtcCgpLHRoaXMucyE9dC5zJiZDLlpFUk8uc3ViVG8oZSxlKX0sQy5wcm90b3R5cGUuc3F1YXJlVG89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYWJzKCksaT10LnQ9MiplLnQ7MDw9LS1pOyl0W2ldPTA7Zm9yKGk9MDtpPGUudC0xOysraSl7dmFyIHI9ZS5hbShpLGVbaV0sdCwyKmksMCwxKTsodFtpK2UudF0rPWUuYW0oaSsxLDIqZVtpXSx0LDIqaSsxLHIsZS50LWktMSkpPj1lLkRWJiYodFtpK2UudF0tPWUuRFYsdFtpK2UudCsxXT0xKX0wPHQudCYmKHRbdC50LTFdKz1lLmFtKGksZVtpXSx0LDIqaSwwLDEpKSx0LnM9MCx0LmNsYW1wKCl9LEMucHJvdG90eXBlLmRpdlJlbVRvPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10LmFicygpO2lmKCEoci50PD0wKSl7dmFyIG49dGhpcy5hYnMoKTtpZihuLnQ8ci50KXJldHVybiBudWxsIT1lJiZlLmZyb21JbnQoMCksdm9pZChudWxsIT1pJiZ0aGlzLmNvcHlUbyhpKSk7bnVsbD09aSYmKGk9aygpKTt2YXIgcz1rKCksbz10aGlzLnMsYT10LnMsaD10aGlzLkRCLSQocltyLnQtMV0pOzA8aD8oci5sU2hpZnRUbyhoLHMpLG4ubFNoaWZ0VG8oaCxpKSk6KHIuY29weVRvKHMpLG4uY29weVRvKGkpKTt2YXIgdT1zLnQsYz1zW3UtMV07aWYoMCE9Yyl7dmFyIGY9YyooMTw8dGhpcy5GMSkrKDE8dT9zW3UtMl0+PnRoaXMuRjI6MCksbD10aGlzLkZWL2YscD0oMTw8dGhpcy5GMSkvZixkPTE8PHRoaXMuRjIsZz1pLnQsXz1nLXUsdj1udWxsPT1lP2soKTplO2ZvcihzLmRsU2hpZnRUbyhfLHYpLDA8PWkuY29tcGFyZVRvKHYpJiYoaVtpLnQrK109MSxpLnN1YlRvKHYsaSkpLEMuT05FLmRsU2hpZnRUbyh1LHYpLHYuc3ViVG8ocyxzKTtzLnQ8dTspc1tzLnQrK109MDtmb3IoOzA8PS0tXzspe3ZhciBtPWlbLS1nXT09Yz90aGlzLkRNOk1hdGguZmxvb3IoaVtnXSpsKyhpW2ctMV0rZCkqcCk7aWYoKGlbZ10rPXMuYW0oMCxtLGksXywwLHUpKTxtKWZvcihzLmRsU2hpZnRUbyhfLHYpLGkuc3ViVG8odixpKTtpW2ddPC0tbTspaS5zdWJUbyh2LGkpfW51bGwhPWUmJihpLmRyU2hpZnRUbyh1LGUpLG8hPWEmJkMuWkVSTy5zdWJUbyhlLGUpKSxpLnQ9dSxpLmNsYW1wKCksMDxoJiZpLnJTaGlmdFRvKGgsaSksbzwwJiZDLlpFUk8uc3ViVG8oaSxpKX19fSxDLnByb3RvdHlwZS5pbnZEaWdpdD1mdW5jdGlvbigpe2lmKHRoaXMudDwxKXJldHVybiAwO3ZhciB0PXRoaXNbMF07aWYoMD09KDEmdCkpcmV0dXJuIDA7dmFyIGU9MyZ0O3JldHVybiAwPChlPShlPShlPShlPWUqKDItKDE1JnQpKmUpJjE1KSooMi0oMjU1JnQpKmUpJjI1NSkqKDItKCg2NTUzNSZ0KSplJjY1NTM1KSkmNjU1MzUpKigyLXQqZSV0aGlzLkRWKSV0aGlzLkRWKT90aGlzLkRWLWU6LWV9LEMucHJvdG90eXBlLmlzRXZlbj1mdW5jdGlvbigpe3JldHVybiAwPT0oMDx0aGlzLnQ/MSZ0aGlzWzBdOnRoaXMucyl9LEMucHJvdG90eXBlLmV4cD1mdW5jdGlvbih0LGUpe2lmKDQyOTQ5NjcyOTU8dHx8dDwxKXJldHVybiBDLk9ORTt2YXIgaT1rKCkscj1rKCksbj1lLmNvbnZlcnQodGhpcykscz0kKHQpLTE7Zm9yKG4uY29weVRvKGkpOzA8PS0tczspaWYoZS5zcXJUbyhpLHIpLDA8KHQmMTw8cykpZS5tdWxUbyhyLG4saSk7ZWxzZXt2YXIgbz1pO2k9cixyPW99cmV0dXJuIGUucmV2ZXJ0KGkpfSxDLnByb3RvdHlwZS5jaHVua1NpemU9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5MTjIqdGhpcy5EQi9NYXRoLmxvZyh0KSl9LEMucHJvdG90eXBlLnRvUmFkaXg9ZnVuY3Rpb24odCl7aWYobnVsbD09dCYmKHQ9MTApLDA9PXRoaXMuc2lnbnVtKCl8fHQ8Mnx8MzY8dClyZXR1cm4iMCI7dmFyIGU9dGhpcy5jaHVua1NpemUodCksaT1NYXRoLnBvdyh0LGUpLHI9WShpKSxuPWsoKSxzPWsoKSxvPSIiO2Zvcih0aGlzLmRpdlJlbVRvKHIsbixzKTswPG4uc2lnbnVtKCk7KW89KGkrcy5pbnRWYWx1ZSgpKS50b1N0cmluZyh0KS5zdWJzdHIoMSkrbyxuLmRpdlJlbVRvKHIsbixzKTtyZXR1cm4gcy5pbnRWYWx1ZSgpLnRvU3RyaW5nKHQpK299LEMucHJvdG90eXBlLmZyb21SYWRpeD1mdW5jdGlvbih0LGUpe3RoaXMuZnJvbUludCgwKSxudWxsPT1lJiYoZT0xMCk7Zm9yKHZhciBpPXRoaXMuY2h1bmtTaXplKGUpLHI9TWF0aC5wb3coZSxpKSxuPSExLHM9MCxvPTAsYT0wO2E8dC5sZW5ndGg7KythKXt2YXIgaD1aKHQsYSk7aDwwPyItIj09dC5jaGFyQXQoYSkmJjA9PXRoaXMuc2lnbnVtKCkmJihuPSEwKToobz1lKm8raCwrK3M+PWkmJih0aGlzLmRNdWx0aXBseShyKSx0aGlzLmRBZGRPZmZzZXQobywwKSxvPXM9MCkpfTA8cyYmKHRoaXMuZE11bHRpcGx5KE1hdGgucG93KGUscykpLHRoaXMuZEFkZE9mZnNldChvLDApKSxuJiZDLlpFUk8uc3ViVG8odGhpcyx0aGlzKX0sQy5wcm90b3R5cGUuZnJvbU51bWJlcj1mdW5jdGlvbih0LGUsaSl7aWYoIm51bWJlciI9PXR5cGVvZiBlKWlmKHQ8Mil0aGlzLmZyb21JbnQoMSk7ZWxzZSBmb3IodGhpcy5mcm9tTnVtYmVyKHQsaSksdGhpcy50ZXN0Qml0KHQtMSl8fHRoaXMuYml0d2lzZVRvKEMuT05FLnNoaWZ0TGVmdCh0LTEpLHUsdGhpcyksdGhpcy5pc0V2ZW4oKSYmdGhpcy5kQWRkT2Zmc2V0KDEsMCk7IXRoaXMuaXNQcm9iYWJsZVByaW1lKGUpOyl0aGlzLmRBZGRPZmZzZXQoMiwwKSx0aGlzLmJpdExlbmd0aCgpPnQmJnRoaXMuc3ViVG8oQy5PTkUuc2hpZnRMZWZ0KHQtMSksdGhpcyk7ZWxzZXt2YXIgcj1bXSxuPTcmdDtyLmxlbmd0aD0xKyh0Pj4zKSxlLm5leHRCeXRlcyhyKSwwPG4/clswXSY9KDE8PG4pLTE6clswXT0wLHRoaXMuZnJvbVN0cmluZyhyLDI1Nil9fSxDLnByb3RvdHlwZS5iaXR3aXNlVG89ZnVuY3Rpb24odCxlLGkpe3ZhciByLG4scz1NYXRoLm1pbih0LnQsdGhpcy50KTtmb3Iocj0wO3I8czsrK3IpaVtyXT1lKHRoaXNbcl0sdFtyXSk7aWYodC50PHRoaXMudCl7Zm9yKG49dC5zJnRoaXMuRE0scj1zO3I8dGhpcy50OysrcilpW3JdPWUodGhpc1tyXSxuKTtpLnQ9dGhpcy50fWVsc2V7Zm9yKG49dGhpcy5zJnRoaXMuRE0scj1zO3I8dC50OysrcilpW3JdPWUobix0W3JdKTtpLnQ9dC50fWkucz1lKHRoaXMucyx0LnMpLGkuY2xhbXAoKX0sQy5wcm90b3R5cGUuY2hhbmdlQml0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9Qy5PTkUuc2hpZnRMZWZ0KHQpO3JldHVybiB0aGlzLmJpdHdpc2VUbyhpLGUsaSksaX0sQy5wcm90b3R5cGUuYWRkVG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MCxyPTAsbj1NYXRoLm1pbih0LnQsdGhpcy50KTtpPG47KXIrPXRoaXNbaV0rdFtpXSxlW2krK109ciZ0aGlzLkRNLHI+Pj10aGlzLkRCO2lmKHQudDx0aGlzLnQpe2ZvcihyKz10LnM7aTx0aGlzLnQ7KXIrPXRoaXNbaV0sZVtpKytdPXImdGhpcy5ETSxyPj49dGhpcy5EQjtyKz10aGlzLnN9ZWxzZXtmb3Iocis9dGhpcy5zO2k8dC50OylyKz10W2ldLGVbaSsrXT1yJnRoaXMuRE0scj4+PXRoaXMuREI7cis9dC5zfWUucz1yPDA/LTE6MCwwPHI/ZVtpKytdPXI6cjwtMSYmKGVbaSsrXT10aGlzLkRWK3IpLGUudD1pLGUuY2xhbXAoKX0sQy5wcm90b3R5cGUuZE11bHRpcGx5PWZ1bmN0aW9uKHQpe3RoaXNbdGhpcy50XT10aGlzLmFtKDAsdC0xLHRoaXMsMCwwLHRoaXMudCksKyt0aGlzLnQsdGhpcy5jbGFtcCgpfSxDLnByb3RvdHlwZS5kQWRkT2Zmc2V0PWZ1bmN0aW9uKHQsZSl7aWYoMCE9dCl7Zm9yKDt0aGlzLnQ8PWU7KXRoaXNbdGhpcy50KytdPTA7Zm9yKHRoaXNbZV0rPXQ7dGhpc1tlXT49dGhpcy5EVjspdGhpc1tlXS09dGhpcy5EViwrK2U+PXRoaXMudCYmKHRoaXNbdGhpcy50KytdPTApLCsrdGhpc1tlXX19LEMucHJvdG90eXBlLm11bHRpcGx5TG93ZXJUbz1mdW5jdGlvbih0LGUsaSl7dmFyIHI9TWF0aC5taW4odGhpcy50K3QudCxlKTtmb3IoaS5zPTAsaS50PXI7MDxyOylpWy0tcl09MDtmb3IodmFyIG49aS50LXRoaXMudDtyPG47KytyKWlbcit0aGlzLnRdPXRoaXMuYW0oMCx0W3JdLGksciwwLHRoaXMudCk7Zm9yKG49TWF0aC5taW4odC50LGUpO3I8bjsrK3IpdGhpcy5hbSgwLHRbcl0saSxyLDAsZS1yKTtpLmNsYW1wKCl9LEMucHJvdG90eXBlLm11bHRpcGx5VXBwZXJUbz1mdW5jdGlvbih0LGUsaSl7LS1lO3ZhciByPWkudD10aGlzLnQrdC50LWU7Zm9yKGkucz0wOzA8PS0tcjspaVtyXT0wO2ZvcihyPU1hdGgubWF4KGUtdGhpcy50LDApO3I8dC50OysrcilpW3RoaXMudCtyLWVdPXRoaXMuYW0oZS1yLHRbcl0saSwwLDAsdGhpcy50K3ItZSk7aS5jbGFtcCgpLGkuZHJTaGlmdFRvKDEsaSl9LEMucHJvdG90eXBlLm1vZEludD1mdW5jdGlvbih0KXtpZih0PD0wKXJldHVybiAwO3ZhciBlPXRoaXMuRFYldCxpPXRoaXMuczwwP3QtMTowO2lmKDA8dGhpcy50KWlmKDA9PWUpaT10aGlzWzBdJXQ7ZWxzZSBmb3IodmFyIHI9dGhpcy50LTE7MDw9cjstLXIpaT0oZSppK3RoaXNbcl0pJXQ7cmV0dXJuIGl9LEMucHJvdG90eXBlLm1pbGxlclJhYmluPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3VidHJhY3QoQy5PTkUpLGk9ZS5nZXRMb3dlc3RTZXRCaXQoKTtpZihpPD0wKXJldHVybiExO3ZhciByPWUuc2hpZnRSaWdodChpKTtQLmxlbmd0aDwodD10KzE+PjEpJiYodD1QLmxlbmd0aCk7Zm9yKHZhciBuPWsoKSxzPTA7czx0Oysrcyl7bi5mcm9tSW50KFBbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKlAubGVuZ3RoKV0pO3ZhciBvPW4ubW9kUG93KHIsdGhpcyk7aWYoMCE9by5jb21wYXJlVG8oQy5PTkUpJiYwIT1vLmNvbXBhcmVUbyhlKSl7Zm9yKHZhciBhPTE7YSsrPGkmJjAhPW8uY29tcGFyZVRvKGUpOylpZigwPT0obz1vLm1vZFBvd0ludCgyLHRoaXMpKS5jb21wYXJlVG8oQy5PTkUpKXJldHVybiExO2lmKDAhPW8uY29tcGFyZVRvKGUpKXJldHVybiExfX1yZXR1cm4hMH0sQy5wcm90b3R5cGUuc3F1YXJlPWZ1bmN0aW9uKCl7dmFyIHQ9aygpO3JldHVybiB0aGlzLnNxdWFyZVRvKHQpLHR9LEMucHJvdG90eXBlLmdjZGE9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnM8MD90aGlzLm5lZ2F0ZSgpOnRoaXMuY2xvbmUoKSxyPXQuczwwP3QubmVnYXRlKCk6dC5jbG9uZSgpO2lmKGkuY29tcGFyZVRvKHIpPDApe3ZhciBuPWk7aT1yLHI9bn12YXIgcz1pLmdldExvd2VzdFNldEJpdCgpLG89ci5nZXRMb3dlc3RTZXRCaXQoKTtpZihvPDApZShpKTtlbHNle3M8byYmKG89cyksMDxvJiYoaS5yU2hpZnRUbyhvLGkpLHIuclNoaWZ0VG8obyxyKSk7dmFyIGE9ZnVuY3Rpb24oKXswPChzPWkuZ2V0TG93ZXN0U2V0Qml0KCkpJiZpLnJTaGlmdFRvKHMsaSksMDwocz1yLmdldExvd2VzdFNldEJpdCgpKSYmci5yU2hpZnRUbyhzLHIpLDA8PWkuY29tcGFyZVRvKHIpPyhpLnN1YlRvKHIsaSksaS5yU2hpZnRUbygxLGkpKTooci5zdWJUbyhpLHIpLHIuclNoaWZ0VG8oMSxyKSksMDxpLnNpZ251bSgpP3NldFRpbWVvdXQoYSwwKTooMDxvJiZyLmxTaGlmdFRvKG8sciksc2V0VGltZW91dChmdW5jdGlvbigpe2Uocil9LDApKX07c2V0VGltZW91dChhLDEwKX19LEMucHJvdG90eXBlLmZyb21OdW1iZXJBc3luYz1mdW5jdGlvbih0LGUsaSxyKXtpZigibnVtYmVyIj09dHlwZW9mIGUpaWYodDwyKXRoaXMuZnJvbUludCgxKTtlbHNle3RoaXMuZnJvbU51bWJlcih0LGkpLHRoaXMudGVzdEJpdCh0LTEpfHx0aGlzLmJpdHdpc2VUbyhDLk9ORS5zaGlmdExlZnQodC0xKSx1LHRoaXMpLHRoaXMuaXNFdmVuKCkmJnRoaXMuZEFkZE9mZnNldCgxLDApO3ZhciBuPXRoaXMscz1mdW5jdGlvbigpe24uZEFkZE9mZnNldCgyLDApLG4uYml0TGVuZ3RoKCk+dCYmbi5zdWJUbyhDLk9ORS5zaGlmdExlZnQodC0xKSxuKSxuLmlzUHJvYmFibGVQcmltZShlKT9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigpfSwwKTpzZXRUaW1lb3V0KHMsMCl9O3NldFRpbWVvdXQocywwKX1lbHNle3ZhciBvPVtdLGE9NyZ0O28ubGVuZ3RoPTErKHQ+PjMpLGUubmV4dEJ5dGVzKG8pLDA8YT9vWzBdJj0oMTw8YSktMTpvWzBdPTAsdGhpcy5mcm9tU3RyaW5nKG8sMjU2KX19LEMpO2Z1bmN0aW9uIEModCxlLGkpe251bGwhPXQmJigibnVtYmVyIj09dHlwZW9mIHQ/dGhpcy5mcm9tTnVtYmVyKHQsZSxpKTpudWxsPT1lJiYic3RyaW5nIiE9dHlwZW9mIHQ/dGhpcy5mcm9tU3RyaW5nKHQsMjU2KTp0aGlzLmZyb21TdHJpbmcodCxlKSl9dmFyIFY9KE4ucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LE4ucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sTi5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24odCxlLGkpe3QubXVsdGlwbHlUbyhlLGkpfSxOLnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbih0LGUpe3Quc3F1YXJlVG8oZSl9LE4pO2Z1bmN0aW9uIE4oKXt9dmFyIEw9KFUucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuczwwfHwwPD10LmNvbXBhcmVUbyh0aGlzLm0pP3QubW9kKHRoaXMubSk6dH0sVS5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0fSxVLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCl7dC5kaXZSZW1Ubyh0aGlzLm0sbnVsbCx0KX0sVS5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24odCxlLGkpe3QubXVsdGlwbHlUbyhlLGkpLHRoaXMucmVkdWNlKGkpfSxVLnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbih0LGUpe3Quc3F1YXJlVG8oZSksdGhpcy5yZWR1Y2UoZSl9LFUpO2Z1bmN0aW9uIFUodCl7dGhpcy5tPXR9dmFyIHE9KGoucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24odCl7dmFyIGU9aygpO3JldHVybiB0LmFicygpLmRsU2hpZnRUbyh0aGlzLm0udCxlKSxlLmRpdlJlbVRvKHRoaXMubSxudWxsLGUpLHQuczwwJiYwPGUuY29tcGFyZVRvKE0uWkVSTykmJnRoaXMubS5zdWJUbyhlLGUpLGV9LGoucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbih0KXt2YXIgZT1rKCk7cmV0dXJuIHQuY29weVRvKGUpLHRoaXMucmVkdWNlKGUpLGV9LGoucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0KXtmb3IoO3QudDw9dGhpcy5tdDI7KXRbdC50KytdPTA7Zm9yKHZhciBlPTA7ZTx0aGlzLm0udDsrK2Upe3ZhciBpPTMyNzY3JnRbZV0scj1pKnRoaXMubXBsKygoaSp0aGlzLm1waCsodFtlXT4+MTUpKnRoaXMubXBsJnRoaXMudW0pPDwxNSkmdC5ETTtmb3IodFtpPWUrdGhpcy5tLnRdKz10aGlzLm0uYW0oMCxyLHQsZSwwLHRoaXMubS50KTt0W2ldPj10LkRWOyl0W2ldLT10LkRWLHRbKytpXSsrfXQuY2xhbXAoKSx0LmRyU2hpZnRUbyh0aGlzLm0udCx0KSwwPD10LmNvbXBhcmVUbyh0aGlzLm0pJiZ0LnN1YlRvKHRoaXMubSx0KX0sai5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24odCxlLGkpe3QubXVsdGlwbHlUbyhlLGkpLHRoaXMucmVkdWNlKGkpfSxqLnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbih0LGUpe3Quc3F1YXJlVG8oZSksdGhpcy5yZWR1Y2UoZSl9LGopO2Z1bmN0aW9uIGoodCl7dGhpcy5tPXQsdGhpcy5tcD10LmludkRpZ2l0KCksdGhpcy5tcGw9MzI3NjcmdGhpcy5tcCx0aGlzLm1waD10aGlzLm1wPj4xNSx0aGlzLnVtPSgxPDx0LkRCLTE1KS0xLHRoaXMubXQyPTIqdC50fXZhciBLPShILnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe2lmKHQuczwwfHx0LnQ+Mip0aGlzLm0udClyZXR1cm4gdC5tb2QodGhpcy5tKTtpZih0LmNvbXBhcmVUbyh0aGlzLm0pPDApcmV0dXJuIHQ7dmFyIGU9aygpO3JldHVybiB0LmNvcHlUbyhlKSx0aGlzLnJlZHVjZShlKSxlfSxILnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LEgucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0KXtmb3IodC5kclNoaWZ0VG8odGhpcy5tLnQtMSx0aGlzLnIyKSx0LnQ+dGhpcy5tLnQrMSYmKHQudD10aGlzLm0udCsxLHQuY2xhbXAoKSksdGhpcy5tdS5tdWx0aXBseVVwcGVyVG8odGhpcy5yMix0aGlzLm0udCsxLHRoaXMucTMpLHRoaXMubS5tdWx0aXBseUxvd2VyVG8odGhpcy5xMyx0aGlzLm0udCsxLHRoaXMucjIpO3QuY29tcGFyZVRvKHRoaXMucjIpPDA7KXQuZEFkZE9mZnNldCgxLHRoaXMubS50KzEpO2Zvcih0LnN1YlRvKHRoaXMucjIsdCk7MDw9dC5jb21wYXJlVG8odGhpcy5tKTspdC5zdWJUbyh0aGlzLm0sdCl9LEgucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHQsZSxpKXt0Lm11bHRpcGx5VG8oZSxpKSx0aGlzLnJlZHVjZShpKX0sSC5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24odCxlKXt0LnNxdWFyZVRvKGUpLHRoaXMucmVkdWNlKGUpfSxIKTtmdW5jdGlvbiBIKHQpe3RoaXMubT10LHRoaXMucjI9aygpLHRoaXMucTM9aygpLE0uT05FLmRsU2hpZnRUbygyKnQudCx0aGlzLnIyKSx0aGlzLm11PXRoaXMucjIuZGl2aWRlKHQpfWZ1bmN0aW9uIGsoKXtyZXR1cm4gbmV3IE0obnVsbCl9ZnVuY3Rpb24gRih0LGUpe3JldHVybiBuZXcgTSh0LGUpfUE9Ik1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciI9PW5hdmlnYXRvci5hcHBOYW1lPyhNLnByb3RvdHlwZS5hbT1mdW5jdGlvbih0LGUsaSxyLG4scyl7Zm9yKHZhciBvPTMyNzY3JmUsYT1lPj4xNTswPD0tLXM7KXt2YXIgaD0zMjc2NyZ0aGlzW3RdLHU9dGhpc1t0KytdPj4xNSxjPWEqaCt1Km87bj0oKGg9bypoKygoMzI3NjcmYyk8PDE1KStpW3JdKygxMDczNzQxODIzJm4pKT4+PjMwKSsoYz4+PjE1KSthKnUrKG4+Pj4zMCksaVtyKytdPTEwNzM3NDE4MjMmaH1yZXR1cm4gbn0sMzApOiJOZXRzY2FwZSIhPW5hdmlnYXRvci5hcHBOYW1lPyhNLnByb3RvdHlwZS5hbT1mdW5jdGlvbih0LGUsaSxyLG4scyl7Zm9yKDswPD0tLXM7KXt2YXIgbz1lKnRoaXNbdCsrXStpW3JdK247bj1NYXRoLmZsb29yKG8vNjcxMDg4NjQpLGlbcisrXT02NzEwODg2MyZvfXJldHVybiBufSwyNik6KE0ucHJvdG90eXBlLmFtPWZ1bmN0aW9uKHQsZSxpLHIsbixzKXtmb3IodmFyIG89MTYzODMmZSxhPWU+PjE0OzA8PS0tczspe3ZhciBoPTE2MzgzJnRoaXNbdF0sdT10aGlzW3QrK10+PjE0LGM9YSpoK3UqbztuPSgoaD1vKmgrKCgxNjM4MyZjKTw8MTQpK2lbcl0rbik+PjI4KSsoYz4+MTQpK2EqdSxpW3IrK109MjY4NDM1NDU1Jmh9cmV0dXJuIG59LDI4KSxNLnByb3RvdHlwZS5EQj1BLE0ucHJvdG90eXBlLkRNPSgxPDxBKS0xLE0ucHJvdG90eXBlLkRWPTE8PEE7TS5wcm90b3R5cGUuRlY9TWF0aC5wb3coMiw1MiksTS5wcm90b3R5cGUuRjE9NTItQSxNLnByb3RvdHlwZS5GMj0yKkEtNTI7dmFyIHosVyxHPVtdO2Zvcih6PSIwIi5jaGFyQ29kZUF0KDApLFc9MDtXPD05OysrVylHW3orK109Vztmb3Ioej0iYSIuY2hhckNvZGVBdCgwKSxXPTEwO1c8MzY7KytXKUdbeisrXT1XO2Zvcih6PSJBIi5jaGFyQ29kZUF0KDApLFc9MTA7VzwzNjsrK1cpR1t6KytdPVc7ZnVuY3Rpb24gWih0LGUpe3ZhciBpPUdbdC5jaGFyQ29kZUF0KGUpXTtyZXR1cm4gbnVsbD09aT8tMTppfWZ1bmN0aW9uIFkodCl7dmFyIGU9aygpO3JldHVybiBlLmZyb21JbnQodCksZX1mdW5jdGlvbiAkKHQpe3ZhciBlLGk9MTtyZXR1cm4gMCE9KGU9dD4+PjE2KSYmKHQ9ZSxpKz0xNiksMCE9KGU9dD4+OCkmJih0PWUsaSs9OCksMCE9KGU9dD4+NCkmJih0PWUsaSs9NCksMCE9KGU9dD4+MikmJih0PWUsaSs9MiksMCE9KGU9dD4+MSkmJih0PWUsaSs9MSksaX1NLlpFUk89WSgwKSxNLk9ORT1ZKDEpO3ZhciBRPShKLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQpe3ZhciBlLGkscjtmb3IoZT0wO2U8MjU2OysrZSl0aGlzLlNbZV09ZTtmb3IoZT1pPTA7ZTwyNTY7KytlKWk9aSt0aGlzLlNbZV0rdFtlJXQubGVuZ3RoXSYyNTUscj10aGlzLlNbZV0sdGhpcy5TW2VdPXRoaXMuU1tpXSx0aGlzLlNbaV09cjt0aGlzLmk9MCx0aGlzLmo9MH0sSi5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3ZhciB0O3JldHVybiB0aGlzLmk9dGhpcy5pKzEmMjU1LHRoaXMuaj10aGlzLmordGhpcy5TW3RoaXMuaV0mMjU1LHQ9dGhpcy5TW3RoaXMuaV0sdGhpcy5TW3RoaXMuaV09dGhpcy5TW3RoaXMual0sdGhpcy5TW3RoaXMual09dCx0aGlzLlNbdCt0aGlzLlNbdGhpcy5pXSYyNTVdfSxKKTtmdW5jdGlvbiBKKCl7dGhpcy5pPTAsdGhpcy5qPTAsdGhpcy5TPVtdfXZhciBYLHR0LGV0PTI1NixpdD1udWxsO2lmKG51bGw9PWl0KXtpdD1bXTt2YXIgcnQ9dm9pZCh0dD0wKTtpZih3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyl7dmFyIG50PW5ldyBVaW50MzJBcnJheSgyNTYpO2Zvcih3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhudCkscnQ9MDtydDxudC5sZW5ndGg7KytydClpdFt0dCsrXT0yNTUmbnRbcnRdfXZhciBzdD1mdW5jdGlvbih0KXtpZih0aGlzLmNvdW50PXRoaXMuY291bnR8fDAsMjU2PD10aGlzLmNvdW50fHxldDw9dHQpd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXI/d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsc3QsITEpOndpbmRvdy5kZXRhY2hFdmVudCYmd2luZG93LmRldGFjaEV2ZW50KCJvbm1vdXNlbW92ZSIsc3QpO2Vsc2UgdHJ5e3ZhciBlPXQueCt0Lnk7aXRbdHQrK109MjU1JmUsdGhpcy5jb3VudCs9MX1jYXRjaCh0KXt9fTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcj93aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixzdCwhMSk6d2luZG93LmF0dGFjaEV2ZW50JiZ3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubW91c2Vtb3ZlIixzdCl9ZnVuY3Rpb24gb3QoKXtpZihudWxsPT1YKXtmb3IoWD1uZXcgUTt0dDxldDspe3ZhciB0PU1hdGguZmxvb3IoNjU1MzYqTWF0aC5yYW5kb20oKSk7aXRbdHQrK109MjU1JnR9Zm9yKFguaW5pdChpdCksdHQ9MDt0dDxpdC5sZW5ndGg7Kyt0dClpdFt0dF09MDt0dD0wfXJldHVybiBYLm5leHQoKX12YXIgYXQ9KGh0LnByb3RvdHlwZS5uZXh0Qnl0ZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDsrK2UpdFtlXT1vdCgpfSxodCk7ZnVuY3Rpb24gaHQoKXt9dmFyIHV0PShjdC5wcm90b3R5cGUuZG9QdWJsaWM9ZnVuY3Rpb24odCl7cmV0dXJuIHQubW9kUG93SW50KHRoaXMuZSx0aGlzLm4pfSxjdC5wcm90b3R5cGUuZG9Qcml2YXRlPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXRoaXMucHx8bnVsbD09dGhpcy5xKXJldHVybiB0Lm1vZFBvdyh0aGlzLmQsdGhpcy5uKTtmb3IodmFyIGU9dC5tb2QodGhpcy5wKS5tb2RQb3codGhpcy5kbXAxLHRoaXMucCksaT10Lm1vZCh0aGlzLnEpLm1vZFBvdyh0aGlzLmRtcTEsdGhpcy5xKTtlLmNvbXBhcmVUbyhpKTwwOyllPWUuYWRkKHRoaXMucCk7cmV0dXJuIGUuc3VidHJhY3QoaSkubXVsdGlwbHkodGhpcy5jb2VmZikubW9kKHRoaXMucCkubXVsdGlwbHkodGhpcy5xKS5hZGQoaSl9LGN0LnByb3RvdHlwZS5zZXRQdWJsaWM9ZnVuY3Rpb24odCxlKXtudWxsIT10JiZudWxsIT1lJiYwPHQubGVuZ3RoJiYwPGUubGVuZ3RoPyh0aGlzLm49Rih0LDE2KSx0aGlzLmU9cGFyc2VJbnQoZSwxNikpOmNvbnNvbGUuZXJyb3IoIkludmFsaWQgUlNBIHB1YmxpYyBrZXkiKX0sY3QucHJvdG90eXBlLmVuY3J5cHQ9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihlPHQubGVuZ3RoKzExKXJldHVybiBjb25zb2xlLmVycm9yKCJNZXNzYWdlIHRvbyBsb25nIGZvciBSU0EiKSxudWxsO2Zvcih2YXIgaT1bXSxyPXQubGVuZ3RoLTE7MDw9ciYmMDxlOyl7dmFyIG49dC5jaGFyQ29kZUF0KHItLSk7bjwxMjg/aVstLWVdPW46MTI3PG4mJm48MjA0OD8oaVstLWVdPTYzJm58MTI4LGlbLS1lXT1uPj42fDE5Mik6KGlbLS1lXT02MyZufDEyOCxpWy0tZV09bj4+NiY2M3wxMjgsaVstLWVdPW4+PjEyfDIyNCl9aVstLWVdPTA7Zm9yKHZhciBzPW5ldyBhdCxvPVtdOzI8ZTspe2ZvcihvWzBdPTA7MD09b1swXTspcy5uZXh0Qnl0ZXMobyk7aVstLWVdPW9bMF19cmV0dXJuIGlbLS1lXT0yLGlbLS1lXT0wLG5ldyBNKGkpfSh0LHRoaXMubi5iaXRMZW5ndGgoKSs3Pj4zKTtpZihudWxsPT1lKXJldHVybiBudWxsO3ZhciBpPXRoaXMuZG9QdWJsaWMoZSk7aWYobnVsbD09aSlyZXR1cm4gbnVsbDt2YXIgcj1pLnRvU3RyaW5nKDE2KTtyZXR1cm4gMD09KDEmci5sZW5ndGgpP3I6IjAiK3J9LGN0LnByb3RvdHlwZS5zZXRQcml2YXRlPWZ1bmN0aW9uKHQsZSxpKXtudWxsIT10JiZudWxsIT1lJiYwPHQubGVuZ3RoJiYwPGUubGVuZ3RoPyh0aGlzLm49Rih0LDE2KSx0aGlzLmU9cGFyc2VJbnQoZSwxNiksdGhpcy5kPUYoaSwxNikpOmNvbnNvbGUuZXJyb3IoIkludmFsaWQgUlNBIHByaXZhdGUga2V5Iil9LGN0LnByb3RvdHlwZS5zZXRQcml2YXRlRXg9ZnVuY3Rpb24odCxlLGkscixuLHMsbyxhKXtudWxsIT10JiZudWxsIT1lJiYwPHQubGVuZ3RoJiYwPGUubGVuZ3RoPyh0aGlzLm49Rih0LDE2KSx0aGlzLmU9cGFyc2VJbnQoZSwxNiksdGhpcy5kPUYoaSwxNiksdGhpcy5wPUYociwxNiksdGhpcy5xPUYobiwxNiksdGhpcy5kbXAxPUYocywxNiksdGhpcy5kbXExPUYobywxNiksdGhpcy5jb2VmZj1GKGEsMTYpKTpjb25zb2xlLmVycm9yKCJJbnZhbGlkIFJTQSBwcml2YXRlIGtleSIpfSxjdC5wcm90b3R5cGUuZ2VuZXJhdGU9ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgYXQscj10Pj4xO3RoaXMuZT1wYXJzZUludChlLDE2KTtmb3IodmFyIG49bmV3IE0oZSwxNik7Oyl7Zm9yKDt0aGlzLnA9bmV3IE0odC1yLDEsaSksMCE9dGhpcy5wLnN1YnRyYWN0KE0uT05FKS5nY2QobikuY29tcGFyZVRvKE0uT05FKXx8IXRoaXMucC5pc1Byb2JhYmxlUHJpbWUoMTApOyk7Zm9yKDt0aGlzLnE9bmV3IE0ociwxLGkpLDAhPXRoaXMucS5zdWJ0cmFjdChNLk9ORSkuZ2NkKG4pLmNvbXBhcmVUbyhNLk9ORSl8fCF0aGlzLnEuaXNQcm9iYWJsZVByaW1lKDEwKTspO2lmKHRoaXMucC5jb21wYXJlVG8odGhpcy5xKTw9MCl7dmFyIHM9dGhpcy5wO3RoaXMucD10aGlzLnEsdGhpcy5xPXN9dmFyIG89dGhpcy5wLnN1YnRyYWN0KE0uT05FKSxhPXRoaXMucS5zdWJ0cmFjdChNLk9ORSksaD1vLm11bHRpcGx5KGEpO2lmKDA9PWguZ2NkKG4pLmNvbXBhcmVUbyhNLk9ORSkpe3RoaXMubj10aGlzLnAubXVsdGlwbHkodGhpcy5xKSx0aGlzLmQ9bi5tb2RJbnZlcnNlKGgpLHRoaXMuZG1wMT10aGlzLmQubW9kKG8pLHRoaXMuZG1xMT10aGlzLmQubW9kKGEpLHRoaXMuY29lZmY9dGhpcy5xLm1vZEludmVyc2UodGhpcy5wKTticmVha319fSxjdC5wcm90b3R5cGUuZGVjcnlwdD1mdW5jdGlvbih0KXt2YXIgZT1GKHQsMTYpLGk9dGhpcy5kb1ByaXZhdGUoZSk7cmV0dXJuIG51bGw9PWk/bnVsbDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10LnRvQnl0ZUFycmF5KCkscj0wO3I8aS5sZW5ndGgmJjA9PWlbcl07KSsrcjtpZihpLmxlbmd0aC1yIT1lLTF8fDIhPWlbcl0pcmV0dXJuIG51bGw7Zm9yKCsrcjswIT1pW3JdOylpZigrK3I+PWkubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgbj0iIjsrK3I8aS5sZW5ndGg7KXt2YXIgcz0yNTUmaVtyXTtzPDEyOD9uKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHMpOjE5MTxzJiZzPDIyND8obis9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmcyk8PDZ8NjMmaVtyKzFdKSwrK3IpOihuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgxNSZzKTw8MTJ8KDYzJmlbcisxXSk8PDZ8NjMmaVtyKzJdKSxyKz0yKX1yZXR1cm4gbn0oaSx0aGlzLm4uYml0TGVuZ3RoKCkrNz4+Myl9LGN0LnByb3RvdHlwZS5nZW5lcmF0ZUFzeW5jPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcz1uZXcgYXQsbz10Pj4xO3RoaXMuZT1wYXJzZUludChlLDE2KTt2YXIgYT1uZXcgTShlLDE2KSxoPXRoaXMsdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihoLnAuY29tcGFyZVRvKGgucSk8PTApe3ZhciB0PWgucDtoLnA9aC5xLGgucT10fXZhciBlPWgucC5zdWJ0cmFjdChNLk9ORSksaT1oLnEuc3VidHJhY3QoTS5PTkUpLHI9ZS5tdWx0aXBseShpKTswPT1yLmdjZChhKS5jb21wYXJlVG8oTS5PTkUpPyhoLm49aC5wLm11bHRpcGx5KGgucSksaC5kPWEubW9kSW52ZXJzZShyKSxoLmRtcDE9aC5kLm1vZChlKSxoLmRtcTE9aC5kLm1vZChpKSxoLmNvZWZmPWgucS5tb2RJbnZlcnNlKGgucCksc2V0VGltZW91dChmdW5jdGlvbigpe24oKX0sMCkpOnNldFRpbWVvdXQodSwwKX12YXIgaT1mdW5jdGlvbigpe2gucT1rKCksaC5xLmZyb21OdW1iZXJBc3luYyhvLDEscyxmdW5jdGlvbigpe2gucS5zdWJ0cmFjdChNLk9ORSkuZ2NkYShhLGZ1bmN0aW9uKHQpezA9PXQuY29tcGFyZVRvKE0uT05FKSYmaC5xLmlzUHJvYmFibGVQcmltZSgxMCk/c2V0VGltZW91dChlLDApOnNldFRpbWVvdXQoaSwwKX0pfSl9LHI9ZnVuY3Rpb24oKXtoLnA9aygpLGgucC5mcm9tTnVtYmVyQXN5bmModC1vLDEscyxmdW5jdGlvbigpe2gucC5zdWJ0cmFjdChNLk9ORSkuZ2NkYShhLGZ1bmN0aW9uKHQpezA9PXQuY29tcGFyZVRvKE0uT05FKSYmaC5wLmlzUHJvYmFibGVQcmltZSgxMCk/c2V0VGltZW91dChpLDApOnNldFRpbWVvdXQociwwKX0pfSl9O3NldFRpbWVvdXQociwwKX07c2V0VGltZW91dCh1LDApfSxjdC5wcm90b3R5cGUuc2lnbj1mdW5jdGlvbih0LGUsaSl7dmFyIHI9ZnVuY3Rpb24odCxlKXtpZihlPHQubGVuZ3RoKzIyKXJldHVybiBjb25zb2xlLmVycm9yKCJNZXNzYWdlIHRvbyBsb25nIGZvciBSU0EiKSxudWxsO2Zvcih2YXIgaT1lLXQubGVuZ3RoLTYscj0iIixuPTA7bjxpO24rPTIpcis9ImZmIjtyZXR1cm4gRigiMDAwMSIrcisiMDAiK3QsMTYpfSgoZnRbaV18fCIiKStlKHQpLnRvU3RyaW5nKCksdGhpcy5uLmJpdExlbmd0aCgpLzQpO2lmKG51bGw9PXIpcmV0dXJuIG51bGw7dmFyIG49dGhpcy5kb1ByaXZhdGUocik7aWYobnVsbD09bilyZXR1cm4gbnVsbDt2YXIgcz1uLnRvU3RyaW5nKDE2KTtyZXR1cm4gMD09KDEmcy5sZW5ndGgpP3M6IjAiK3N9LGN0LnByb3RvdHlwZS52ZXJpZnk9ZnVuY3Rpb24odCxlLGkpe3ZhciByPUYoZSwxNiksbj10aGlzLmRvUHVibGljKHIpO3JldHVybiBudWxsPT1uP251bGw6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIGZ0KWlmKGZ0Lmhhc093blByb3BlcnR5KGUpKXt2YXIgaT1mdFtlXSxyPWkubGVuZ3RoO2lmKHQuc3Vic3RyKDAscik9PWkpcmV0dXJuIHQuc3Vic3RyKHIpfXJldHVybiB0fShuLnRvU3RyaW5nKDE2KS5yZXBsYWNlKC9eMWYrMDAvLCIiKSk9PWkodCkudG9TdHJpbmcoKX0sY3QpO2Z1bmN0aW9uIGN0KCl7dGhpcy5uPW51bGwsdGhpcy5lPTAsdGhpcy5kPW51bGwsdGhpcy5wPW51bGwsdGhpcy5xPW51bGwsdGhpcy5kbXAxPW51bGwsdGhpcy5kbXExPW51bGwsdGhpcy5jb2VmZj1udWxsfXZhciBmdD17bWQyOiIzMDIwMzAwYzA2MDgyYTg2NDg4NmY3MGQwMjAyMDUwMDA0MTAiLG1kNToiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwNTA1MDAwNDEwIixzaGExOiIzMDIxMzAwOTA2MDUyYjBlMDMwMjFhMDUwMDA0MTQiLHNoYTIyNDoiMzAyZDMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjA0MDUwMDA0MWMiLHNoYTI1NjoiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjAiLHNoYTM4NDoiMzA0MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAyMDUwMDA0MzAiLHNoYTUxMjoiMzA1MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAzMDUwMDA0NDAiLHJpcGVtZDE2MDoiMzAyMTMwMDkwNjA1MmIyNDAzMDIwMTA1MDAwNDE0In07dmFyIGx0PXt9O2x0Lmxhbmc9e2V4dGVuZDpmdW5jdGlvbih0LGUsaSl7aWYoIWV8fCF0KXRocm93IG5ldyBFcnJvcigiWUFIT08ubGFuZy5leHRlbmQgZmFpbGVkLCBwbGVhc2UgY2hlY2sgdGhhdCBhbGwgZGVwZW5kZW5jaWVzIGFyZSBpbmNsdWRlZC4iKTtmdW5jdGlvbiByKCl7fWlmKHIucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyByLCh0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10KS5zdXBlcmNsYXNzPWUucHJvdG90eXBlLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPT1PYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yJiYoZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSksaSl7dmFyIG47Zm9yKG4gaW4gaSl0LnByb3RvdHlwZVtuXT1pW25dO3ZhciBzPWZ1bmN0aW9uKCl7fSxvPVsidG9TdHJpbmciLCJ2YWx1ZU9mIl07dHJ5ey9NU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYocz1mdW5jdGlvbih0LGUpe2ZvcihuPTA7bjxvLmxlbmd0aDtuKz0xKXt2YXIgaT1vW25dLHI9ZVtpXTsiZnVuY3Rpb24iPT10eXBlb2YgciYmciE9T2JqZWN0LnByb3RvdHlwZVtpXSYmKHRbaV09cil9fSl9Y2F0Y2godCl7fXModC5wcm90b3R5cGUsaSl9fX07dmFyIHB0PXt9O3ZvaWQgMCE9PXB0LmFzbjEmJnB0LmFzbjF8fChwdC5hc24xPXt9KSxwdC5hc24xLkFTTjFVdGlsPW5ldyBmdW5jdGlvbigpe3RoaXMuaW50ZWdlclRvQnl0ZUhleD1mdW5jdGlvbih0KXt2YXIgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gZS5sZW5ndGglMj09MSYmKGU9IjAiK2UpLGV9LHRoaXMuYmlnSW50VG9NaW5Ud29zQ29tcGxlbWVudHNIZXg9ZnVuY3Rpb24odCl7dmFyIGU9dC50b1N0cmluZygxNik7aWYoIi0iIT1lLnN1YnN0cigwLDEpKWUubGVuZ3RoJTI9PTE/ZT0iMCIrZTplLm1hdGNoKC9eWzAtN10vKXx8KGU9IjAwIitlKTtlbHNle3ZhciBpPWUuc3Vic3RyKDEpLmxlbmd0aDtpJTI9PTE/aSs9MTplLm1hdGNoKC9eWzAtN10vKXx8KGkrPTIpO2Zvcih2YXIgcj0iIixuPTA7bjxpO24rKylyKz0iZiI7ZT1uZXcgTShyLDE2KS54b3IodCkuYWRkKE0uT05FKS50b1N0cmluZygxNikucmVwbGFjZSgvXi0vLCIiKX1yZXR1cm4gZX0sdGhpcy5nZXRQRU1TdHJpbmdGcm9tSGV4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhleHRvcGVtKHQsZSl9LHRoaXMubmV3T2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXB0LmFzbjEsaT1lLkRFUkJvb2xlYW4scj1lLkRFUkludGVnZXIsbj1lLkRFUkJpdFN0cmluZyxzPWUuREVST2N0ZXRTdHJpbmcsbz1lLkRFUk51bGwsYT1lLkRFUk9iamVjdElkZW50aWZpZXIsaD1lLkRFUkVudW1lcmF0ZWQsdT1lLkRFUlVURjhTdHJpbmcsYz1lLkRFUk51bWVyaWNTdHJpbmcsZj1lLkRFUlByaW50YWJsZVN0cmluZyxsPWUuREVSVGVsZXRleFN0cmluZyxwPWUuREVSSUE1U3RyaW5nLGQ9ZS5ERVJVVENUaW1lLGc9ZS5ERVJHZW5lcmFsaXplZFRpbWUsXz1lLkRFUlNlcXVlbmNlLHY9ZS5ERVJTZXQsbT1lLkRFUlRhZ2dlZE9iamVjdCx5PWUuQVNOMVV0aWwubmV3T2JqZWN0LGI9T2JqZWN0LmtleXModCk7aWYoMSE9Yi5sZW5ndGgpdGhyb3cia2V5IG9mIHBhcmFtIHNoYWxsIGJlIG9ubHkgb25lLiI7dmFyIEU9YlswXTtpZigtMT09Ijpib29sOmludDpiaXRzdHI6b2N0c3RyOm51bGw6b2lkOmVudW06dXRmOHN0cjpudW1zdHI6cHJuc3RyOnRlbHN0cjppYTVzdHI6dXRjdGltZTpnZW50aW1lOnNlcTpzZXQ6dGFnOiIuaW5kZXhPZigiOiIrRSsiOiIpKXRocm93InVuZGVmaW5lZCBrZXk6ICIrRTtpZigiYm9vbCI9PUUpcmV0dXJuIG5ldyBpKHRbRV0pO2lmKCJpbnQiPT1FKXJldHVybiBuZXcgcih0W0VdKTtpZigiYml0c3RyIj09RSlyZXR1cm4gbmV3IG4odFtFXSk7aWYoIm9jdHN0ciI9PUUpcmV0dXJuIG5ldyBzKHRbRV0pO2lmKCJudWxsIj09RSlyZXR1cm4gbmV3IG8odFtFXSk7aWYoIm9pZCI9PUUpcmV0dXJuIG5ldyBhKHRbRV0pO2lmKCJlbnVtIj09RSlyZXR1cm4gbmV3IGgodFtFXSk7aWYoInV0ZjhzdHIiPT1FKXJldHVybiBuZXcgdSh0W0VdKTtpZigibnVtc3RyIj09RSlyZXR1cm4gbmV3IGModFtFXSk7aWYoInBybnN0ciI9PUUpcmV0dXJuIG5ldyBmKHRbRV0pO2lmKCJ0ZWxzdHIiPT1FKXJldHVybiBuZXcgbCh0W0VdKTtpZigiaWE1c3RyIj09RSlyZXR1cm4gbmV3IHAodFtFXSk7aWYoInV0Y3RpbWUiPT1FKXJldHVybiBuZXcgZCh0W0VdKTtpZigiZ2VudGltZSI9PUUpcmV0dXJuIG5ldyBnKHRbRV0pO2lmKCJzZXEiPT1FKXtmb3IodmFyIFQ9dFtFXSxTPVtdLEQ9MDtEPFQubGVuZ3RoO0QrKyl7dmFyIHc9eShUW0RdKTtTLnB1c2godyl9cmV0dXJuIG5ldyBfKHthcnJheTpTfSl9aWYoInNldCI9PUUpe2ZvcihUPXRbRV0sUz1bXSxEPTA7RDxULmxlbmd0aDtEKyspe3c9eShUW0RdKTtTLnB1c2godyl9cmV0dXJuIG5ldyB2KHthcnJheTpTfSl9aWYoInRhZyI9PUUpe3ZhciBCPXRbRV07aWYoIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChCKSYmMz09Qi5sZW5ndGgpe3ZhciBPPXkoQlsyXSk7cmV0dXJuIG5ldyBtKHt0YWc6QlswXSxleHBsaWNpdDpCWzFdLG9iajpPfSl9dmFyIEE9e307aWYodm9pZCAwIT09Qi5leHBsaWNpdCYmKEEuZXhwbGljaXQ9Qi5leHBsaWNpdCksdm9pZCAwIT09Qi50YWcmJihBLnRhZz1CLnRhZyksdm9pZCAwPT09Qi5vYmopdGhyb3cib2JqIHNoYWxsIGJlIHNwZWNpZmllZCBmb3IgJ3RhZycuIjtyZXR1cm4gQS5vYmo9eShCLm9iaiksbmV3IG0oQSl9fSx0aGlzLmpzb25Ub0FTTjFIRVg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV3T2JqZWN0KHQpLmdldEVuY29kZWRIZXgoKX19LHB0LmFzbjEuQVNOMVV0aWwub2lkSGV4VG9JbnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPSIiLGk9cGFyc2VJbnQodC5zdWJzdHIoMCwyKSwxNikscj0oZT1NYXRoLmZsb29yKGkvNDApKyIuIitpJTQwLCIiKSxuPTI7bjx0Lmxlbmd0aDtuKz0yKXt2YXIgcz0oIjAwMDAwMDAwIitwYXJzZUludCh0LnN1YnN0cihuLDIpLDE2KS50b1N0cmluZygyKSkuc2xpY2UoLTgpO2lmKHIrPXMuc3Vic3RyKDEsNyksIjAiPT1zLnN1YnN0cigwLDEpKWU9ZSsiLiIrbmV3IE0ociwyKS50b1N0cmluZygxMCkscj0iIn1yZXR1cm4gZX0scHQuYXNuMS5BU04xVXRpbC5vaWRJbnRUb0hleD1mdW5jdGlvbih0KXtmdW5jdGlvbiBhKHQpe3ZhciBlPXQudG9TdHJpbmcoMTYpO3JldHVybiAxPT1lLmxlbmd0aCYmKGU9IjAiK2UpLGV9ZnVuY3Rpb24gZSh0KXt2YXIgZT0iIixpPW5ldyBNKHQsMTApLnRvU3RyaW5nKDIpLHI9Ny1pLmxlbmd0aCU3Ozc9PXImJihyPTApO2Zvcih2YXIgbj0iIixzPTA7czxyO3MrKyluKz0iMCI7Zm9yKGk9bitpLHM9MDtzPGkubGVuZ3RoLTE7cys9Nyl7dmFyIG89aS5zdWJzdHIocyw3KTtzIT1pLmxlbmd0aC03JiYobz0iMSIrbyksZSs9YShwYXJzZUludChvLDIpKX1yZXR1cm4gZX1pZighdC5tYXRjaCgvXlswLTkuXSskLykpdGhyb3cibWFsZm9ybWVkIG9pZCBzdHJpbmc6ICIrdDt2YXIgaT0iIixyPXQuc3BsaXQoIi4iKSxuPTQwKnBhcnNlSW50KHJbMF0pK3BhcnNlSW50KHJbMV0pO2krPWEobiksci5zcGxpY2UoMCwyKTtmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKylpKz1lKHJbc10pO3JldHVybiBpfSxwdC5hc24xLkFTTjFPYmplY3Q9ZnVuY3Rpb24oKXt0aGlzLmdldExlbmd0aEhleEZyb21WYWx1ZT1mdW5jdGlvbigpe2lmKHZvaWQgMD09PXRoaXMuaFZ8fG51bGw9PXRoaXMuaFYpdGhyb3cidGhpcy5oViBpcyBudWxsIG9yIHVuZGVmaW5lZC4iO2lmKHRoaXMuaFYubGVuZ3RoJTI9PTEpdGhyb3cidmFsdWUgaGV4IG11c3QgYmUgZXZlbiBsZW5ndGg6IG49IisiIi5sZW5ndGgrIix2PSIrdGhpcy5oVjt2YXIgdD10aGlzLmhWLmxlbmd0aC8yLGU9dC50b1N0cmluZygxNik7aWYoZS5sZW5ndGglMj09MSYmKGU9IjAiK2UpLHQ8MTI4KXJldHVybiBlO3ZhciBpPWUubGVuZ3RoLzI7aWYoMTU8aSl0aHJvdyJBU04uMSBsZW5ndGggdG9vIGxvbmcgdG8gcmVwcmVzZW50IGJ5IDh4OiBuID0gIit0LnRvU3RyaW5nKDE2KTtyZXR1cm4oMTI4K2kpLnRvU3RyaW5nKDE2KStlfSx0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5oVExWJiYhdGhpcy5pc01vZGlmaWVkfHwodGhpcy5oVj10aGlzLmdldEZyZXNoVmFsdWVIZXgoKSx0aGlzLmhMPXRoaXMuZ2V0TGVuZ3RoSGV4RnJvbVZhbHVlKCksdGhpcy5oVExWPXRoaXMuaFQrdGhpcy5oTCt0aGlzLmhWLHRoaXMuaXNNb2RpZmllZD0hMSksdGhpcy5oVExWfSx0aGlzLmdldFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFZ9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiIifX0scHQuYXNuMS5ERVJBYnN0cmFjdFN0cmluZz1mdW5jdGlvbih0KXtwdC5hc24xLkRFUkFic3RyYWN0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmdldFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN9LHRoaXMuc2V0U3RyaW5nPWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLnM9dCx0aGlzLmhWPXN0b2hleCh0aGlzLnMpfSx0aGlzLnNldFN0cmluZ0hleD1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPW51bGwsdGhpcy5oVj10fSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sdm9pZCAwIT09dCYmKCJzdHJpbmciPT10eXBlb2YgdD90aGlzLnNldFN0cmluZyh0KTp2b2lkIDAhPT10LnN0cj90aGlzLnNldFN0cmluZyh0LnN0cik6dm9pZCAwIT09dC5oZXgmJnRoaXMuc2V0U3RyaW5nSGV4KHQuaGV4KSl9LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVSQWJzdHJhY3RTdHJpbmcscHQuYXNuMS5BU04xT2JqZWN0KSxwdC5hc24xLkRFUkFic3RyYWN0VGltZT1mdW5jdGlvbih0KXtwdC5hc24xLkRFUkFic3RyYWN0VGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5sb2NhbERhdGVUb1VUQz1mdW5jdGlvbih0KXtyZXR1cm4gdXRjPXQuZ2V0VGltZSgpKzZlNCp0LmdldFRpbWV6b25lT2Zmc2V0KCksbmV3IERhdGUodXRjKX0sdGhpcy5mb3JtYXREYXRlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10aGlzLnplcm9QYWRkaW5nLG49dGhpcy5sb2NhbERhdGVUb1VUQyh0KSxzPVN0cmluZyhuLmdldEZ1bGxZZWFyKCkpOyJ1dGMiPT1lJiYocz1zLnN1YnN0cigyLDIpKTt2YXIgbz1zK3IoU3RyaW5nKG4uZ2V0TW9udGgoKSsxKSwyKStyKFN0cmluZyhuLmdldERhdGUoKSksMikrcihTdHJpbmcobi5nZXRIb3VycygpKSwyKStyKFN0cmluZyhuLmdldE1pbnV0ZXMoKSksMikrcihTdHJpbmcobi5nZXRTZWNvbmRzKCkpLDIpO2lmKCEwPT09aSl7dmFyIGE9bi5nZXRNaWxsaXNlY29uZHMoKTtpZigwIT1hKXt2YXIgaD1yKFN0cmluZyhhKSwzKTtvPW8rIi4iKyhoPWgucmVwbGFjZSgvWzBdKyQvLCIiKSl9fXJldHVybiBvKyJaIn0sdGhpcy56ZXJvUGFkZGluZz1mdW5jdGlvbih0LGUpe3JldHVybiB0Lmxlbmd0aD49ZT90Om5ldyBBcnJheShlLXQubGVuZ3RoKzEpLmpvaW4oIjAiKSt0fSx0aGlzLmdldFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN9LHRoaXMuc2V0U3RyaW5nPWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLnM9dCx0aGlzLmhWPXN0b2hleCh0KX0sdGhpcy5zZXRCeURhdGVWYWx1ZT1mdW5jdGlvbih0LGUsaSxyLG4scyl7dmFyIG89bmV3IERhdGUoRGF0ZS5VVEModCxlLTEsaSxyLG4scywwKSk7dGhpcy5zZXRCeURhdGUobyl9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfX0sbHQubGFuZy5leHRlbmQocHQuYXNuMS5ERVJBYnN0cmFjdFRpbWUscHQuYXNuMS5BU04xT2JqZWN0KSxwdC5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZD1mdW5jdGlvbih0KXtwdC5hc24xLkRFUkFic3RyYWN0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLnNldEJ5QVNOMU9iamVjdEFycmF5PWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmFzbjFBcnJheT10fSx0aGlzLmFwcGVuZEFTTjFPYmplY3Q9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuYXNuMUFycmF5LnB1c2godCl9LHRoaXMuYXNuMUFycmF5PW5ldyBBcnJheSx2b2lkIDAhPT10JiZ2b2lkIDAhPT10LmFycmF5JiYodGhpcy5hc24xQXJyYXk9dC5hcnJheSl9LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVSQWJzdHJhY3RTdHJ1Y3R1cmVkLHB0LmFzbjEuQVNOMU9iamVjdCkscHQuYXNuMS5ERVJCb29sZWFuPWZ1bmN0aW9uKCl7cHQuYXNuMS5ERVJCb29sZWFuLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPSIwMSIsdGhpcy5oVExWPSIwMTAxZmYifSxsdC5sYW5nLmV4dGVuZChwdC5hc24xLkRFUkJvb2xlYW4scHQuYXNuMS5BU04xT2JqZWN0KSxwdC5hc24xLkRFUkludGVnZXI9ZnVuY3Rpb24odCl7cHQuYXNuMS5ERVJJbnRlZ2VyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPSIwMiIsdGhpcy5zZXRCeUJpZ0ludGVnZXI9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuaFY9cHQuYXNuMS5BU04xVXRpbC5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleCh0KX0sdGhpcy5zZXRCeUludGVnZXI9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IE0oU3RyaW5nKHQpLDEwKTt0aGlzLnNldEJ5QmlnSW50ZWdlcihlKX0sdGhpcy5zZXRWYWx1ZUhleD1mdW5jdGlvbih0KXt0aGlzLmhWPXR9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfSx2b2lkIDAhPT10JiYodm9pZCAwIT09dC5iaWdpbnQ/dGhpcy5zZXRCeUJpZ0ludGVnZXIodC5iaWdpbnQpOnZvaWQgMCE9PXQuaW50P3RoaXMuc2V0QnlJbnRlZ2VyKHQuaW50KToibnVtYmVyIj09dHlwZW9mIHQ/dGhpcy5zZXRCeUludGVnZXIodCk6dm9pZCAwIT09dC5oZXgmJnRoaXMuc2V0VmFsdWVIZXgodC5oZXgpKX0sbHQubGFuZy5leHRlbmQocHQuYXNuMS5ERVJJbnRlZ2VyLHB0LmFzbjEuQVNOMU9iamVjdCkscHQuYXNuMS5ERVJCaXRTdHJpbmc9ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCYmdm9pZCAwIT09dC5vYmope3ZhciBlPXB0LmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHQub2JqKTt0LmhleD0iMDAiK2UuZ2V0RW5jb2RlZEhleCgpfXB0LmFzbjEuREVSQml0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPSIwMyIsdGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHM9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuaFY9dH0sdGhpcy5zZXRVbnVzZWRCaXRzQW5kSGV4VmFsdWU9ZnVuY3Rpb24odCxlKXtpZih0PDB8fDc8dCl0aHJvdyJ1bnVzZWQgYml0cyBzaGFsbCBiZSBmcm9tIDAgdG8gNzogdSA9ICIrdDt2YXIgaT0iMCIrdDt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5oVj1pK2V9LHRoaXMuc2V0QnlCaW5hcnlTdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGU9OC0odD10LnJlcGxhY2UoLzArJC8sIiIpKS5sZW5ndGglODs4PT1lJiYoZT0wKTtmb3IodmFyIGk9MDtpPD1lO2krKyl0Kz0iMCI7dmFyIHI9IiI7Zm9yKGk9MDtpPHQubGVuZ3RoLTE7aSs9OCl7dmFyIG49dC5zdWJzdHIoaSw4KSxzPXBhcnNlSW50KG4sMikudG9TdHJpbmcoMTYpOzE9PXMubGVuZ3RoJiYocz0iMCIrcykscis9c310aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5oVj0iMCIrZStyfSx0aGlzLnNldEJ5Qm9vbGVhbkFycmF5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0iIixpPTA7aTx0Lmxlbmd0aDtpKyspMT09dFtpXT9lKz0iMSI6ZSs9IjAiO3RoaXMuc2V0QnlCaW5hcnlTdHJpbmcoZSl9LHRoaXMubmV3RmFsc2VBcnJheT1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEFycmF5KHQpLGk9MDtpPHQ7aSsrKWVbaV09ITE7cmV0dXJuIGV9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfSx2b2lkIDAhPT10JiYoInN0cmluZyI9PXR5cGVvZiB0JiZ0LnRvTG93ZXJDYXNlKCkubWF0Y2goL15bMC05YS1mXSskLyk/dGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHModCk6dm9pZCAwIT09dC5oZXg/dGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHModC5oZXgpOnZvaWQgMCE9PXQuYmluP3RoaXMuc2V0QnlCaW5hcnlTdHJpbmcodC5iaW4pOnZvaWQgMCE9PXQuYXJyYXkmJnRoaXMuc2V0QnlCb29sZWFuQXJyYXkodC5hcnJheSkpfSxsdC5sYW5nLmV4dGVuZChwdC5hc24xLkRFUkJpdFN0cmluZyxwdC5hc24xLkFTTjFPYmplY3QpLHB0LmFzbjEuREVST2N0ZXRTdHJpbmc9ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCYmdm9pZCAwIT09dC5vYmope3ZhciBlPXB0LmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHQub2JqKTt0LmhleD1lLmdldEVuY29kZWRIZXgoKX1wdC5hc24xLkRFUk9jdGV0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9IjA0In0sbHQubGFuZy5leHRlbmQocHQuYXNuMS5ERVJPY3RldFN0cmluZyxwdC5hc24xLkRFUkFic3RyYWN0U3RyaW5nKSxwdC5hc24xLkRFUk51bGw9ZnVuY3Rpb24oKXtwdC5hc24xLkRFUk51bGwuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuaFQ9IjA1Iix0aGlzLmhUTFY9IjA1MDAifSxsdC5sYW5nLmV4dGVuZChwdC5hc24xLkRFUk51bGwscHQuYXNuMS5BU04xT2JqZWN0KSxwdC5hc24xLkRFUk9iamVjdElkZW50aWZpZXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gYSh0KXt2YXIgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gMT09ZS5sZW5ndGgmJihlPSIwIitlKSxlfWZ1bmN0aW9uIHModCl7dmFyIGU9IiIsaT1uZXcgTSh0LDEwKS50b1N0cmluZygyKSxyPTctaS5sZW5ndGglNzs3PT1yJiYocj0wKTtmb3IodmFyIG49IiIscz0wO3M8cjtzKyspbis9IjAiO2ZvcihpPW4raSxzPTA7czxpLmxlbmd0aC0xO3MrPTcpe3ZhciBvPWkuc3Vic3RyKHMsNyk7cyE9aS5sZW5ndGgtNyYmKG89IjEiK28pLGUrPWEocGFyc2VJbnQobywyKSl9cmV0dXJuIGV9cHQuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPSIwNiIsdGhpcy5zZXRWYWx1ZUhleD1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPW51bGwsdGhpcy5oVj10fSx0aGlzLnNldFZhbHVlT2lkU3RyaW5nPWZ1bmN0aW9uKHQpe2lmKCF0Lm1hdGNoKC9eWzAtOS5dKyQvKSl0aHJvdyJtYWxmb3JtZWQgb2lkIHN0cmluZzogIit0O3ZhciBlPSIiLGk9dC5zcGxpdCgiLiIpLHI9NDAqcGFyc2VJbnQoaVswXSkrcGFyc2VJbnQoaVsxXSk7ZSs9YShyKSxpLnNwbGljZSgwLDIpO2Zvcih2YXIgbj0wO248aS5sZW5ndGg7bisrKWUrPXMoaVtuXSk7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMucz1udWxsLHRoaXMuaFY9ZX0sdGhpcy5zZXRWYWx1ZU5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9cHQuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZCh0KTtpZigiIj09PWUpdGhyb3ciREVST2JqZWN0SWRlbnRpZmllciBvaWROYW1lIHVuZGVmaW5lZDogIit0O3RoaXMuc2V0VmFsdWVPaWRTdHJpbmcoZSl9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfSx2b2lkIDAhPT10JiYoInN0cmluZyI9PXR5cGVvZiB0P3QubWF0Y2goL15bMC0yXS5bMC05Ll0rJC8pP3RoaXMuc2V0VmFsdWVPaWRTdHJpbmcodCk6dGhpcy5zZXRWYWx1ZU5hbWUodCk6dm9pZCAwIT09dC5vaWQ/dGhpcy5zZXRWYWx1ZU9pZFN0cmluZyh0Lm9pZCk6dm9pZCAwIT09dC5oZXg/dGhpcy5zZXRWYWx1ZUhleCh0LmhleCk6dm9pZCAwIT09dC5uYW1lJiZ0aGlzLnNldFZhbHVlTmFtZSh0Lm5hbWUpKX0sbHQubGFuZy5leHRlbmQocHQuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLHB0LmFzbjEuQVNOMU9iamVjdCkscHQuYXNuMS5ERVJFbnVtZXJhdGVkPWZ1bmN0aW9uKHQpe3B0LmFzbjEuREVSRW51bWVyYXRlZC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5oVD0iMGEiLHRoaXMuc2V0QnlCaWdJbnRlZ2VyPWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmhWPXB0LmFzbjEuQVNOMVV0aWwuYmlnSW50VG9NaW5Ud29zQ29tcGxlbWVudHNIZXgodCl9LHRoaXMuc2V0QnlJbnRlZ2VyPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBNKFN0cmluZyh0KSwxMCk7dGhpcy5zZXRCeUJpZ0ludGVnZXIoZSl9LHRoaXMuc2V0VmFsdWVIZXg9ZnVuY3Rpb24odCl7dGhpcy5oVj10fSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQuaW50P3RoaXMuc2V0QnlJbnRlZ2VyKHQuaW50KToibnVtYmVyIj09dHlwZW9mIHQ/dGhpcy5zZXRCeUludGVnZXIodCk6dm9pZCAwIT09dC5oZXgmJnRoaXMuc2V0VmFsdWVIZXgodC5oZXgpKX0sbHQubGFuZy5leHRlbmQocHQuYXNuMS5ERVJFbnVtZXJhdGVkLHB0LmFzbjEuQVNOMU9iamVjdCkscHQuYXNuMS5ERVJVVEY4U3RyaW5nPWZ1bmN0aW9uKHQpe3B0LmFzbjEuREVSVVRGOFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmhUPSIwYyJ9LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVSVVRGOFN0cmluZyxwdC5hc24xLkRFUkFic3RyYWN0U3RyaW5nKSxwdC5hc24xLkRFUk51bWVyaWNTdHJpbmc9ZnVuY3Rpb24odCl7cHQuYXNuMS5ERVJOdW1lcmljU3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9IjEyIn0sbHQubGFuZy5leHRlbmQocHQuYXNuMS5ERVJOdW1lcmljU3RyaW5nLHB0LmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpLHB0LmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nPWZ1bmN0aW9uKHQpe3B0LmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9IjEzIn0sbHQubGFuZy5leHRlbmQocHQuYXNuMS5ERVJQcmludGFibGVTdHJpbmcscHQuYXNuMS5ERVJBYnN0cmFjdFN0cmluZykscHQuYXNuMS5ERVJUZWxldGV4U3RyaW5nPWZ1bmN0aW9uKHQpe3B0LmFzbjEuREVSVGVsZXRleFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmhUPSIxNCJ9LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVSVGVsZXRleFN0cmluZyxwdC5hc24xLkRFUkFic3RyYWN0U3RyaW5nKSxwdC5hc24xLkRFUklBNVN0cmluZz1mdW5jdGlvbih0KXtwdC5hc24xLkRFUklBNVN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmhUPSIxNiJ9LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVSSUE1U3RyaW5nLHB0LmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpLHB0LmFzbjEuREVSVVRDVGltZT1mdW5jdGlvbih0KXtwdC5hc24xLkRFUlVUQ1RpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD0iMTciLHRoaXMuc2V0QnlEYXRlPWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmRhdGU9dCx0aGlzLnM9dGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSwidXRjIiksdGhpcy5oVj1zdG9oZXgodGhpcy5zKX0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuZGF0ZSYmdm9pZCAwPT09dGhpcy5zJiYodGhpcy5kYXRlPW5ldyBEYXRlLHRoaXMucz10aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLCJ1dGMiKSx0aGlzLmhWPXN0b2hleCh0aGlzLnMpKSx0aGlzLmhWfSx2b2lkIDAhPT10JiYodm9pZCAwIT09dC5zdHI/dGhpcy5zZXRTdHJpbmcodC5zdHIpOiJzdHJpbmciPT10eXBlb2YgdCYmdC5tYXRjaCgvXlswLTldezEyfVokLyk/dGhpcy5zZXRTdHJpbmcodCk6dm9pZCAwIT09dC5oZXg/dGhpcy5zZXRTdHJpbmdIZXgodC5oZXgpOnZvaWQgMCE9PXQuZGF0ZSYmdGhpcy5zZXRCeURhdGUodC5kYXRlKSl9LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVSVVRDVGltZSxwdC5hc24xLkRFUkFic3RyYWN0VGltZSkscHQuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWU9ZnVuY3Rpb24odCl7cHQuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD0iMTgiLHRoaXMud2l0aE1pbGxpcz0hMSx0aGlzLnNldEJ5RGF0ZT1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5kYXRlPXQsdGhpcy5zPXRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUsImdlbiIsdGhpcy53aXRoTWlsbGlzKSx0aGlzLmhWPXN0b2hleCh0aGlzLnMpfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5kYXRlJiZ2b2lkIDA9PT10aGlzLnMmJih0aGlzLmRhdGU9bmV3IERhdGUsdGhpcy5zPXRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUsImdlbiIsdGhpcy53aXRoTWlsbGlzKSx0aGlzLmhWPXN0b2hleCh0aGlzLnMpKSx0aGlzLmhWfSx2b2lkIDAhPT10JiYodm9pZCAwIT09dC5zdHI/dGhpcy5zZXRTdHJpbmcodC5zdHIpOiJzdHJpbmciPT10eXBlb2YgdCYmdC5tYXRjaCgvXlswLTldezE0fVokLyk/dGhpcy5zZXRTdHJpbmcodCk6dm9pZCAwIT09dC5oZXg/dGhpcy5zZXRTdHJpbmdIZXgodC5oZXgpOnZvaWQgMCE9PXQuZGF0ZSYmdGhpcy5zZXRCeURhdGUodC5kYXRlKSwhMD09PXQubWlsbGlzJiYodGhpcy53aXRoTWlsbGlzPSEwKSl9LGx0LmxhbmcuZXh0ZW5kKHB0LmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lLHB0LmFzbjEuREVSQWJzdHJhY3RUaW1lKSxwdC5hc24xLkRFUlNlcXVlbmNlPWZ1bmN0aW9uKHQpe3B0LmFzbjEuREVSU2VxdWVuY2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD0iMzAiLHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe2Zvcih2YXIgdD0iIixlPTA7ZTx0aGlzLmFzbjFBcnJheS5sZW5ndGg7ZSsrKXt0Kz10aGlzLmFzbjFBcnJheVtlXS5nZXRFbmNvZGVkSGV4KCl9cmV0dXJuIHRoaXMuaFY9dCx0aGlzLmhWfX0sbHQubGFuZy5leHRlbmQocHQuYXNuMS5ERVJTZXF1ZW5jZSxwdC5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCkscHQuYXNuMS5ERVJTZXQ9ZnVuY3Rpb24odCl7cHQuYXNuMS5ERVJTZXQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD0iMzEiLHRoaXMuc29ydEZsYWc9ITAsdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBBcnJheSxlPTA7ZTx0aGlzLmFzbjFBcnJheS5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLmFzbjFBcnJheVtlXTt0LnB1c2goaS5nZXRFbmNvZGVkSGV4KCkpfXJldHVybiAxPT10aGlzLnNvcnRGbGFnJiZ0LnNvcnQoKSx0aGlzLmhWPXQuam9pbigiIiksdGhpcy5oVn0sdm9pZCAwIT09dCYmdm9pZCAwIT09dC5zb3J0ZmxhZyYmMD09dC5zb3J0ZmxhZyYmKHRoaXMuc29ydEZsYWc9ITEpfSxsdC5sYW5nLmV4dGVuZChwdC5hc24xLkRFUlNldCxwdC5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZCkscHQuYXNuMS5ERVJUYWdnZWRPYmplY3Q9ZnVuY3Rpb24odCl7cHQuYXNuMS5ERVJUYWdnZWRPYmplY3Quc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuaFQ9ImEwIix0aGlzLmhWPSIiLHRoaXMuaXNFeHBsaWNpdD0hMCx0aGlzLmFzbjFPYmplY3Q9bnVsbCx0aGlzLnNldEFTTjFPYmplY3Q9ZnVuY3Rpb24odCxlLGkpe3RoaXMuaFQ9ZSx0aGlzLmlzRXhwbGljaXQ9dCx0aGlzLmFzbjFPYmplY3Q9aSx0aGlzLmlzRXhwbGljaXQ/KHRoaXMuaFY9dGhpcy5hc24xT2JqZWN0LmdldEVuY29kZWRIZXgoKSx0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITApOih0aGlzLmhWPW51bGwsdGhpcy5oVExWPWkuZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFRMVj10aGlzLmhUTFYucmVwbGFjZSgvXi4uLyxlKSx0aGlzLmlzTW9kaWZpZWQ9ITEpfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQudGFnJiYodGhpcy5oVD10LnRhZyksdm9pZCAwIT09dC5leHBsaWNpdCYmKHRoaXMuaXNFeHBsaWNpdD10LmV4cGxpY2l0KSx2b2lkIDAhPT10Lm9iaiYmKHRoaXMuYXNuMU9iamVjdD10Lm9iaix0aGlzLnNldEFTTjFPYmplY3QodGhpcy5pc0V4cGxpY2l0LHRoaXMuaFQsdGhpcy5hc24xT2JqZWN0KSkpfSxsdC5sYW5nLmV4dGVuZChwdC5hc24xLkRFUlRhZ2dlZE9iamVjdCxwdC5hc24xLkFTTjFPYmplY3QpO3ZhciBkdCxndCxfdCx2dD0ocChndD15dCxfdD1kdD11dCksZ3QucHJvdG90eXBlPW51bGw9PT1fdD9PYmplY3QuY3JlYXRlKF90KToobXQucHJvdG90eXBlPV90LnByb3RvdHlwZSxuZXcgbXQpLHl0LnByb3RvdHlwZS5wYXJzZUtleT1mdW5jdGlvbih0KXt0cnl7dmFyIGU9MCxpPTAscj0vXlxzKig/OlswLTlBLUZhLWZdWzAtOUEtRmEtZl1ccyopKyQvLnRlc3QodCk/Zyh0KTpfLnVuYXJtb3IodCksbj1CLmRlY29kZShyKTtpZigzPT09bi5zdWIubGVuZ3RoJiYobj1uLnN1YlsyXS5zdWJbMF0pLDk9PT1uLnN1Yi5sZW5ndGgpe2U9bi5zdWJbMV0uZ2V0SGV4U3RyaW5nVmFsdWUoKSx0aGlzLm49RihlLDE2KSxpPW4uc3ViWzJdLmdldEhleFN0cmluZ1ZhbHVlKCksdGhpcy5lPXBhcnNlSW50KGksMTYpO3ZhciBzPW4uc3ViWzNdLmdldEhleFN0cmluZ1ZhbHVlKCk7dGhpcy5kPUYocywxNik7dmFyIG89bi5zdWJbNF0uZ2V0SGV4U3RyaW5nVmFsdWUoKTt0aGlzLnA9RihvLDE2KTt2YXIgYT1uLnN1Yls1XS5nZXRIZXhTdHJpbmdWYWx1ZSgpO3RoaXMucT1GKGEsMTYpO3ZhciBoPW4uc3ViWzZdLmdldEhleFN0cmluZ1ZhbHVlKCk7dGhpcy5kbXAxPUYoaCwxNik7dmFyIHU9bi5zdWJbN10uZ2V0SGV4U3RyaW5nVmFsdWUoKTt0aGlzLmRtcTE9Rih1LDE2KTt2YXIgYz1uLnN1Yls4XS5nZXRIZXhTdHJpbmdWYWx1ZSgpO3RoaXMuY29lZmY9RihjLDE2KX1lbHNle2lmKDIhPT1uLnN1Yi5sZW5ndGgpcmV0dXJuITE7dmFyIGY9bi5zdWJbMV0uc3ViWzBdO2U9Zi5zdWJbMF0uZ2V0SGV4U3RyaW5nVmFsdWUoKSx0aGlzLm49RihlLDE2KSxpPWYuc3ViWzFdLmdldEhleFN0cmluZ1ZhbHVlKCksdGhpcy5lPXBhcnNlSW50KGksMTYpfXJldHVybiEwfWNhdGNoKHQpe3JldHVybiExfX0seXQucHJvdG90eXBlLmdldFByaXZhdGVCYXNlS2V5PWZ1bmN0aW9uKCl7dmFyIHQ9e2FycmF5OltuZXcgcHQuYXNuMS5ERVJJbnRlZ2VyKHtpbnQ6MH0pLG5ldyBwdC5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0aGlzLm59KSxuZXcgcHQuYXNuMS5ERVJJbnRlZ2VyKHtpbnQ6dGhpcy5lfSksbmV3IHB0LmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnRoaXMuZH0pLG5ldyBwdC5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0aGlzLnB9KSxuZXcgcHQuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6dGhpcy5xfSksbmV3IHB0LmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnRoaXMuZG1wMX0pLG5ldyBwdC5hc24xLkRFUkludGVnZXIoe2JpZ2ludDp0aGlzLmRtcTF9KSxuZXcgcHQuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6dGhpcy5jb2VmZn0pXX07cmV0dXJuIG5ldyBwdC5hc24xLkRFUlNlcXVlbmNlKHQpLmdldEVuY29kZWRIZXgoKX0seXQucHJvdG90eXBlLmdldFByaXZhdGVCYXNlS2V5QjY0PWZ1bmN0aW9uKCl7cmV0dXJuIGModGhpcy5nZXRQcml2YXRlQmFzZUtleSgpKX0seXQucHJvdG90eXBlLmdldFB1YmxpY0Jhc2VLZXk9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgcHQuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6W25ldyBwdC5hc24xLkRFUk9iamVjdElkZW50aWZpZXIoe29pZDoiMS4yLjg0MC4xMTM1NDkuMS4xLjEifSksbmV3IHB0LmFzbjEuREVSTnVsbF19KSxlPW5ldyBwdC5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbbmV3IHB0LmFzbjEuREVSSW50ZWdlcih7YmlnaW50OnRoaXMubn0pLG5ldyBwdC5hc24xLkRFUkludGVnZXIoe2ludDp0aGlzLmV9KV19KSxpPW5ldyBwdC5hc24xLkRFUkJpdFN0cmluZyh7aGV4OiIwMCIrZS5nZXRFbmNvZGVkSGV4KCl9KTtyZXR1cm4gbmV3IHB0LmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5Olt0LGldfSkuZ2V0RW5jb2RlZEhleCgpfSx5dC5wcm90b3R5cGUuZ2V0UHVibGljQmFzZUtleUI2ND1mdW5jdGlvbigpe3JldHVybiBjKHRoaXMuZ2V0UHVibGljQmFzZUtleSgpKX0seXQud29yZHdyYXA9ZnVuY3Rpb24odCxlKXtpZighdClyZXR1cm4gdDt2YXIgaT0iKC57MSwiKyhlPWV8fDY0KSsifSkoICt8JFxuPyl8KC57MSwiK2UrIn0pIjtyZXR1cm4gdC5tYXRjaChSZWdFeHAoaSwiZyIpKS5qb2luKCJcbiIpfSx5dC5wcm90b3R5cGUuZ2V0UHJpdmF0ZUtleT1mdW5jdGlvbigpe3ZhciB0PSItLS0tLUJFR0lOIFJTQSBQUklWQVRFIEtFWS0tLS0tXG4iO3JldHVybiB0Kz15dC53b3Jkd3JhcCh0aGlzLmdldFByaXZhdGVCYXNlS2V5QjY0KCkpKyJcbiIsdCs9Ii0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tIn0seXQucHJvdG90eXBlLmdldFB1YmxpY0tleT1mdW5jdGlvbigpe3ZhciB0PSItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuIjtyZXR1cm4gdCs9eXQud29yZHdyYXAodGhpcy5nZXRQdWJsaWNCYXNlS2V5QjY0KCkpKyJcbiIsdCs9Ii0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSJ9LHl0Lmhhc1B1YmxpY0tleVByb3BlcnR5PWZ1bmN0aW9uKHQpe3JldHVybih0PXR8fHt9KS5oYXNPd25Qcm9wZXJ0eSgibiIpJiZ0Lmhhc093blByb3BlcnR5KCJlIil9LHl0Lmhhc1ByaXZhdGVLZXlQcm9wZXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4odD10fHx7fSkuaGFzT3duUHJvcGVydHkoIm4iKSYmdC5oYXNPd25Qcm9wZXJ0eSgiZSIpJiZ0Lmhhc093blByb3BlcnR5KCJkIikmJnQuaGFzT3duUHJvcGVydHkoInAiKSYmdC5oYXNPd25Qcm9wZXJ0eSgicSIpJiZ0Lmhhc093blByb3BlcnR5KCJkbXAxIikmJnQuaGFzT3duUHJvcGVydHkoImRtcTEiKSYmdC5oYXNPd25Qcm9wZXJ0eSgiY29lZmYiKX0seXQucHJvdG90eXBlLnBhcnNlUHJvcGVydGllc0Zyb209ZnVuY3Rpb24odCl7dGhpcy5uPXQubix0aGlzLmU9dC5lLHQuaGFzT3duUHJvcGVydHkoImQiKSYmKHRoaXMuZD10LmQsdGhpcy5wPXQucCx0aGlzLnE9dC5xLHRoaXMuZG1wMT10LmRtcDEsdGhpcy5kbXExPXQuZG1xMSx0aGlzLmNvZWZmPXQuY29lZmYpfSx5dCk7ZnVuY3Rpb24gbXQoKXt0aGlzLmNvbnN0cnVjdG9yPWd0fWZ1bmN0aW9uIHl0KHQpe3ZhciBlPWR0LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHQmJigic3RyaW5nIj09dHlwZW9mIHQ/ZS5wYXJzZUtleSh0KTooeXQuaGFzUHJpdmF0ZUtleVByb3BlcnR5KHQpfHx5dC5oYXNQdWJsaWNLZXlQcm9wZXJ0eSh0KSkmJmUucGFyc2VQcm9wZXJ0aWVzRnJvbSh0KSksZX12YXIgYnQ9KEV0LnByb3RvdHlwZS5zZXRLZXk9ZnVuY3Rpb24odCl7dGhpcy5sb2cmJnRoaXMua2V5JiZjb25zb2xlLndhcm4oIkEga2V5IHdhcyBhbHJlYWR5IHNldCwgb3ZlcnJpZGluZyBleGlzdGluZy4iKSx0aGlzLmtleT1uZXcgdnQodCl9LEV0LnByb3RvdHlwZS5zZXRQcml2YXRlS2V5PWZ1bmN0aW9uKHQpe3RoaXMuc2V0S2V5KHQpfSxFdC5wcm90b3R5cGUuc2V0UHVibGljS2V5PWZ1bmN0aW9uKHQpe3RoaXMuc2V0S2V5KHQpfSxFdC5wcm90b3R5cGUuZGVjcnlwdD1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIHRoaXMuZ2V0S2V5KCkuZGVjcnlwdChmKHQpKX1jYXRjaCh0KXtyZXR1cm4hMX19LEV0LnByb3RvdHlwZS5lbmNyeXB0PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gYyh0aGlzLmdldEtleSgpLmVuY3J5cHQodCkpfWNhdGNoKHQpe3JldHVybiExfX0sRXQucHJvdG90eXBlLnNpZ249ZnVuY3Rpb24odCxlLGkpe3RyeXtyZXR1cm4gYyh0aGlzLmdldEtleSgpLnNpZ24odCxlLGkpKX1jYXRjaCh0KXtyZXR1cm4hMX19LEV0LnByb3RvdHlwZS52ZXJpZnk9ZnVuY3Rpb24odCxlLGkpe3RyeXtyZXR1cm4gdGhpcy5nZXRLZXkoKS52ZXJpZnkodCxmKGUpLGkpfWNhdGNoKHQpe3JldHVybiExfX0sRXQucHJvdG90eXBlLmdldEtleT1mdW5jdGlvbih0KXtpZighdGhpcy5rZXkpe2lmKHRoaXMua2V5PW5ldyB2dCx0JiYiW29iamVjdCBGdW5jdGlvbl0iPT09e30udG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gdm9pZCB0aGlzLmtleS5nZW5lcmF0ZUFzeW5jKHRoaXMuZGVmYXVsdF9rZXlfc2l6ZSx0aGlzLmRlZmF1bHRfcHVibGljX2V4cG9uZW50LHQpO3RoaXMua2V5LmdlbmVyYXRlKHRoaXMuZGVmYXVsdF9rZXlfc2l6ZSx0aGlzLmRlZmF1bHRfcHVibGljX2V4cG9uZW50KX1yZXR1cm4gdGhpcy5rZXl9LEV0LnByb3RvdHlwZS5nZXRQcml2YXRlS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0S2V5KCkuZ2V0UHJpdmF0ZUtleSgpfSxFdC5wcm90b3R5cGUuZ2V0UHJpdmF0ZUtleUI2ND1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEtleSgpLmdldFByaXZhdGVCYXNlS2V5QjY0KCl9LEV0LnByb3RvdHlwZS5nZXRQdWJsaWNLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRLZXkoKS5nZXRQdWJsaWNLZXkoKX0sRXQucHJvdG90eXBlLmdldFB1YmxpY0tleUI2ND1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEtleSgpLmdldFB1YmxpY0Jhc2VLZXlCNjQoKX0sRXQudmVyc2lvbj0iMy4wLjAtcmMuMSIsRXQpO2Z1bmN0aW9uIEV0KHQpe3Q9dHx8e30sdGhpcy5kZWZhdWx0X2tleV9zaXplPXBhcnNlSW50KHQuZGVmYXVsdF9rZXlfc2l6ZSwxMCl8fDEwMjQsdGhpcy5kZWZhdWx0X3B1YmxpY19leHBvbmVudD10LmRlZmF1bHRfcHVibGljX2V4cG9uZW50fHwiMDEwMDAxIix0aGlzLmxvZz10LmxvZ3x8ITEsdGhpcy5rZXk9bnVsbH13aW5kb3cuSlNFbmNyeXB0PWJ0LHQuSlNFbmNyeXB0PWJ0LHQuZGVmYXVsdD1idCxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KShlKX0sNTc6ZnVuY3Rpb24odCxlLGkpe3ZhciByO3I9ZnVuY3Rpb24oaCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciB0PWgsZT10LmxpYixpPWUuV29yZEFycmF5LHI9ZS5IYXNoZXIscz10LmFsZ28sbz1bXSx5PVtdOyFmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7Zm9yKHZhciBlPW4uc3FydCh0KSxpPTI7aTw9ZTtpKyspaWYoISh0JWkpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGUodCl7cmV0dXJuIDQyOTQ5NjcyOTYqKHQtKDB8dCkpfDB9Zm9yKHZhciBpPTIscj0wO3I8NjQ7KXQoaSkmJihyPDgmJihvW3JdPWUobi5wb3coaSwuNSkpKSx5W3JdPWUobi5wb3coaSwxLzMpKSxyKyspLGkrK30oKTt2YXIgYj1bXSxhPXMuU0hBMjU2PXIuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IGkuaW5pdChvLnNsaWNlKDApKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuX2hhc2gud29yZHMscj1pWzBdLG49aVsxXSxzPWlbMl0sbz1pWzNdLGE9aVs0XSxoPWlbNV0sdT1pWzZdLGM9aVs3XSxmPTA7Zjw2NDtmKyspe2lmKGY8MTYpYltmXT0wfHRbZStmXTtlbHNle3ZhciBsPWJbZi0xNV0scD0obDw8MjV8bD4+PjcpXihsPDwxNHxsPj4+MTgpXmw+Pj4zLGQ9YltmLTJdLGc9KGQ8PDE1fGQ+Pj4xNyleKGQ8PDEzfGQ+Pj4xOSleZD4+PjEwO2JbZl09cCtiW2YtN10rZytiW2YtMTZdfXZhciBfPXImbl5yJnNebiZzLHY9KHI8PDMwfHI+Pj4yKV4ocjw8MTl8cj4+PjEzKV4ocjw8MTB8cj4+PjIyKSxtPWMrKChhPDwyNnxhPj4+NileKGE8PDIxfGE+Pj4xMSleKGE8PDd8YT4+PjI1KSkrKGEmaF5+YSZ1KSt5W2ZdK2JbZl07Yz11LHU9aCxoPWEsYT1vK218MCxvPXMscz1uLG49cixyPW0rKHYrXyl8MH1pWzBdPWlbMF0rcnwwLGlbMV09aVsxXStufDAsaVsyXT1pWzJdK3N8MCxpWzNdPWlbM10rb3wwLGlbNF09aVs0XSthfDAsaVs1XT1pWzVdK2h8MCxpWzZdPWlbNl0rdXwwLGlbN109aVs3XStjfDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YSxlPXQud29yZHMsaT04KnRoaXMuX25EYXRhQnl0ZXMscj04KnQuc2lnQnl0ZXM7cmV0dXJuIGVbcj4+PjVdfD0xMjg8PDI0LXIlMzIsZVsxNCsoNjQrcj4+Pjk8PDQpXT1uLmZsb29yKGkvNDI5NDk2NzI5NiksZVsxNSsoNjQrcj4+Pjk8PDQpXT1pLHQuc2lnQnl0ZXM9NCplLmxlbmd0aCx0aGlzLl9wcm9jZXNzKCksdGhpcy5faGFzaH0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1yLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLHR9fSk7dC5TSEEyNTY9ci5fY3JlYXRlSGVscGVyKGEpLHQuSG1hY1NIQTI1Nj1yLl9jcmVhdGVIbWFjSGVscGVyKGEpfShNYXRoKSxoLlNIQTI1Nn0sdC5leHBvcnRzPXIoaSg1OCkpfSw1ODpmdW5jdGlvbih0LGUsaSl7dmFyIHI7cj1mdW5jdGlvbigpe3ZhciBjLGksdCxlLHIsZixuLHMsbyxhLGgsdSxsPWx8fChjPU1hdGgsaT1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gcC5wcm90b3R5cGU9dCxlPW5ldyBwLHAucHJvdG90eXBlPW51bGwsZX0sZT0odD17fSkubGliPXt9LHI9ZS5CYXNlPXtleHRlbmQ6ZnVuY3Rpb24odCl7dmFyIGU9aSh0aGlzKTtyZXR1cm4gdCYmZS5taXhJbih0KSxlLmhhc093blByb3BlcnR5KCJpbml0IikmJnRoaXMuaW5pdCE9PWUuaW5pdHx8KGUuaW5pdD1mdW5jdGlvbigpe2UuJHN1cGVyLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksKGUuaW5pdC5wcm90b3R5cGU9ZSkuJHN1cGVyPXRoaXMsZX0sY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5leHRlbmQoKTtyZXR1cm4gdC5pbml0LmFwcGx5KHQsYXJndW1lbnRzKSx0fSxpbml0OmZ1bmN0aW9uKCl7fSxtaXhJbjpmdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdCl0Lmhhc093blByb3BlcnR5KGUpJiYodGhpc1tlXT10W2VdKTt0Lmhhc093blByb3BlcnR5KCJ0b1N0cmluZyIpJiYodGhpcy50b1N0cmluZz10LnRvU3RyaW5nKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyl9fSxmPWUuV29yZEFycmF5PXIuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsZSl7dD10aGlzLndvcmRzPXR8fFtdLHRoaXMuc2lnQnl0ZXM9bnVsbCE9ZT9lOjQqdC5sZW5ndGh9LHRvU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybih0fHxzKS5zdHJpbmdpZnkodGhpcyl9LGNvbmNhdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLndvcmRzLGk9dC53b3JkcyxyPXRoaXMuc2lnQnl0ZXMsbj10LnNpZ0J5dGVzO2lmKHRoaXMuY2xhbXAoKSxyJTQpZm9yKHZhciBzPTA7czxuO3MrKyl7dmFyIG89aVtzPj4+Ml0+Pj4yNC1zJTQqOCYyNTU7ZVtyK3M+Pj4yXXw9bzw8MjQtKHIrcyklNCo4fWVsc2UgZm9yKHM9MDtzPG47cys9NCllW3Ircz4+PjJdPWlbcz4+PjJdO3JldHVybiB0aGlzLnNpZ0J5dGVzKz1uLHRoaXN9LGNsYW1wOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy53b3JkcyxlPXRoaXMuc2lnQnl0ZXM7dFtlPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLWUlNCo4LHQubGVuZ3RoPWMuY2VpbChlLzQpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PXIuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gdC53b3Jkcz10aGlzLndvcmRzLnNsaWNlKDApLHR9LHJhbmRvbTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe2U9ZTt2YXIgaT05ODc2NTQzMjEscj00Mjk0OTY3Mjk1O3JldHVybiBmdW5jdGlvbigpe3ZhciB0PSgoaT0zNjk2OSooNjU1MzUmaSkrKGk+PjE2KSZyKTw8MTYpKyhlPTE4ZTMqKDY1NTM1JmUpKyhlPj4xNikmcikmcjtyZXR1cm4gdC89NDI5NDk2NzI5NiwodCs9LjUpKiguNTxjLnJhbmRvbSgpPzE6LTEpfX1mb3IodmFyIGkscj1bXSxuPTA7bjx0O24rPTQpe3ZhciBzPWUoNDI5NDk2NzI5NiooaXx8Yy5yYW5kb20oKSkpO2k9OTg3NjU0MDcxKnMoKSxyLnB1c2goNDI5NDk2NzI5NipzKCl8MCl9cmV0dXJuIG5ldyBmLmluaXQocix0KX19KSxuPXQuZW5jPXt9LHM9bi5IZXg9e3N0cmluZ2lmeTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC53b3JkcyxpPXQuc2lnQnl0ZXMscj1bXSxuPTA7bjxpO24rKyl7dmFyIHM9ZVtuPj4+Ml0+Pj4yNC1uJTQqOCYyNTU7ci5wdXNoKChzPj4+NCkudG9TdHJpbmcoMTYpKSxyLnB1c2goKDE1JnMpLnRvU3RyaW5nKDE2KSl9cmV0dXJuIHIuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxpPVtdLHI9MDtyPGU7cis9MilpW3I+Pj4zXXw9cGFyc2VJbnQodC5zdWJzdHIociwyKSwxNik8PDI0LXIlOCo0O3JldHVybiBuZXcgZi5pbml0KGksZS8yKX19LG89bi5MYXRpbjE9e3N0cmluZ2lmeTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC53b3JkcyxpPXQuc2lnQnl0ZXMscj1bXSxuPTA7bjxpO24rKyl7dmFyIHM9ZVtuPj4+Ml0+Pj4yNC1uJTQqOCYyNTU7ci5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUocykpfXJldHVybiByLmpvaW4oIiIpfSxwYXJzZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgsaT1bXSxyPTA7cjxlO3IrKylpW3I+Pj4yXXw9KDI1NSZ0LmNoYXJDb2RlQXQocikpPDwyNC1yJTQqODtyZXR1cm4gbmV3IGYuaW5pdChpLGUpfX0sYT1uLlV0Zjg9e3N0cmluZ2lmeTpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoby5zdHJpbmdpZnkodCkpKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoIk1hbGZvcm1lZCBVVEYtOCBkYXRhIil9fSxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm4gby5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpKX19LGg9ZS5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtPXIuZXh0ZW5kKHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RhdGE9bmV3IGYuaW5pdCx0aGlzLl9uRGF0YUJ5dGVzPTB9LF9hcHBlbmQ6ZnVuY3Rpb24odCl7InN0cmluZyI9PXR5cGVvZiB0JiYodD1hLnBhcnNlKHQpKSx0aGlzLl9kYXRhLmNvbmNhdCh0KSx0aGlzLl9uRGF0YUJ5dGVzKz10LnNpZ0J5dGVzfSxfcHJvY2VzczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9kYXRhLGk9ZS53b3JkcyxyPWUuc2lnQnl0ZXMsbj10aGlzLmJsb2NrU2l6ZSxzPXIvKDQqbiksbz0ocz10P2MuY2VpbChzKTpjLm1heCgoMHxzKS10aGlzLl9taW5CdWZmZXJTaXplLDApKSpuLGE9Yy5taW4oNCpvLHIpO2lmKG8pe2Zvcih2YXIgaD0wO2g8bztoKz1uKXRoaXMuX2RvUHJvY2Vzc0Jsb2NrKGksaCk7dmFyIHU9aS5zcGxpY2UoMCxvKTtlLnNpZ0J5dGVzLT1hfXJldHVybiBuZXcgZi5pbml0KHUsYSl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9ci5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiB0Ll9kYXRhPXRoaXMuX2RhdGEuY2xvbmUoKSx0fSxfbWluQnVmZmVyU2l6ZTowfSksZS5IYXNoZXI9aC5leHRlbmQoe2NmZzpyLmV4dGVuZCgpLGluaXQ6ZnVuY3Rpb24odCl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKHQpLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXtoLnJlc2V0LmNhbGwodGhpcyksdGhpcy5fZG9SZXNldCgpfSx1cGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FwcGVuZCh0KSx0aGlzLl9wcm9jZXNzKCksdGhpc30sZmluYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2FwcGVuZCh0KSx0aGlzLl9kb0ZpbmFsaXplKCl9LGJsb2NrU2l6ZToxNixfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgaS5pbml0KGUpLmZpbmFsaXplKHQpfX0sX2NyZWF0ZUhtYWNIZWxwZXI6ZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB1LkhNQUMuaW5pdChpLGUpLmZpbmFsaXplKHQpfX19KSx1PXQuYWxnbz17fSx0KTtmdW5jdGlvbiBwKCl7fXJldHVybiBsfSx0LmV4cG9ydHM9cigpfX0sWzI4NV0pOwp1cGJqc0NodW5rKFsyMjddLHsyOTE6ZnVuY3Rpb24oZSxyLG4pe2UuZXhwb3J0cz1uKDI5Mil9LDI5MjpmdW5jdGlvbihlLHIsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQociwiY3VycmVuY3lTdXBwb3J0RW5hYmxlZCIsZnVuY3Rpb24oKXtyZXR1cm4gbX0pLG4uZChyLCJjdXJyZW5jeVJhdGVzIixmdW5jdGlvbigpe3JldHVybiBSfSksci5zZXRDb25maWc9YyxyLmFkZEJpZFJlc3BvbnNlSG9vaz13O3ZhciBhPW4oMjMpLHU9big0KSxzPShuLm4odSksbig1KSksZj1uKDApLG89bigzKSxkPW4oMTMpO2Z1bmN0aW9uIGwoZSl7cmV0dXJuKGw9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgeSxnPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvcHJlYmlkL2N1cnJlbmN5LWZpbGVAMS9sYXRlc3QuanNvbj9kYXRlPSQkVE9EQVkkJCIsdj00LHA9W10sYj17fSxoPSExLEM9ITAsUz0iVVNEIixtPSExLFI9e30sRD17fTtmdW5jdGlvbiBjKGUpe3ZhciByPWc7aWYoIm9iamVjdCI9PT1sKGUucmF0ZXMpJiYoUi5jb252ZXJzaW9ucz1lLnJhdGVzLEM9IShoPSEwKSksIm9iamVjdCI9PT1sKGUuZGVmYXVsdFJhdGVzKSYmKHk9ZS5kZWZhdWx0UmF0ZXMsUi5jb252ZXJzaW9ucz15LGg9ITApLCJzdHJpbmciPT10eXBlb2YgZS5hZFNlcnZlckN1cnJlbmN5KXtmLmxvZ0luZm8oImVuYWJsaW5nIGN1cnJlbmN5IHN1cHBvcnQiLGFyZ3VtZW50cyksUz1lLmFkU2VydmVyQ3VycmVuY3ksZS5jb252ZXJzaW9uUmF0ZUZpbGUmJihmLmxvZ0luZm8oImN1cnJlbmN5IHVzaW5nIG92ZXJyaWRlIGNvbnZlcnNpb25SYXRlRmlsZToiLGUuY29udmVyc2lvblJhdGVGaWxlKSxyPWUuY29udmVyc2lvblJhdGVGaWxlKTt2YXIgbj1yLmluZGV4T2YoIiQkVE9EQVkkJCIpO2lmKC0xIT09bil7dmFyIG89bmV3IERhdGUsYz0iIi5jb25jYXQoby5nZXRNb250aCgpKzEpLHQ9IiIuY29uY2F0KG8uZ2V0RGF0ZSgpKTtjLmxlbmd0aDwyJiYoYz0iMCIuY29uY2F0KGMpKSx0Lmxlbmd0aDwyJiYodD0iMCIuY29uY2F0KHQpKTt2YXIgaT0iIi5jb25jYXQoby5nZXRGdWxsWWVhcigpKS5jb25jYXQoYykuY29uY2F0KHQpO3I9IiIuY29uY2F0KHIuc3Vic3RyaW5nKDAsbikpLmNvbmNhdChpKS5jb25jYXQoci5zdWJzdHJpbmcobis5LHIubGVuZ3RoKSl9IWZ1bmN0aW9uKGUpe2I9e30sbT0hMCxmLmxvZ0luZm8oIkluc3RhbGxpbmcgYWRkQmlkUmVzcG9uc2UgZGVjb3JhdG9yIGZvciBjdXJyZW5jeSBtb2R1bGUiLGFyZ3VtZW50cyksT2JqZWN0KGQuYSkoImFkZEJpZFJlc3BvbnNlIikuYmVmb3JlKHcsMTAwKSxDJiYoQz0hMSxPYmplY3Qocy5hKShlLHtzdWNjZXNzOmZ1bmN0aW9uKHIpe3RyeXtSPUpTT04ucGFyc2UociksZi5sb2dJbmZvKCJjdXJyZW5jeVJhdGVzIHNldCB0byAiK0pTT04uc3RyaW5naWZ5KFIpKSxoPSEwLE8oKX1jYXRjaChlKXtJKCJGYWlsZWQgdG8gcGFyc2UgY3VycmVuY3lSYXRlcyByZXNwb25zZTogIityKX19LGVycm9yOkl9KSl9KHIpfWVsc2UgZi5sb2dJbmZvKCJkaXNhYmxpbmcgY3VycmVuY3kgc3VwcG9ydCIpLGZ1bmN0aW9uKCl7Zi5sb2dJbmZvKCJVbmluc3RhbGxpbmcgYWRkQmlkUmVzcG9uc2UgZGVjb3JhdG9yIGZvciBjdXJyZW5jeSBtb2R1bGUiLGFyZ3VtZW50cyksT2JqZWN0KGQuYSkoImFkZEJpZFJlc3BvbnNlIikuZ2V0SG9va3Moe2hvb2s6d30pLnJlbW92ZSgpLFM9IlVTRCIsYj17fSxoPW09ITEsQz0hMCxSPXt9LEQ9e319KCk7Im9iamVjdCI9PT1sKGUuYmlkZGVyQ3VycmVuY3lEZWZhdWx0KSYmKEQ9ZS5iaWRkZXJDdXJyZW5jeURlZmF1bHQpfWZ1bmN0aW9uIEkoZSl7eT8oZi5sb2dXYXJuKGUpLGYubG9nV2FybigiQ3VycmVuY3kgZmFpbGVkIGxvYWRpbmcgcmF0ZXMsIGZhbGxpbmcgYmFjayB0byBjdXJyZW5jeS5kZWZhdWx0UmF0ZXMiKSk6Zi5sb2dFcnJvcihlKX1mdW5jdGlvbiB3KGUscixuKXtpZighbilyZXR1cm4gZS5jYWxsKHRoaXMscik7dmFyIG8sYyx0LGk9bi5iaWRkZXJDb2RlfHxuLmJpZGRlcjtpZihEW2ldKXt2YXIgcz1EW2ldO24uY3VycmVuY3kmJnMhPT1uLmN1cnJlbmN5P2YubG9nV2FybigiQ3VycmVuY3kgZGVmYXVsdCAnIi5jb25jYXQoaSwiOiAiKS5jb25jYXQocywiJyBpZ25vcmVkLiBhZGFwdGVyIHNwZWNpZmllZCAnIikuY29uY2F0KG4uY3VycmVuY3ksIiciKSk6bi5jdXJyZW5jeT1zfWlmKG4uY3VycmVuY3l8fChmLmxvZ1dhcm4oJ0N1cnJlbmN5IG5vdCBzcGVjaWZpZWQgb24gYmlkLiAgRGVmYXVsdGVkIHRvICJVU0QiJyksbi5jdXJyZW5jeT0iVVNEIiksbi5nZXRDcG1Jbk5ld0N1cnJlbmN5PWZ1bmN0aW9uKGUpe3JldHVybihwYXJzZUZsb2F0KHRoaXMuY3BtKSpqKHRoaXMuY3VycmVuY3ksZSkpLnRvRml4ZWQoMyl9LG4uY3VycmVuY3k9PT1TKXJldHVybiBlLmNhbGwodGhpcyxyLG4pO3AucHVzaCgobz1lLGM9dGhpcyx0PVtyLG5dLGZ1bmN0aW9uKCl7dmFyIHI9dFsxXTtpZih2b2lkIDAhPT1yJiYiY3VycmVuY3kiaW4gciYmImNwbSJpbiByKXt2YXIgZT1yLmN1cnJlbmN5O3RyeXt2YXIgbj1qKGUpOzEhPT1uJiYoci5jcG09KHBhcnNlRmxvYXQoci5jcG0pKm4pLnRvRml4ZWQoNCksci5jdXJyZW5jeT1TKX1jYXRjaChlKXtmLmxvZ1dhcm4oIlJldHVybmluZyBOT19CSUQsIGdldEN1cnJlbmN5Q29udmVyc2lvbiB0aHJldyBlcnJvcjogIixlKSx0WzFdPU9iamVjdChhLmEpKHUuU1RBVFVTLk5PX0JJRCx7YmlkZGVyOnIuYmlkZGVyQ29kZXx8ci5iaWRkZXIsYmlkSWQ6ci5yZXF1ZXN0SWR9KX19cmV0dXJuIG8uYXBwbHkoYyx0KX0pKSxtJiYhaHx8TygpfWZ1bmN0aW9uIE8oKXtmb3IoOzA8cC5sZW5ndGg7KXAuc2hpZnQoKSgpfWZ1bmN0aW9uIGooZSxyKXt2YXIgbixvPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09cj9yOlMsYz1udWxsLHQ9IiIuY29uY2F0KGUsIi0+IikuY29uY2F0KG8pO2lmKHQgaW4gYiljPWJbdF0sZi5sb2dNZXNzYWdlKCJVc2luZyBjb252ZXJzaW9uQ2FjaGUgdmFsdWUgIitjKyIgZm9yICIrdCk7ZWxzZSBpZighMT09PW0pe2lmKCJVU0QiIT09ZSl0aHJvdyBuZXcgRXJyb3IoIlByZWJpZCBjdXJyZW5jeSBzdXBwb3J0IGhhcyBub3QgYmVlbiBlbmFibGVkIGFuZCBmcm9tQ3VycmVuY3kgaXMgbm90IFVTRCIpO2M9MX1lbHNlIGlmKGU9PT1vKWM9MTtlbHNlIGlmKGUgaW4gUi5jb252ZXJzaW9ucyl7aWYoIShvIGluKG49Ui5jb252ZXJzaW9uc1tlXSkpKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGFkU2VydmVyQ3VycmVuY3kgaW4gY29uZmlnICciK28rIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7Yz1uW29dLGYubG9nSW5mbygiZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHVzaW5nIGRpcmVjdCAiK2UrIiB0byAiK28rIiBjb252ZXJzaW9uUmF0ZSAiK2MpfWVsc2UgaWYobyBpbiBSLmNvbnZlcnNpb25zKXtpZighKGUgaW4obj1SLmNvbnZlcnNpb25zW29dKSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgZnJvbUN1cnJlbmN5ICciK2UrIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7Yz1GKDEvbltlXSx2KSxmLmxvZ0luZm8oImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyByZWNpcHJvY2FsICIrZSsiIHRvICIrbysiIGNvbnZlcnNpb25SYXRlICIrYyl9ZWxzZXt2YXIgaT1PYmplY3Qua2V5cyhSLmNvbnZlcnNpb25zKVswXTtpZighKGUgaW4gUi5jb252ZXJzaW9uc1tpXSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgZnJvbUN1cnJlbmN5ICciK2UrIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7dmFyIHM9MS9SLmNvbnZlcnNpb25zW2ldW2VdO2lmKCEobyBpbiBSLmNvbnZlcnNpb25zW2ldKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBhZFNlcnZlckN1cnJlbmN5IGluIGNvbmZpZyAnIitvKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO2M9RihzKlIuY29udmVyc2lvbnNbaV1bb10sdiksZi5sb2dJbmZvKCJnZXRDdXJyZW5jeUNvbnZlcnNpb24gdXNpbmcgaW50ZXJtZWRpYXRlICIrZSsiIHRocnUgIitpKyIgdG8gIitvKyIgY29udmVyc2lvblJhdGUgIitjKX1yZXR1cm4gdCBpbiBifHwoZi5sb2dNZXNzYWdlKCJBZGRpbmcgY29udmVyc2lvbkNhY2hlIHZhbHVlICIrYysiIGZvciAiK3QpLGJbdF09YyksY31mdW5jdGlvbiBGKGUscil7Zm9yKHZhciBuPTEsbz0wO288cjtvKyspbis9IjAiO3JldHVybiBNYXRoLnJvdW5kKGUqbikvbn1vLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeSIsZnVuY3Rpb24oZSl7cmV0dXJuIGMoZS5jdXJyZW5jeSl9KX19LFsyOTFdKTsKdXBianNDaHVuayhbMjE3XSx7MzEzOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cigzMTQpfSwzMTQ6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsIkRpc3RyaWN0bURteEFkYXB0ZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSx0Lm1hdGNoUmVxdWVzdD1kLHQuY2hlY2tEZWVwQXJyYXk9Yyx0LmRlZmF1bHRTaXplPXA7dmFyIHU9cigwKSxpPXIoMSksYT1yKDMpO2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkpcmV0dXJuO3ZhciByPVtdLGk9ITAsbj0hMSx1PXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShhPW8ubmV4dCgpKS5kb25lKSYmKHIucHVzaChhLnZhbHVlKSwhdHx8ci5sZW5ndGghPT10KTtpPSEwKTt9Y2F0Y2goZSl7bj0hMCx1PWV9ZmluYWxseXt0cnl7aXx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHV9fXJldHVybiByfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX1mdW5jdGlvbiBvKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsInZhbHVlImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9KHRoaXMsZSksdGhpcy5jb2RlPSJkaXN0cmljdG1ETVgiLHRoaXMuc3VwcG9ydGVkRm9ybWF0PVsiYmFubmVyIl19dmFyIHQscixpO3JldHVybiB0PWUsKHI9W3trZXk6ImlzQmlkUmVxdWVzdFZhbGlkIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hKCFlLnBhcmFtcy5kbXhpZHx8IWUucGFyYW1zLm1lbWJlcmlkKX19LHtrZXk6ImludGVycHJldFJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlLHUpe3JldHVybihlPWUuYm9keXx8e30pLnNlYXRiaWQmJkFycmF5LmlzQXJyYXkoZS5zZWF0YmlkKT9lLnNlYXRiaWQucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5iaWQucmVkdWNlKGZ1bmN0aW9uKGUsdCl7aWYoZS5wcmljZTx0LnByaWNlKXt2YXIgcj1wKGQodC5pbXBpZCx1KSksaT1yLndpZHRoLG49ci5oZWlnaHQ7cmV0dXJuIHQuY3BtPXQucHJpY2UsdC5iaWRJZD10LmltcGlkLHQucmVxdWVzdElkPXQuaW1waWQsdC53aWR0aD10Lnd8fGksdC5oZWlnaHQ9dC5ofHxuLHQuYWQ9dC5hZG0sdC5uZXRSZXZlbnVlPSEwLHQuY3JlYXRpdmVJZD10LmNyaWQsdC5jdXJyZW5jeT0iVVNEIix0LnR0bD02MCx0fXJldHVybiBlLmNwbT1lLnByaWNlLGV9LHtwcmljZTowfSk7cmV0dXJuIHIuYWRtJiZlLnB1c2gociksZX0sW10pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hIWUuYmlkSWR9KTpbXX19LHtrZXk6ImJ1aWxkUmVxdWVzdHMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9YS5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLGk9e2lkOnUuZ2VuZXJhdGVVVUlEKCksY3VyOlsiVVNEIl0sdG1heDpyLTMwMCx0ZXN0OnRoaXMudGVzdCgpfHwwLHNpdGU6e3B1Ymxpc2hlcjp7aWQ6U3RyaW5nKGVbMF0ucGFyYW1zLm1lbWJlcmlkKXx8bnVsbH19fTtpLnRlc3R8fGRlbGV0ZSBpLnRlc3QsdC5nZHByQ29uc2VudCYmKGkucmVncz17fSxpLnJlZ3MuZXh0PXt9LGkucmVncy5leHQuZ2Rwcj0hMD09PXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowLGkucmVncy5leHQuZ2RwciYmKGkucmVncy5leHQuY29uc2VudD10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKTt2YXIgbj1lLm1hcChmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gdC5pZD1lLmJpZElkLHQudGFnaWQ9U3RyaW5nKGUucGFyYW1zLmRteGlkKSx0LnNlY3VyZT0iaHR0cHM6Ij09PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbD8xOjAsdC5iYW5uZXI9e3RvcGZyYW1lOjEsdzplLnNpemVzWzBdWzBdfHwwLGg6ZS5zaXplc1swXVsxXXx8MCxmb3JtYXQ6ZS5zaXplcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSl9LHR9KTtyZXR1cm4gaS5pbXA9bix7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vZG14LmRpc3RyaWN0bS5pby9iL3YxIixkYXRhOkpTT04uc3RyaW5naWZ5KGkpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIix3aXRoQ3JlZGVudGlhbHM6ITB9LGJpZGRlclJlcXVlc3Q6dH19fSx7a2V5OiJ0ZXN0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybi0xIT09d2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiZG1UZXN0PXRydWUiKT8xOjB9fSx7a2V5OiJnZXRVc2VyU3luY3MiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUuaWZyYW1lRW5hYmxlZClyZXR1cm5be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2Nkbi5kaXN0cmljdG0uaW8vaWRzL2luZGV4Lmh0bWwifV19fV0pJiZvKHQucHJvdG90eXBlLHIpLGkmJm8odCxpKSxlfSgpO2Z1bmN0aW9uIGQodCxlKXtyZXR1cm4gbihlLmJpZGRlclJlcXVlc3QuYmlkcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkSWQ9PT10fSksMSlbMF19ZnVuY3Rpb24gYyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmQXJyYXkuaXNBcnJheShlWzBdKT9lWzBdOmV9ZnVuY3Rpb24gcChlKXt2YXIgdD1lLnNpemVzLHI9e307cmV0dXJuIHIud2lkdGg9Yyh0KVswXSxyLmhlaWdodD1jKHQpWzFdLHJ9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKG5ldyBzKX19LFszMTNdKTsKdXBianNDaHVuayhbMjEyXSx7MzIzOmZ1bmN0aW9uKGUscixpKXtlLmV4cG9ydHM9aSgzMjQpfSwzMjQ6ZnVuY3Rpb24oZSxyLGkpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksaS5kKHIsImVteEFkYXB0ZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSxpLmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gcH0pO3ZhciBsPWkoMCksdD1pKDEpLG89aSgyKSxuPWkoMTApLGE9aSgxMSksZD1pLm4oYSk7ZnVuY3Rpb24gbSgpe3JldHVybihtPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBpPWFyZ3VtZW50c1tyXTtmb3IodmFyIHQgaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSx0KSYmKGVbdF09aVt0XSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHM9ImVteF9kaWdpdGFsIix1PSIvL2pzLmJyZWFsdGltZS5jb20vb3V0c3RyZWFtLzEuMzAuMC9idW5kbGUuanMiLGc9e3ZhbGlkYXRlU2l6ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGwuaXNBcnJheShlKSYmdm9pZCAwIT09ZVswXT9lLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBsLmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aH0pOihsLmxvZ1dhcm4ocysiOiBTaXplcyBzaG91bGQgYmUgYW4gYXJyYXkiKSwhMSl9LGNoZWNrVmlkZW9Db250ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyYmZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJigiaW5zdHJlYW0iPT09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHR8fCJvdXRzdHJlYW0iPT09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQpfSxidWlsZEJhbm5lcjpmdW5jdGlvbihlKXt2YXIgcj1bXTtyZXR1cm4gcj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzLGcudmFsaWRhdGVTaXplcyhyKXx8KGwubG9nV2FybihzKyI6IGNvdWxkIG5vdCBkZXRlY3QgbWVkaWFUeXBlIGJhbm5lciBzaXplcy4gQXNzaWduaW5nIHRvIGJpZCBzaXplcyBpbnN0ZWFkIikscj1lLnNpemVzKSx7Zm9ybWF0OnIubWFwKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pLHc6clswXVswXSxoOnJbMF1bMV19fSxmb3JtYXRWaWRlb1Jlc3BvbnNlOmZ1bmN0aW9uKGUscixpKXtyZXR1cm4gZS52YXN0WG1sPXIuYWRtLGkuYmlkUmVxdWVzdCYmaS5iaWRSZXF1ZXN0Lm1lZGlhVHlwZXMmJmkuYmlkUmVxdWVzdC5tZWRpYVR5cGVzLnZpZGVvJiYib3V0c3RyZWFtIj09PWkuYmlkUmVxdWVzdC5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJihlLnJlbmRlcmVyPWcuY3JlYXRlUmVuZGVyZXIoZSx7aWQ6ci5pZCx1cmw6dX0pKSxlfSxpc01vYmlsZTpmdW5jdGlvbigpe3JldHVybi8oaW9zfGlwb2R8aXBhZHxpcGhvbmV8YW5kcm9pZCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxpc0Nvbm5lY3RlZFRWOmZ1bmN0aW9uKCl7cmV0dXJuLyhzbWFydFstXT90dnxoYmJ0dnxhcHBsZXR2fGdvb2dsZXR2fGhkbWl8bmV0Y2FzdFwudHZ8dmllcmF8bmV0dHZ8cm9rdXxcYmR0dlxifHNvbnlkdHZ8aW5ldHR2YnJvd3NlcnxcYnR2XGIpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sZ2V0RGV2aWNlOmZ1bmN0aW9uKCl7cmV0dXJue3VhOm5hdmlnYXRvci51c2VyQWdlbnQsanM6MSxkbnQ6InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PW5hdmlnYXRvci5tc0RvTm90VHJhY2s/MTowLGg6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxkZXZpY2V0eXBlOmcuaXNNb2JpbGUoKT8xOmcuaXNDb25uZWN0ZWRUVigpPzM6MixsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5zeXN0ZW1MYW5ndWFnZX19LGNsZWFuUHJvdG9jb2xzOmZ1bmN0aW9uKGUpe3JldHVybiBlLnByb3RvY29scyYmZCgpKGUucHJvdG9jb2xzLDcpJiYobC5sb2dXYXJuKHMrIjogVkFTVCA0LjAgaXMgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQuIFRoaXMgcHJvdG9jb2wgaGFzIGJlZW4gZmlsdGVyZWQgb3V0IG9mIHRoZSByZXF1ZXN0LiIpLGUucHJvdG9jb2xzPWUucHJvdG9jb2xzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gNyE9PWV9KSksZX0sb3V0c3RyZWFtUmVuZGVyOmZ1bmN0aW9uKHIpe3IucmVuZGVyZXIucHVzaChmdW5jdGlvbigpe3ZhciBlPXImJnIucGFyYW1zJiZyLnBhcmFtc1swXSYmci5wYXJhbXNbMF0udmlkZW8/ci5wYXJhbXNbMF0udmlkZW86e307d2luZG93LmVteFZpZGVvUXVldWU9d2luZG93LmVteFZpZGVvUXVldWV8fFtdLHdpbmRvdy5xdWV1ZUVteFZpZGVvKHtpZDpyLmFkVW5pdENvZGUsYWRzUmVzcG9uc2VzOnIudmFzdFhtbCxvcHRpb25zOmV9KSx3aW5kb3cuZW14VmlkZW9SZWFkeSYmd2luZG93LnZpZGVvanMmJndpbmRvdy5lbXhWaWRlb1JlYWR5KCl9KX0sY3JlYXRlUmVuZGVyZXI6ZnVuY3Rpb24oZSxyKXt2YXIgaT1uLmEuaW5zdGFsbCh7aWQ6ci5pZCx1cmw6dSxsb2FkZWQ6ITF9KTt0cnl7aS5zZXRSZW5kZXIoZy5vdXRzdHJlYW1SZW5kZXIpfWNhdGNoKGUpe2wubG9nV2FybigiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gaX0sYnVpbGRWaWRlbzpmdW5jdGlvbihlKXt2YXIgcj1tKGUubWVkaWFUeXBlcy52aWRlbyxlLnBhcmFtcy52aWRlbyk7cmV0dXJuIGwuaXNBcnJheShlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSk/KHIudz1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVswXSxyLmg9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMV0pOihyLnc9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0sci5oPWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzFdKSxnLmNsZWFuUHJvdG9jb2xzKHIpfSxwYXJzZVJlc3BvbnNlOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGUucmVwbGFjZSgvJSg/IVswLTldWzAtOWEtZkEtRl0rKS9nLCIlMjUiKSl9Y2F0Y2goZSl7bC5sb2dFcnJvcigiZW14X2RpZ2l0YWxCaWRBZGFwdGVyIiwiZXJyb3IiLGUpfX0sZ2V0UmVmZXJyZXI6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX0sZ2V0R2RwcjpmdW5jdGlvbihlLHIpe3JldHVybiBlLmdkcHJDb25zZW50JiYoci5yZWdzPXtleHQ6e2dkcHI6ITA9PT1lLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MH19KSxlLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoci51c2VyPXtleHQ6e2NvbnNlbnQ6ZS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nfX0pLHJ9fSxwPXtjb2RlOnMsc3VwcG9ydGVkTWVkaWFUeXBlczpbby5iLG8uZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnBhcmFtcylyZXR1cm4gbC5sb2dXYXJuKHMrIjogTWlzc2luZyBiaWQgb3IgYmlkIHBhcmFtcy4iKSwhMTtpZihlLmJpZGRlciE9PXMpcmV0dXJuIGwubG9nV2FybihzKyc6IE11c3QgdXNlICJlbXhfZGlnaXRhbCIgYXMgYmlkZGVyIGNvZGUuJyksITE7aWYoIWUucGFyYW1zLnRhZ2lkfHwhbC5pc1N0cihlLnBhcmFtcy50YWdpZCkpcmV0dXJuIGwubG9nV2FybihzKyI6IE1pc3NpbmcgdGFnaWQgcGFyYW0gb3IgdGFnaWQgcHJlc2VudCBhbmQgbm90IHR5cGUgU3RyaW5nLiIpLCExO3ZhciByO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lcil7aWYocj1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcywhZy52YWxpZGF0ZVNpemVzKHIpKXJldHVybiBsLmxvZ1dhcm4ocysiOiBNaXNzaW5nIHNpemVzIGluIGJpZCIpLCExfWVsc2UgaWYoZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8pe2lmKCFnLmNoZWNrVmlkZW9Db250ZXh0KGUpKXJldHVybiBsLmxvZ1dhcm4ocysiOiBNaXNzaW5nIHZpZGVvIGNvbnRleHQ6IGluc3RyZWFtIG9yIG91dHN0cmVhbSIpLCExO2lmKCFlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSlyZXR1cm4gbC5sb2dXYXJuKHMrIjogTWlzc2luZyB2aWRlbyBwbGF5ZXJTaXplIiksITF9cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgYT1bXSxpPXIudGltZW91dHx8IiIsdD1EYXRlLm5vdygpLG49bG9jYXRpb24ucHJvdG9jb2wrIi8vaGIuZW14ZGd0LmNvbT90PSIraSsiJnRzPSIrdCsiJnNyYz1wYmpzIixvPS0xPGxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoImh0dHBzIik/MTowLGQ9bC5nZXRUb3BXaW5kb3dMb2NhdGlvbigpLmhvc3RuYW1lLHM9ci5yZWZlcmVySW5mby5yZWZlcmVyLHU9Zy5nZXREZXZpY2UoKSxwPWcuZ2V0UmVmZXJyZXIoKTtsLl9lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIHI9bC5nZXRCaWRJZFBhcmFtZXRlcigidGFnaWQiLGUucGFyYW1zKSxpPXBhcnNlRmxvYXQobC5nZXRCaWRJZFBhcmFtZXRlcigiYmlkZmxvb3IiLGUucGFyYW1zKSl8fDAsdD0hIWUubWVkaWFUeXBlcy52aWRlbyxuPW0oe2lkOmUuYmlkSWQsdGlkOmUudHJhbnNhY3Rpb25JZCx0YWdpZDpyLHNlY3VyZTpvfSx0P3t2aWRlbzpnLmJ1aWxkVmlkZW8oZSl9OntiYW5uZXI6Zy5idWlsZEJhbm5lcihlKX0sMDxpP3tiaWRmbG9vcjppLGJpZGZsb29yY3VyOiJVU0QifTp7fSk7YS5wdXNoKG4pfSk7dmFyIGM9e2lkOnIuYXVjdGlvbklkLGltcDphLGRldmljZTp1LHNpdGU6e2RvbWFpbjpkLHBhZ2U6cyxyZWY6cH0sY3VyOiJVU0QiLHZlcnNpb246IjEuNDEuMiJ9O3JldHVybiBjPWcuZ2V0R2RwcihyLG0oe30sYykpLHImJnIudXNwQ29uc2VudCYmKGMudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpLHttZXRob2Q6IlBPU1QiLHVybDpuLGRhdGE6SlNPTi5zdHJpbmdpZnkoYyksb3B0aW9uczp7d2l0aENyZWRlbnRpYWxzOiEwfSxiaWRSZXF1ZXN0OnJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLG4pe3ZhciBhPVtdLHI9ZS5ib2R5fHx7fTtyZXR1cm4gci5zZWF0YmlkJiYwPHIuc2VhdGJpZC5sZW5ndGgmJnIuc2VhdGJpZFswXS5iaWQmJnIuc2VhdGJpZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2U9ZS5iaWRbMF07dmFyIHI9ITEsaT1nLnBhcnNlUmVzcG9uc2UoZS5hZG0pfHwiIix0PXtyZXF1ZXN0SWQ6ZS5pZCxjcG06ZS5wcmljZSx3aWR0aDplLncsaGVpZ2h0OmUuaCxjcmVhdGl2ZUlkOmUuY3JpZHx8ZS5pZCxkZWFsSWQ6ZS5kZWFsaWR8fG51bGwsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6ZS50dGwsYWQ6aX07ZS5hZG0mJi0xPGUuYWRtLmluZGV4T2YoIjw/eG1sIHZlcnNpb249IikmJihyPSEwLHQ9Zy5mb3JtYXRWaWRlb1Jlc3BvbnNlKHQsbSh7fSxlKSxuKSksdC5tZWRpYVR5cGU9cj9vLmQ6by5iLGEucHVzaCh0KX0pLGF9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlKXt2YXIgcj1bXTtyZXR1cm4gZS5pZnJhbWVFbmFibGVkJiZyLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOiIvL2JpZGRyLmJyZWFsdGltZS5jb20vY2hlY2suaHRtbCJ9KSxyfX07T2JqZWN0KHQucmVnaXN0ZXJCaWRkZXIpKHApfX0sWzMyM10pOwp1cGJqc0NodW5rKFszMF0sezE4OmZ1bmN0aW9uKGEsYil7dmFyIGM7Yz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtjPWN8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl8fGV2YWwoInRoaXMiKX1jYXRjaChlKXsib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmKGM9d2luZG93KX1hLmV4cG9ydHM9Y30sMzYzOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9bigzNjQpfSwzNjQ6ZnVuY3Rpb24oZSxyLGkpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZnVuY3Rpb24oeSl7aS5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIG59KTt2YXIgTz1pKDApLHc9aSgzKSxlPWkoMTEpLFU9aS5uKGUpLHQ9aSgxKTtmdW5jdGlvbiBqKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpKXJldHVybjt2YXIgbj1bXSxyPSEwLGk9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgYSxjPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0oYT1jLm5leHQoKSkuZG9uZSkmJihuLnB1c2goYS52YWx1ZSksIXR8fG4ubGVuZ3RoIT09dCk7cj0hMCk7fWNhdGNoKGUpe2k9ITAsbz1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1yZXR1cm4gbn0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9ZnVuY3Rpb24gVCgpe3JldHVybihUPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEk9e21lbWJlcjoiWWNYcjg3ejJscGJCIn0sUz17fSxBPW51bGw7dmFyIG49e2NvZGU6Imd1bWd1bSIsYWxpYXNlczpbImdnIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJhbXMsbj1lLmFkVW5pdENvZGU7c3dpdGNoKCEwKXtjYXNlISF0LmluU2NyZWVuOmNhc2UhIXQuaW5TbG90OmNhc2UhIXQuSUNWOmJyZWFrO2RlZmF1bHQ6cmV0dXJuIE8ubG9nV2FybigiW0d1bUd1bV0gTm8gcHJvZHVjdCBzZWxlY3RlZCBmb3IgdGhlIHBsYWNlbWVudCAiLmNvbmNhdChuLCIsIHBsZWFzZSBjaGVjayB5b3VyIGltcGxlbWVudGF0aW9uLiIpKSwhMX1yZXR1cm4hKHQuYmlkZmxvb3ImJigibnVtYmVyIiE9dHlwZW9mIHQuYmlkZmxvb3J8fCFpc0Zpbml0ZSh0LmJpZGZsb29yKSkpfHwoTy5sb2dXYXJuKCJbR3VtR3VtXSBiaWRmbG9vciBtdXN0IGJlIGEgTnVtYmVyIiksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsaCl7dmFyIGI9W10sdj1oJiZoLmdkcHJDb25zZW50O3JldHVybiBPLl9lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbz13LmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0IiksYT1lLmJpZElkLGM9ZS5wYXJhbXMsZD12b2lkIDA9PT1jP3t9OmMsdT1lLnNjaGFpbixzPWUudHJhbnNhY3Rpb25JZCxwPWUudXNlcklkLGw9dm9pZCAwPT09cD97fTpwLGY9e30sbT1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMsZz1oJiZoLnJlZmVyZXJJbmZvJiZoLnJlZmVyZXJJbmZvLnJlZmVyZXI7QSYmKGYucHY9QSksZC5iaWRmbG9vciYmKGYuZnA9ZC5iaWRmbG9vciksZC5pblNjcmVlblB1YklEJiYoZi5wdWJJZD1kLmluU2NyZWVuUHViSUQsZi5waT0yKSxkLmluU2NyZWVuJiYoZi50PWQuaW5TY3JlZW4sZi5waT0yKSxkLmluU2xvdCYmKGYuc2k9cGFyc2VJbnQoZC5pblNsb3QsMTApLGYucGk9MyksZC5JQ1YmJihmLm5pPXBhcnNlSW50KGQuSUNWLDEwKSxmLnBpPTUpLHYmJihmLmdkcHJBcHBsaWVzPXYuZ2RwckFwcGxpZXM/MTowKSxmLmdkcHJBcHBsaWVzJiYoZi5nZHByQ29uc2VudD12LmNvbnNlbnRTdHJpbmcpLHUmJnUubm9kZXMmJihmLnNjaGFpbj0obj0iIi5jb25jYXQoKHQ9dSkudmVyLCIsIikuY29uY2F0KHQuY29tcGxldGUpLHQubm9kZXMubWFwKGZ1bmN0aW9uKGUpe24rPSIhIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuYXNpfHwiIiksIiwiKSxuKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuc2lkfHwiIiksIiwiKSxuKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuaHB8fCIiKSwiLCIpLG4rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5yaWR8fCIiKSwiLCIpLG4rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5uYW1lfHwiIiksIiwiKSxuKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuZG9tYWlufHwiIikpfSksbikpLGIucHVzaCh7aWQ6YSx0bWF4Om8sdElkOnMscGk6Zi5waSxzZWxlY3RvcjpkLnNlbGVjdG9yLHNpemVzOm18fGUuc2l6ZXMsdXJsOiJodHRwczovL2cyLmd1bWd1bS5jb20vaGJpZC9pbXAiLG1ldGhvZDoiR0VUIixkYXRhOlQoZixmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEsYyxkO2lmKFMudncpcmV0dXJuIFM7dHJ5e249KHQ9eS50b3ApLnNjcmVlbixyPWV8fCIifWNhdGNoKGUpe3JldHVybiBPLmxvZ0Vycm9yKGUpLFN9cmV0dXJuIFM9e3Z3OnQuaW5uZXJXaWR0aCx2aDp0LmlubmVySGVpZ2h0LHN3Om4ud2lkdGgsc2g6bi5oZWlnaHQscHU6cixjZTpPLmNvb2tpZXNBcmVFbmFibGVkKCksZHByOnQuZGV2aWNlUGl4ZWxSYXRpb3x8MSxqY3NpOkpTT04uc3RyaW5naWZ5KHt0OjAscnE6OH0pLG9ndTooYT0oZG9jdW1lbnQmJmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0pLnF1ZXJ5U2VsZWN0b3IoIm1ldGFbcHJvcGVydHk9J29nOnVybCddIikpP2EuY29udGVudDpudWxsfSxjPXdpbmRvdy5uYXZpZ2F0b3ImJih3aW5kb3cubmF2aWdhdG9yLmNvbm5lY3Rpb258fHdpbmRvdy5uYXZpZ2F0b3IubW96Q29ubmVjdGlvbnx8d2luZG93Lm5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uKSwobz0oZD1jJiYoYy5kb3dubGlua3x8Yy5iYW5kd2lkdGgpKT9NYXRoLnJvdW5kKDEwMjQqZCk6bnVsbCkmJihTLm5zPW8pLChpPShyLm1hdGNoKC8jZ2dhZD0oXHcrKSQvKXx8WzAsMF0pWzFdKSYmKFNbaXNOYU4oaSk/ImVBZEJ1eUlkIjoiYWRCdXlJZCJdPWkpLFN9KGcpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZGlnaXRydXN0aWQmJmUuZGlnaXRydXN0aWQuZGF0YTtpZighdCl7dmFyIG49d2luZG93LkRpZ2lUcnVzdCYmd2luZG93LkRpZ2lUcnVzdC5nZXRVc2VyP3dpbmRvdy5EaWdpVHJ1c3QuZ2V0VXNlcihJKTp7fTt0PW4mJm4uc3VjY2VzcyYmbi5pZGVudGl0eXx8IiJ9cmV0dXJuIXR8fHQucHJpdmFjeSYmdC5wcml2YWN5Lm9wdG91dD97fTp7ZHQ6dC5pZH19KGwpLChpPXt9LChyPWwpLnRkaWQmJihpLnRkaWQ9ci50ZGlkKSxpKSl9KX0pLGJ9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPVtdLG89ZS5ib2R5LGE9VCh7YWQ6e3ByaWNlOjAsaWQ6MCxtYXJrdXA6IiJ9LHBhZzp7cHZpZDowfX0sbyksYz1hLmFkLGQ9Yy5wcmljZSx1PWMuaWQscz1jLm1hcmt1cCxwPWEuY3csbD1hLnBhZy5wdmlkLGY9dC5kYXRhfHx7fSxtPWYucGksZz0zPT09bSYmOT09PWYuc2ksaD1PLnBhcnNlU2l6ZXNJbnB1dCh0LnNpemVzKSxiPWooaFswXS5zcGxpdCgieCIpLDIpLHY9YlswXSx5PWJbMV07dHJ5e3ZhciB3LEk7aWYobyYmby5hZCYmby5hZC53aWR0aCYmby5hZC5oZWlnaHQpdz1vLmFkLndpZHRoLnRvU3RyaW5nKCksST1vLmFkLmhlaWdodC50b1N0cmluZygpO2Vsc2UgaWYocyl7dmFyIFM9cy5zcGxpdCgiXG4iKVswXSxDPVMubWF0Y2goL3dpZHRoOihbXnB4XSspcHg7LykseD1TLm1hdGNoKC9oZWlnaHQ6KFtecHhdKylweDsvKTt3PUMmJkNbMV0sST14JiZ4WzFdfWlmKHcmJkkpe3ZhciBSPXcrIngiK0k7MDw9aC5pbmRleE9mKFIpJiYodj13LHk9SSl9fWNhdGNoKGUpe31yZXR1cm4gMiE9PW0mJjUhPT1tfHwhVSgpKGgsIjF4MSIpfHwoeT12PSIxIiksQT1sLHUmJmkucHVzaCh7YWQ6cD8obj1wLHI9VCh7fSxvLHtiaWRSZXF1ZXN0OnR9KSxuLnJlcGxhY2UoIkFEX0pTT04iLHdpbmRvdy5idG9hKEpTT04uc3RyaW5naWZ5KHIpKSkpOnMsY3JlYXRpdmU6cyxjcG06Zz8uMTpkLGNyZWF0aXZlSWQ6dSxjdXJyZW5jeToiVVNEIixoZWlnaHQ6eSxuZXRSZXZlbnVlOiEwLHJlcXVlc3RJZDp0LmlkLHR0bDo2MCx3aWR0aDp2fSksaX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJvZHkmJmUuYm9keS5weHMmJmUuYm9keS5weHMuc2NyfHxbXX0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0KX0sW10pLm1hcChmdW5jdGlvbihlKXtyZXR1cm57dHlwZToiZiI9PT1lLnQ/ImlmcmFtZSI6ImltYWdlIix1cmw6ZS51fX0pfX07T2JqZWN0KHQucmVnaXN0ZXJCaWRkZXIpKG4pfS5jYWxsKHIsaSgxOCkpfX0sWzM2M10pOwp1cGJqc0NodW5rKFsxODddLHszNzk6ZnVuY3Rpb24oZSxyLGkpe2UuZXhwb3J0cz1pKDM4MCl9LDM4MDpmdW5jdGlvbihlLHIsaSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxpLmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gYX0pLHIuSW1wcm92ZURpZ2l0YWxBZFNlcnZlckpTQ2xpZW50PW47dmFyIGg9aSgwKSx0PWkoMSksbT1pKDMpLGI9aSgyKSxhPXt2ZXJzaW9uOiI2LjAuMSIsY29kZToiaW1wcm92ZWRpZ2l0YWwiLGFsaWFzZXM6WyJpZCJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2IuYixiLmMsYi5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmKGUucGFyYW1zLnBsYWNlbWVudElkfHxlLnBhcmFtcy5wbGFjZW1lbnRLZXkmJmUucGFyYW1zLnB1Ymxpc2hlcklkKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgaT1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHI9aC5nZXRCaWRJZFBhcmFtZXRlcigiYWRVbml0Q29kZSIsZSl8fG51bGwsaT1oLmdldEJpZElkUGFyYW1ldGVyKCJwbGFjZW1lbnRJZCIsZS5wYXJhbXMpfHxudWxsLHQ9bnVsbCxhPW51bGw7bnVsbD09PWkmJih0PWguZ2V0QmlkSWRQYXJhbWV0ZXIoInB1Ymxpc2hlcklkIixlLnBhcmFtcyl8fG51bGwsYT1oLmdldEJpZElkUGFyYW1ldGVyKCJwbGFjZW1lbnRLZXkiLGUucGFyYW1zKXx8bnVsbCk7dmFyIHM9aC5nZXRCaWRJZFBhcmFtZXRlcigia2V5VmFsdWVzIixlLnBhcmFtcyl8fG51bGwsbj1oLmdldEJpZElkUGFyYW1ldGVyKCJzaXplIixlLnBhcmFtcyl8fG51bGwsZD1oLmdldEJpZElkUGFyYW1ldGVyKCJiaWRJZCIsZSksYz1oLmdldEJpZElkUGFyYW1ldGVyKCJ0cmFuc2FjdGlvbklkIixlKSxvPW0uYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKSx1PWguZ2V0QmlkSWRQYXJhbWV0ZXIoImJpZEZsb29yIixlLnBhcmFtcyksbD1oLmdldEJpZElkUGFyYW1ldGVyKCJiaWRGbG9vckN1ciIsZS5wYXJhbXMpLHA9e307ZihlKSYmKHAuYWRUeXBlcz1bYi5kXSk7aT9wLnBsYWNlbWVudElkPWk6KHQmJihwLnB1Ymxpc2hlcklkPXQpLGEmJihwLnBsYWNlbWVudEtleT1hKSk7cyYmKHAua2V5VmFsdWVzPXMpOyEwPT09bS5iLmdldENvbmZpZygiaW1wcm92ZWRpZ2l0YWwudXNlUHJlYmlkU2l6ZXMiKSYmIWYoZSkmJmUuc2l6ZXMmJjA8ZS5zaXplcy5sZW5ndGg/cC5mb3JtYXQ9ZS5zaXplczpuJiZuLncmJm4uaCYmKHAuc2l6ZT17fSxwLnNpemUuaD1uLmgscC5zaXplLnc9bi53KTtkJiYocC5pZD1kKTtyJiYocC5hZFVuaXRJZD1yKTtjJiYocC50cmFuc2FjdGlvbklkPWMpO28mJihwLmN1cnJlbmN5PW8pO3UmJihwLmJpZEZsb29yPXUscC5iaWRGbG9vckN1cj1sP2wudG9VcHBlckNhc2UoKToiVVNEIik7cmV0dXJuIHB9KGUpfSksdD1uZXcgbigiaGIiKSxhPXtzaW5nbGVSZXF1ZXN0TW9kZTohMD09PW0uYi5nZXRDb25maWcoImltcHJvdmVkaWdpdGFsLnNpbmdsZVJlcXVlc3QiKSxyZXR1cm5PYmpUeXBlOnQuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElULGxpYlZlcnNpb246dGhpcy52ZXJzaW9ufTtyJiZyLmdkcHJDb25zZW50JiZyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihhLmdkcHI9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxyJiZyLnJlZmVyZXJJbmZvJiZyLnJlZmVyZXJJbmZvLnJlZmVyZXImJihhLnJlZmVycmVyPXIucmVmZXJlckluZm8ucmVmZXJlciksYS5zY2hhaW49ZVswXS5zY2hhaW47dmFyIHM9dC5jcmVhdGVSZXF1ZXN0KGksYSk7cmV0dXJuIHMuZXJyb3JzJiYwPHMuZXJyb3JzLmxlbmd0aCYmaC5sb2dFcnJvcigiSUQgV0FSTklORyAweDAxIikscy5yZXF1ZXN0c30saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgcz1bXTtyZXR1cm4gaC5fZWFjaChlLmJvZHkuYmlkLGZ1bmN0aW9uKGkpe2lmKGkucHJpY2UmJm51bGwhPT1pLnByaWNlJiYhaS5oYXNPd25Qcm9wZXJ0eSgiZXJyb3JDb2RlIikmJihpLmFkbXx8aS5uYXRpdmUpKXt2YXIgdD17fTtpZihpLm5hdGl2ZSl0Lm5hdGl2ZT1mdW5jdGlvbihlKXt2YXIgcj17fTtpZighZXx8IWguaXNBcnJheShlLmFzc2V0cykpcmV0dXJuIG51bGw7ZS5hc3NldHMuZm9yRWFjaChmdW5jdGlvbihlKXtpZihlLnRpdGxlKXIudGl0bGU9ZS50aXRsZS50ZXh0O2Vsc2UgaWYoZS5kYXRhKXN3aXRjaChlLmRhdGEudHlwZSl7Y2FzZSAxOnIuc3BvbnNvcmVkQnk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMjpyLmJvZHk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMzpyLnJhdGluZz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA0OnIubGlrZXM9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNTpyLmRvd25sb2Fkcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA2OnIucHJpY2U9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNzpyLnNhbGVQcmljZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA4OnIucGhvbmU9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgOTpyLmFkZHJlc3M9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTA6ci5ib2R5Mj1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMTpyLmRpc3BsYXlVcmw9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTI6ci5jdGE9ZS5kYXRhLnZhbHVlfWVsc2UgaWYoZS5pbWcpc3dpdGNoKGUuaW1nLnR5cGUpe2Nhc2UgMjpyLmljb249e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH07YnJlYWs7Y2FzZSAzOnIuaW1hZ2U9e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH19fSksZS5ldmVudHRyYWNrZXJzPyhyLmltcHJlc3Npb25UcmFja2Vycz1bXSxlLmV2ZW50dHJhY2tlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtpZigxPT09ZS5ldmVudClzd2l0Y2goZS5tZXRob2Qpe2Nhc2UgMTpyLmltcHJlc3Npb25UcmFja2Vycy5wdXNoKGUudXJsKTticmVhaztjYXNlIDI6ci5qYXZhc2NyaXB0VHJhY2tlcnM9JzxzY3JpcHQgc3JjPSInLmNvbmNhdChlLnVybCwnIj48XC9zY3JpcHQ+Jyl9fSkpOihyLmltcHJlc3Npb25UcmFja2Vycz1lLmltcHRyYWNrZXJzfHxbXSxyLmphdmFzY3JpcHRUcmFja2Vycz1lLmpzdHJhY2tlcik7ZS5saW5rJiYoci5jbGlja1VybD1lLmxpbmsudXJsLHIuY2xpY2tUcmFja2Vycz1lLmxpbmsuY2xpY2t0cmFja2Vycyk7ZS5wcml2YWN5JiYoci5wcml2YWN5TGluaz1lLnByaXZhY3kpO3JldHVybiByfShpLm5hdGl2ZSksdC5vcnRiTmF0aXZlPWkubmF0aXZlLGkubnVybCYmdC5uYXRpdmUuaW1wcmVzc2lvblRyYWNrZXJzLnVuc2hpZnQoaS5udXJsKSx0Lm1lZGlhVHlwZT1iLmM7ZWxzZSBpZihpLmFkX3R5cGUmJiJ2aWRlbyI9PT1pLmFkX3R5cGUpdC52YXN0WG1sPWkuYWRtLHQubWVkaWFUeXBlPWIuZDtlbHNle3ZhciBlPSIiO2kubnVybCYmMDxpLm51cmwubGVuZ3RoJiYoZT0nPGltZyBzcmM9IicuY29uY2F0KGkubnVybCwnIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBzdHlsZT0iZGlzcGxheTpub25lIj4nKSksdC5hZD0iIi5jb25jYXQoZSwiPHNjcmlwdD4iKS5jb25jYXQoaS5hZG0sIjxcL3NjcmlwdD4iKSx0Lm1lZGlhVHlwZT1iLmJ9aWYodC5hZElkPWkuaWQsdC5jcG09cGFyc2VGbG9hdChpLnByaWNlKSx0LmNyZWF0aXZlSWQ9aS5jaWQsdC5jdXJyZW5jeT1pLmN1cnJlbmN5P2kuY3VycmVuY3kudG9VcHBlckNhc2UoKToiVVNEIixoLmlzTnVtYmVyKGkubGlkKSYmImRlYWxfaWQiPT09aS5idXlpbmdfdHlwZSl0LmRlYWxJZD1pLmxpZDtlbHNlIGlmKEFycmF5LmlzQXJyYXkoaS5saWQpJiZBcnJheS5pc0FycmF5KGkuYnV5aW5nX3R5cGUpJiZpLmxpZC5sZW5ndGg9PT1pLmJ1eWluZ190eXBlLmxlbmd0aCl7dmFyIGE9ITE7aS5idXlpbmdfdHlwZS5mb3JFYWNoKGZ1bmN0aW9uKGUscil7YXx8ImRlYWxfaWQiPT09ZSYmKGE9ITAsdC5kZWFsSWQ9aS5saWRbcl0pfSl9dC5oZWlnaHQ9aS5oLHQubmV0UmV2ZW51ZT0hIWkuaXNOZXQmJmkuaXNOZXQsdC5yZXF1ZXN0SWQ9aS5pZCx0LnR0bD0zMDAsdC53aWR0aD1pLncsdC53aWR0aCYmdC5oZWlnaHR8fCh0LndpZHRoPTEsdC5oZWlnaHQ9MSxyLnNpemVzJiYodC53aWR0aD1yLnNpemVzWzBdWzBdLHQuaGVpZ2h0PXIuc2l6ZXNbMF1bMV0pKSxzLnB1c2godCl9fSksc30sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscil7aWYoZS5waXhlbEVuYWJsZWQpe3ZhciBpPVtdO3JldHVybiByLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5ib2R5LmJpZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2guaXNBcnJheShlLnN5bmMpJiZlLnN5bmMuZm9yRWFjaChmdW5jdGlvbihlKXstMT09PWkuaW5kZXhPZihlKSYmaS5wdXNoKGUpfSl9KX0pLGkubWFwKGZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOiJpbWFnZSIsdXJsOmV9fSl9cmV0dXJuW119fTtmdW5jdGlvbiBmKGUpe3ZhciByPWguZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIiksaT1oLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7cmV0dXJuInZpZGVvIj09PWUubWVkaWFUeXBlfHxyJiYib3V0c3RyZWFtIiE9PWl9ZnVuY3Rpb24gbihlKXt0aGlzLkNPTlNUQU5UUz17QURfU0VSVkVSX0JBU0VfVVJMOiJpY2UuMzYweWllbGQuY29tIixFTkRfUE9JTlQ6ZXx8ImhiIixBRF9TRVJWRVJfVVJMX1BBUkFNOiJqc29ucD0iLENMSUVOVF9WRVJTSU9OOiJKUy02LjIuMCIsTUFYX1VSTF9MRU5HVEg6MjA4MyxFUlJPUl9DT0RFUzp7TUlTU0lOR19QTEFDRU1FTlRfUEFSQU1TOjIsTElCX1ZFUlNJT05fTUlTU0lORzozfSxSRVRVUk5fT0JKX1RZUEU6e0RFRkFVTFQ6MCxVUkxfUEFSQU1TX1NQTElUOjF9fSx0aGlzLmdldEVycm9yUmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybntpZE1hcHBpbmdzOnt9LHJlcXVlc3RzOnt9LGVycm9yQ29kZTplfX0sdGhpcy5jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKGUscixpKXtpZighci5saWJWZXJzaW9uKXJldHVybiB0aGlzLmdldEVycm9yUmV0dXJuKHRoaXMuQ09OU1RBTlRTLkVSUk9SX0NPREVTLkxJQl9WRVJTSU9OX01JU1NJTkcpO3IucmV0dXJuT2JqVHlwZT1yLnJldHVybk9ialR5cGV8fHRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5ERUZBVUxULHIuYWRTZXJ2ZXJCYXNlVXJsPSJodHRwczovLyIrKHIuYWRTZXJ2ZXJCYXNlVXJsfHx0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfQkFTRV9VUkwpO3ZhciB0LGE9W107aWYoaC5pc0FycmF5KGUpKWZvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKXQ9dGhpcy5jcmVhdGVJbXByZXNzaW9uT2JqZWN0KGVbc10pLGEucHVzaCh0KTtlbHNlIHQ9dGhpcy5jcmVhdGVJbXByZXNzaW9uT2JqZWN0KGUpLGEucHVzaCh0KTt2YXIgbj0hMDtyLnJldHVybk9ialR5cGU9PT10aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVCYmKG49ITEpO3ZhciBkPXtyZXF1ZXN0czpbXX07biYmKGQuaWRNYXBwaW5ncz1bXSk7Zm9yKHZhciBjPW51bGwsbz0iIi5jb25jYXQoci5hZFNlcnZlckJhc2VVcmwsIi8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5ULCI/IikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pLHU9e2JpZF9yZXF1ZXN0OnRoaXMuY3JlYXRlQmFzaWNCaWRSZXF1ZXN0T2JqZWN0KHIsaSl9LGw9MDtsPGEubGVuZ3RoO2wrKylpZigodD1hW2xdKS5lcnJvckNvZGUpKGM9Y3x8W10pLnB1c2goe2Vycm9yQ29kZTp0LmVycm9yQ29kZSxhZFVuaXRJZDp0LmFkVW5pdElkfSk7ZWxzZXtuJiZkLmlkTWFwcGluZ3MucHVzaCh7YWRVbml0SWQ6dC5hZFVuaXRJZCxpZDp0LmltcHJlc3Npb25PYmplY3QuaWR9KSx1LmJpZF9yZXF1ZXN0LmltcD11LmJpZF9yZXF1ZXN0LmltcHx8W10sdS5iaWRfcmVxdWVzdC5pbXAucHVzaCh0LmltcHJlc3Npb25PYmplY3QpO3ZhciBwPSExOyhvK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh1KSkpLmxlbmd0aD50aGlzLkNPTlNUQU5UUy5NQVhfVVJMX0xFTkdUSCYmKHA9ITAsMTx1LmJpZF9yZXF1ZXN0LmltcC5sZW5ndGgmJih1LmJpZF9yZXF1ZXN0LmltcC5wb3AoKSxuJiZkLmlkTWFwcGluZ3MucG9wKCksbC0tKSksIXAmJnIuc2luZ2xlUmVxdWVzdE1vZGUmJmwhPT1hLmxlbmd0aC0xfHwoZC5yZXF1ZXN0cy5wdXNoKHRoaXMuZm9ybWF0UmVxdWVzdChyLHUpKSx1PXtiaWRfcmVxdWVzdDp0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdChyLGkpfSl9cmV0dXJuIGMmJihkLmVycm9ycz1jKSxkfSx0aGlzLmZvcm1hdFJlcXVlc3Q9ZnVuY3Rpb24oZSxyKXtzd2l0Y2goZS5yZXR1cm5PYmpUeXBlKXtjYXNlIHRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElUOnJldHVybnttZXRob2Q6IkdFVCIsdXJsOiIiLmNvbmNhdChlLmFkU2VydmVyQmFzZVVybCwiLyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQpLGRhdGE6IiIuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKX07ZGVmYXVsdDpyZXR1cm57dXJsOiIiLmNvbmNhdChlLmFkU2VydmVyQmFzZVVybCwiLyIpKyIiLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQsIj8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX1VSTF9QQVJBTSkrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKX19fSx0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdD1mdW5jdGlvbihlLHIpe3ZhciBpPXtzZWN1cmU6MX07aWYoZS5yZXF1ZXN0SWQ/aS5pZD1lLnJlcXVlc3RJZDppLmlkPWguZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGUuZG9tYWluJiYoaS5kb21haW49ZS5kb21haW4pLGUucGFnZSYmKGkucGFnZT1lLnBhZ2UpLGUucmVmJiYoaS5yZWY9ZS5yZWYpLGUuY2FsbGJhY2smJihpLmNhbGxiYWNrPWUuY2FsbGJhY2spLGUubGliVmVyc2lvbiYmKGkudmVyc2lvbj1lLmxpYlZlcnNpb24rIi0iK3RoaXMuQ09OU1RBTlRTLkNMSUVOVF9WRVJTSU9OKSxlLnJlZmVycmVyJiYoaS5yZWZlcnJlcj1lLnJlZmVycmVyKSwhZS5nZHByJiYwIT09ZS5nZHByfHwoaS5nZHByPWUuZ2RwciksZS5zY2hhaW4mJihpLnNjaGFpbj1lLnNjaGFpbikscilmb3IodmFyIHQgaW4gcilpW3RdPXJbdF07cmV0dXJuIGl9LHRoaXMuY3JlYXRlSW1wcmVzc2lvbk9iamVjdD1mdW5jdGlvbihlKXt2YXIgcj17fSxpPXt9O2lmKHIuaW1wcmVzc2lvbk9iamVjdD1pLGUuaWQ/aS5pZD1lLmlkOmkuaWQ9aC5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksZS5hZFR5cGVzJiYoaS5hZF90eXBlcz1lLmFkVHlwZXMpLGUuYWRVbml0SWQmJihyLmFkVW5pdElkPWUuYWRVbml0SWQpLGUuY3VycmVuY3kmJihpLmN1cnJlbmN5PWUuY3VycmVuY3kudG9VcHBlckNhc2UoKSksZS5iaWRGbG9vciYmKGkuYmlkZmxvb3I9ZS5iaWRGbG9vciksZS5iaWRGbG9vckN1ciYmKGkuYmlkZmxvb3JjdXI9ZS5iaWRGbG9vckN1ci50b1VwcGVyQ2FzZSgpKSxlLnBsYWNlbWVudElkJiYoaS5waWQ9ZS5wbGFjZW1lbnRJZCksZS5wdWJsaXNoZXJJZCYmKGkucHViaWQ9ZS5wdWJsaXNoZXJJZCksZS5wbGFjZW1lbnRLZXkmJihpLnBrZXk9ZS5wbGFjZW1lbnRLZXkpLGUudHJhbnNhY3Rpb25JZCYmKGkudGlkPWUudHJhbnNhY3Rpb25JZCksZS5rZXlWYWx1ZXMpZm9yKHZhciB0IGluIGUua2V5VmFsdWVzKWZvcih2YXIgYT0wO2E8ZS5rZXlWYWx1ZXNbdF0ubGVuZ3RoO2ErKylpLmt2dz1pLmt2d3x8e30saS5rdndbdF09aS5rdndbdF18fFtdLGkua3Z3W3RdLnB1c2goZS5rZXlWYWx1ZXNbdF1bYV0pO2lmKGkuYmFubmVyPXt9LGUuc2l6ZSYmZS5zaXplLncmJmUuc2l6ZS5oJiYoaS5iYW5uZXIudz1lLnNpemUudyxpLmJhbm5lci5oPWUuc2l6ZS5oKSxlLmZvcm1hdCYmaC5pc0FycmF5KGUuZm9ybWF0KSl7dmFyIHM9ZS5mb3JtYXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAyPT09ZS5sZW5ndGgmJmguaXNJbnRlZ2VyKGVbMF0pJiZoLmlzSW50ZWdlcihlWzFdKSYmMDw9ZVswXSYmMDw9ZVsxXX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KTswPHMubGVuZ3RoJiYoaS5iYW5uZXIuZm9ybWF0PXMpfXJldHVybiBpLnBpZHx8aS5wdWJpZHx8aS5wa2V5fHxpLmJhbm5lciYmaS5iYW5uZXIudyYmaS5iYW5uZXIuaHx8KHIuaW1wcmVzc2lvbk9iamVjdD1udWxsLHIuZXJyb3JDb2RlPXRoaXMuQ09OU1RBTlRTLkVSUk9SX0NPREVTLk1JU1NJTkdfUExBQ0VNRU5UX1BBUkFNUykscn19T2JqZWN0KHQucmVnaXN0ZXJCaWRkZXIpKGEpfX0sWzM3OV0pOwp1cGJqc0NodW5rKFsxODJdLHszOTM6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDM5NCl9LDM5NDpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gT30pO3ZhciB5PXQoMCksbD10KDIpLGI9dCgzKSxhPXQoMTIpLGk9dC5uKGEpLG49dCgzOTUpLG89dC5uKG4pLHM9dCgxKTtmdW5jdGlvbiBoKGUpe3JldHVybihoPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIGQ9W2wuYixsLmRdLHY9MTAwLGc9MzUseD0zNjAwLHc9ITAsST17SlBZOjF9O2Z1bmN0aW9uIHAoZSl7dmFyIHI9dShlKTtyLnZpZGVvPXkuZGVlcENsb25lKGUucGFyYW1zLnZpZGVvKSxyLnZpZGVvLnc9ZS5wYXJhbXMuc2l6ZVswXSxyLnZpZGVvLmg9ZS5wYXJhbXMuc2l6ZVsxXTt2YXIgdD15LmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7cmV0dXJuIHQmJigiaW5zdHJlYW0iPT09dD9yLnZpZGVvLnBsYWNlbWVudD0xOiJvdXRzdHJlYW0iPT09dD9yLnZpZGVvLnBsYWNlbWVudD00OnkubG9nV2FybigiaXggYmlkZGVyIHBhcmFtczogdmlkZW8gY29udGV4dCAnIi5jb25jYXQodCwiJyBpcyBub3Qgc3VwcG9ydGVkIikpKSxyfWZ1bmN0aW9uIHUoZSl7dmFyIHI9e307cmV0dXJuIHIuaWQ9ZS5iaWRJZCxyLmV4dD17fSxyLmV4dC5zaWQ9IiIuY29uY2F0KGUucGFyYW1zLnNpemVbMF0sIngiKS5jb25jYXQoZS5wYXJhbXMuc2l6ZVsxXSksci5leHQuc2l0ZUlEPWUucGFyYW1zLnNpdGVJZCxlLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmlkRmxvb3IiKSYmZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImJpZEZsb29yQ3VyIikmJihyLmJpZGZsb29yPWUucGFyYW1zLmJpZEZsb29yLHIuYmlkZmxvb3JjdXI9ZS5wYXJhbXMuYmlkRmxvb3JDdXIpLHJ9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmMj09PWUubGVuZ3RoJiZvKCkoZVswXSkmJm8oKShlWzFdKX1mdW5jdGlvbiBtKGUscil7aWYoYyhlKSlyZXR1cm4gZVswXT09PXJbMF0mJmVbMV09PT1yWzFdO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKGVbdF1bMF09PT1yWzBdJiZlW3RdWzFdPT09clsxXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBQKHIsZSl7aWYocilyZXR1cm4gaSgpKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT1yfSl9ZnVuY3Rpb24gZihlLHIsdCxhKXt2YXIgaT1bXTtpZih3aW5kb3cuaGVhZGVydGFnJiYiZnVuY3Rpb24iPT10eXBlb2Ygd2luZG93LmhlYWRlcnRhZy5nZXRJZGVudGl0eUluZm8pe3ZhciBuPXdpbmRvdy5oZWFkZXJ0YWcuZ2V0SWRlbnRpdHlJbmZvKCk7aWYobiYmIm9iamVjdCI9PT1oKG4pKWZvcih2YXIgbyBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkobykpe3ZhciBzPW5bb107IXMucmVzcG9uc2VQZW5kaW5nJiZzLmRhdGEmJiJvYmplY3QiPT09aChzLmRhdGEpJiZPYmplY3Qua2V5cyhzLmRhdGEpLmxlbmd0aCYmaS5wdXNoKHMuZGF0YSl9fXZhciBkPXt9O2lmKGQuaWQ9ZVswXS5iaWRkZXJSZXF1ZXN0SWQsZC5pbXA9dCxkLnNpdGU9e30sZC5leHQ9e30sZC5leHQuc291cmNlPSJwcmViaWQiLGVbMF0uc2NoYWluJiYoZC5zb3VyY2U9e2V4dDp7c2NoYWluOmVbMF0uc2NoYWlufX0pLDA8aS5sZW5ndGgmJihkLnVzZXI9e30sZC51c2VyLmVpZHM9aSksZG9jdW1lbnQucmVmZXJyZXImJiIiIT09ZG9jdW1lbnQucmVmZXJyZXImJihkLnNpdGUucmVmPWRvY3VtZW50LnJlZmVycmVyKSxyKXtpZihyLmdkcHJDb25zZW50KXt2YXIgcD1yLmdkcHJDb25zZW50O3AuaGFzT3duUHJvcGVydHkoImdkcHJBcHBsaWVzIikmJihkLnJlZ3M9e2V4dDp7Z2RwcjpwLmdkcHJBcHBsaWVzPzE6MH19KSxwLmhhc093blByb3BlcnR5KCJjb25zZW50U3RyaW5nIikmJihkLnVzZXI9ZC51c2VyfHx7fSxkLnVzZXIuZXh0PXtjb25zZW50OnAuY29uc2VudFN0cmluZ3x8IiJ9KX1yLnVzcENvbnNlbnQmJnkuZGVlcFNldFZhbHVlKGQsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCksci5yZWZlcmVySW5mbyYmKGQuc2l0ZS5wYWdlPXIucmVmZXJlckluZm8ucmVmZXJlcil9dmFyIHU9e30sYz1iLmIuZ2V0Q29uZmlnKCJpeCIpO2lmKGMpe2lmKCJvYmplY3QiPT09aChjLmZpcnN0UGFydHlEYXRhKSl7dmFyIG09Yy5maXJzdFBhcnR5RGF0YSxmPSI/Ijtmb3IodmFyIGwgaW4gbSltLmhhc093blByb3BlcnR5KGwpJiYoZis9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChsKSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobVtsXSksIiYiKSk7Zj1mLnNsaWNlKDAsLTEpLGQuc2l0ZS5wYWdlKz1mfSJudW1iZXIiPT10eXBlb2YgYy50aW1lb3V0JiYodS50PWMudGltZW91dCl9cmV0dXJuIHUucz1lWzBdLnBhcmFtcy5zaXRlSWQsdS52PWEsdS5yPUpTT04uc3RyaW5naWZ5KGQpLHUuYWM9ImoiLHUuc2Q9MSw4LjE9PT1hJiYodS5uZj0xKSx7bWV0aG9kOiJHRVQiLHVybDoiaHR0cHM6Ly9hcy1zZWMuY2FzYWxlbWVkaWEuY29tL2N5Z251cyIsZGF0YTp1fX12YXIgTz17Y29kZToiaXgiLGFsaWFzZXM6WyJpbmRleEV4Y2hhbmdlIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpkLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCFjKGUucGFyYW1zLnNpemUpKXJldHVybiB5LmxvZ0Vycm9yKCJpeCBiaWRkZXIgcGFyYW1zOiBiaWQgc2l6ZSBoYXMgaW52YWxpZCBmb3JtYXQuIiksITE7aWYoInN0cmluZyIhPXR5cGVvZiBlLnBhcmFtcy5zaXRlSWQmJiJudW1iZXIiIT10eXBlb2YgZS5wYXJhbXMuc2l0ZUlkKXJldHVybiB5LmxvZ0Vycm9yKCJpeCBiaWRkZXIgcGFyYW1zOiBzaXRlSWQgbXVzdCBiZSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlLiIpLCExO3ZhciByLHQsYT1lLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmlkRmxvb3IiKSxpPWUucGFyYW1zLmhhc093blByb3BlcnR5KCJiaWRGbG9vckN1ciIpO3JldHVybiEhKCFhJiYhaXx8YSYmaSYmKHI9ZS5wYXJhbXMuYmlkRmxvb3IsdD1lLnBhcmFtcy5iaWRGbG9vckN1cixCb29sZWFuKCJudW1iZXIiPT10eXBlb2YgciYmInN0cmluZyI9PXR5cGVvZiB0JiZ0Lm1hdGNoKC9eW0EtWl17M30kLykpKSl8fCh5LmxvZ0Vycm9yKCJpeCBiaWRkZXIgcGFyYW1zOiBiaWRGbG9vciAvIGJpZEZsb29yQ3VyIHBhcmFtZXRlciBoYXMgaW52YWxpZCBmb3JtYXQuIiksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7Zm9yKHZhciB0LGEsaT1bXSxuPVtdLG89W10scz1udWxsLGQ9MDtkPGUubGVuZ3RoO2QrKykocz1lW2RdKS5tZWRpYVR5cGUhPT1sLmQmJiF5LmRlZXBBY2Nlc3MocywibWVkaWFUeXBlcy52aWRlbyIpfHwocy5tZWRpYVR5cGU9PT1sLmR8fG0ocy5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUscy5wYXJhbXMuc2l6ZSk/by5wdXNoKHAocykpOnkubG9nRXJyb3IoIkJpZCBzaXplIGlzIG5vdCBpbmNsdWRlZCBpbiB2aWRlbyBwbGF5ZXJTaXplIikpLHMubWVkaWFUeXBlIT09bC5iJiYheS5kZWVwQWNjZXNzKHMsIm1lZGlhVHlwZXMuYmFubmVyIikmJihzLm1lZGlhVHlwZXx8cy5tZWRpYVR5cGVzKXx8bi5wdXNoKChhPXZvaWQgMCwoYT11KHQ9cykpLmJhbm5lcj17fSxhLmJhbm5lci53PXQucGFyYW1zLnNpemVbMF0sYS5iYW5uZXIuaD10LnBhcmFtcy5zaXplWzFdLGEuYmFubmVyLnRvcGZyYW1lPXkuaW5JZnJhbWUoKT8wOjEsYSkpO3JldHVybiAwPG4ubGVuZ3RoJiZpLnB1c2goZihlLHIsbiw3LjIpKSwwPG8ubGVuZ3RoJiZpLnB1c2goZihlLHIsbyw4LjEpKSxpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdO2lmKCFlLmhhc093blByb3BlcnR5KCJib2R5Iil8fCFlLmJvZHkuaGFzT3duUHJvcGVydHkoInNlYXRiaWQiKSlyZXR1cm4gdDtmb3IodmFyIGEsaSxuLG8scz1lLmJvZHksZD1zLnNlYXRiaWQscD0wO3A8ZC5sZW5ndGg7cCsrKWlmKGRbcF0uaGFzT3duUHJvcGVydHkoImJpZCIpKWZvcih2YXIgdT1kW3BdLmJpZCxjPUpTT04ucGFyc2Uoci5kYXRhLnIpLG09MDttPHUubGVuZ3RoO20rKyl7dmFyIGY9UCh1W21dLmltcGlkLGMuaW1wKTthPXVbbV0saT1zLmN1cixuPWYsbz12b2lkIDAsbz17fSxJLmhhc093blByb3BlcnR5KGkpP28uY3BtPWEucHJpY2UvSVtpXTpvLmNwbT1hLnByaWNlL3Ysby5yZXF1ZXN0SWQ9YS5pbXBpZCxvLmRlYWxJZD15LmRlZXBBY2Nlc3MoYSwiZXh0LmRlYWxpZCIpLG8ubmV0UmV2ZW51ZT13LG8uY3VycmVuY3k9aSxvLmNyZWF0aXZlSWQ9YS5oYXNPd25Qcm9wZXJ0eSgiY3JpZCIpP2EuY3JpZDoiLSIseS5kZWVwQWNjZXNzKGEsImV4dC52YXN0dXJsIik/KG8udmFzdFVybD1hLmV4dC52YXN0dXJsLG8ud2lkdGg9bi52aWRlby53LG8uaGVpZ2h0PW4udmlkZW8uaCxvLm1lZGlhVHlwZT1sLmQsby50dGw9eCk6KG8uYWQ9YS5hZG0sby53aWR0aD1hLncsby5oZWlnaHQ9YS5oLG8ubWVkaWFUeXBlPWwuYixvLnR0bD1nKSxvLm1ldGE9e30sby5tZXRhLm5ldHdvcmtJZD15LmRlZXBBY2Nlc3MoYSwiZXh0LmRzcGlkIiksby5tZXRhLmJyYW5kSWQ9eS5kZWVwQWNjZXNzKGEsImV4dC5hZHZicmFuZGlkIiksby5tZXRhLmJyYW5kTmFtZT15LmRlZXBBY2Nlc3MoYSwiZXh0LmFkdmJyYW5kIiksdC5wdXNoKG8pfXJldHVybiB0fSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHkuY29udmVydFR5cGVzKHtzaXRlSUQ6Im51bWJlciJ9LGUpfX07T2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKE8pfX0sWzM5M10pOwp1cGJqc0NodW5rKFsxNzhdLHs0MDY6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDQwNyl9LDQwNzpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBpPXQoMCksYT10KDEpO2Z1bmN0aW9uIGQoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgcj0wLHQ9bmV3IEFycmF5KGUubGVuZ3RoKTtyPGUubGVuZ3RoO3IrKyl0W3JdPWVbcl07cmV0dXJuIHR9fShlKXx8ZnVuY3Rpb24oZSl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9dmFyIG49e2NvZGU6ImtvbW9vbmEiLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUucGFyYW1zJiZlLnBhcmFtcy5wbGFjZW1lbnRJZCYmZS5wYXJhbXMuaGJpZCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSl7dmFyIHIsdD1lLm1hcChmdW5jdGlvbihlKXt2YXIgcj17dXVpZDplLmJpZElkLHNpemVzOmUuc2l6ZXMsdHJpZDplLnRyYW5zYWN0aW9uSWQsaGJpZDplLnBhcmFtcy5oYmlkLHBsYWNlbWVudGlkOmUucGFyYW1zLnBsYWNlbWVudElkfTtyZXR1cm4gZS5wYXJhbXMuZmxvb3JQcmljZSYmKHIuZmxvb3JwcmljZT1lLnBhcmFtcy5mbG9vclByaWNlKSxyfSksYT0obmV3IERhdGUpLmdldFRpbWUoKSxuPXt0c19hczphLGhiX3BsYWNlbWVudHM6W10saGJfcGxhY2VtZW50X2JpZGlkczp7fSxoYl9mbG9vcnM6e30sY2I6KHI9YSxNYXRoLmZsb29yKHIlNjU1MzYrNjU1MzYqTWF0aC5mbG9vcig2NTUzNipNYXRoLnJhbmRvbSgpKSkpLHR6OihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKX07ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uaGRiZGlkPW4uaGRiZGlkfHxlLnBhcmFtcy5oYmlkLG4uZW5jb2RlX2JpZD1uLmVuY29kZV9iaWR8fGUucGFyYW1zLmVuY29kZV9iaWQsbi5oYl9wbGFjZW1lbnRfYmlkaWRzW2UucGFyYW1zLnBsYWNlbWVudElkXT1lLmJpZElkLGUucGFyYW1zLmZsb29yUHJpY2UmJihuLmhiX2Zsb29yc1tlLnBhcmFtcy5wbGFjZW1lbnRJZF09ZS5wYXJhbXMuZmxvb3JQcmljZSksbi5oYl9wbGFjZW1lbnRzLnB1c2goZS5wYXJhbXMucGxhY2VtZW50SWQpfSk7dmFyIG89e307cmV0dXJuIGkuaXNFbXB0eSh0KXx8KG89e2JpZHM6ZCh0KSxrYkNvbmY6bn0pLHttZXRob2Q6IlBPU1QiLHVybDoiLy9iaWRkZXIua29tb29uYS5jb20vdjEvR2V0U0JpZHMiLGRhdGE6SlNPTi5zdHJpbmdpZnkobyl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgcj1bXTt0cnl7ZS5ib2R5JiZlLmJvZHkuYmlkcyYmZS5ib2R5LmJpZHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlcXVlc3RJZD1lLnV1aWQsZS5hZD1lLmNyZWF0aXZlLHIucHVzaChlKX0pfWNhdGNoKGUpe2kubG9nRXJyb3IoZSl9cmV0dXJuIHJ9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlKXtpZihlLmlmcmFtZUVuYWJsZWQpcmV0dXJuW3t0eXBlOiJpZnJhbWUiLHVybDoiLy9zLmtvbW9vbmEuY29tL3N5bmMvdXN5bmMuaHRtbCJ9XX19O09iamVjdChhLnJlZ2lzdGVyQmlkZGVyKShuKX19LFs0MDZdKTsKdXBianNDaHVuayhbMTcwXSx7NDI2OmZ1bmN0aW9uKGUsbixyKXtlLmV4cG9ydHM9cig0MjcpfSw0Mjc6ZnVuY3Rpb24oZSxuLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKG4sInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTt2YXIgbz1yKDApLHQ9cigyKSxkPXIoMSksaT17Y29kZToibG9ja2VyZG9tZSIsc3VwcG9ydGVkTWVkaWFUeXBlczpbdC5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLmFkVW5pdElkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsbil7dmFyIHIsdD1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5zY2hhaW4mJihyPXJ8fGUuc2NoYWluKSx7cmVxdWVzdElkOmUuYmlkSWQsYWRVbml0Q29kZTplLmFkVW5pdENvZGUsYWRVbml0SWQ6by5nZXRCaWRJZFBhcmFtZXRlcigiYWRVbml0SWQiLGUucGFyYW1zKSxzaXplczplLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN9fSksZD1uJiZuLnJlZmVyZXJJbmZvJiZuLnJlZmVyZXJJbmZvLmNhbm9uaWNhbFVybHx8IiIsaT1uJiZuLnJlZmVyZXJJbmZvJiZuLnJlZmVyZXJJbmZvLnJlZmVyZXJ8fCIiLHM9e2JpZFJlcXVlc3RzOnQsdXJsOmVuY29kZVVSSUNvbXBvbmVudChkKSxyZWZlcnJlcjplbmNvZGVVUklDb21wb25lbnQoaSl9O3JldHVybiByJiYocy5zY2hhaW49ciksbiYmKG4uZ2RwckNvbnNlbnQmJihzLmdkcHI9e2FwcGxpZXM6bi5nZHByQ29uc2VudC5nZHByQXBwbGllcyxjb25zZW50Om4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZ30pLG4udXNwQ29uc2VudCYmKHMudXNfcHJpdmFjeT17Y29uc2VudDpuLnVzcENvbnNlbnR9KSkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2xvY2tlcmRvbWUuY29tL2xhZGJpZC9wcmViaWQiLGRhdGE6SlNPTi5zdHJpbmdpZnkocyl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5ib2R5JiZlLmJvZHkuYmlkcz9lLmJvZHkuYmlkcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3JlcXVlc3RJZDplLnJlcXVlc3RJZCxjcG06ZS5jcG0sd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsY3JlYXRpdmVJZDplLmNyZWF0aXZlSWQsY3VycmVuY3k6ZS5jdXJyZW5jeSxuZXRSZXZlbnVlOmUubmV0UmV2ZW51ZSxhZDplLmFkLHR0bDplLnR0bH19KTpbXX19O09iamVjdChkLnJlZ2lzdGVyQmlkZGVyKShpKX19LFs0MjZdKTsKdXBianNDaHVuayhbMTYzXSx7NDQyOmZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9big0NDMpfSw0NDM6ZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKGUsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIFR9KTt2YXIgcj1uKDEpLHU9bigwKSxpPW4oMyksYT1uKDkpLG89bigyKSxjPW4oMzIpO2Z1bmN0aW9uIGQoKXtyZXR1cm4oZD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBzPSJtZWRpYW5ldCIscD17Tk9UX0RFVEVSTUlORUQ6MCxBQk9WRV9USEVfRk9MRDoxLEJFTE9XX1RIRV9GT0xEOjJ9LGw9ImNsaWVudF90aW1lb3V0IixmPSJjbGllbnRfYmlkX3dvbiIsbT1PYmplY3QoYy5iKSgpLGc9e307ZnVuY3Rpb24gYih0KXtyZXR1cm4gZCh7ZG9tYWluOih0PXR8fHt9KS5kb21haW58fGcudXJsRGF0YS5kb21haW4scGFnZTp0LnBhZ2V8fGcudXJsRGF0YS5wYWdlLHJlZjp0LnJlZnx8ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2godCl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX0oKSxpc1RvcDp0LmlzVG9wfHxnLnVybERhdGEuaXNUb3B9LGZ1bmN0aW9uKCl7aWYoZy5wYWdlTWV0YSlyZXR1cm4gZy5wYWdlTWV0YTt2YXIgdD15KCdsaW5rW3JlbD0iY2Fub25pY2FsIl0nLCJocmVmIiksZT15KCdtZXRhW3Byb3BlcnR5PSJvZzp1cmwiXScsImNvbnRlbnQiKSxuPXkoJ21ldGFbbmFtZT0idHdpdHRlcjp1cmwiXScsImNvbnRlbnQiKTtyZXR1cm4gZy5wYWdlTWV0YT1kKHt9LHQmJntjYW5vbmljYWxfdXJsOnR9LGUmJntvZ191cmw6ZX0sbiYme3R3aXR0ZXJfdXJsOm59KSxnLnBhZ2VNZXRhfSgpKX1mdW5jdGlvbiB5KHQsZSl7dmFyIG4scixpPWZ1bmN0aW9uKHQsZSl7dHJ5e3ZhciBuPXUuZ2V0V2luZG93VG9wKCkuZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTtpZihudWxsIT09biYmbltlXSlyZXR1cm4gbltlXX1jYXRjaCh0KXt9fSh0LGUpO3JldHVybiBpJiYobj1pLChyPXUuZ2V0V2luZG93VG9wKCkuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKS5ocmVmPW4sci5ocmVmKX1mdW5jdGlvbiBoKHQsZSl7cmV0dXJuIHQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PT1lfSl9ZnVuY3Rpb24gdih0KXtyZXR1cm57dzpwYXJzZUludCh0WzBdLDEwKSxoOnBhcnNlSW50KHRbMV0sMTApfX1mdW5jdGlvbiBfKHQpe3ZhciBlLG49e2lkOnQuYmlkSWQsZXh0OntkZnBfaWQ6dC5hZFVuaXRDb2RlLGRpc3BsYXlfY291bnQ6dC5iaWRSZXF1ZXN0c0NvdW50fSxhbGw6dC5wYXJhbXN9LHI9dS5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIil8fHQuc2l6ZXN8fFtdO2lmKDA8ci5sZW5ndGgmJihuLmJhbm5lcj0oZT1yLHUuaXNBcnJheShlKSYmMj09PWUubGVuZ3RoJiYhdS5pc0FycmF5KGVbMF0pP1t2KGUpXTplLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdih0KX0pKSksdC5uYXRpdmVQYXJhbXMpdHJ5e24ubmF0aXZlPUpTT04uc3RyaW5naWZ5KHQubmF0aXZlUGFyYW1zKX1jYXRjaCh0KXt1LmxvZ0Vycm9yKCIiLmNvbmNhdChzLCIgOiBJbmNvcnJlY3QgSlNPTiA6IGJpZFJlcXVlc3QubmF0aXZlUGFyYW1zIikpfXQucGFyYW1zLmNyaWQmJihuLnRhZ2lkPXQucGFyYW1zLmNyaWQudG9TdHJpbmcoKSk7dmFyIGk9cGFyc2VGbG9hdCh0LnBhcmFtcy5iaWRmbG9vcik7aSYmKG4uYmlkZmxvb3I9aSk7dmFyIGEsbz1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KTtpZihlJiZlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCl7dmFyIG49ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPXt9O3JldHVybiByLnRvcF9sZWZ0PXt5Om4udG9wLHg6bi5sZWZ0fSxyLmJvdHRvbV9yaWdodD17eTpuLmJvdHRvbSx4Om4ucmlnaHR9LHJ9cmV0dXJuIG51bGx9KHQuYWRVbml0Q29kZSk7aWYobyYmbi5iYW5uZXImJjAhPT1uLmJhbm5lci5sZW5ndGgpe3ZhciBjPXt0b3BfbGVmdDp7eDooYT1vKS50b3BfbGVmdC54K3dpbmRvdy5wYWdlWE9mZnNldCx5OmEudG9wX2xlZnQueSt3aW5kb3cucGFnZVlPZmZzZXR9LGJvdHRvbV9yaWdodDp7eDphLmJvdHRvbV9yaWdodC54K3dpbmRvdy5wYWdlWE9mZnNldCx5OmEuYm90dG9tX3JpZ2h0Lnkrd2luZG93LnBhZ2VZT2Zmc2V0fX07bi5leHQuY29vcmRpbmF0ZXM9YyxuLmV4dC52aWV3YWJpbGl0eT13KG8udG9wX2xlZnQseChuLmJhbm5lcikpLC41PHcoYy50b3BfbGVmdCx4KG4uYmFubmVyKSk/bi5leHQudmlzaWJpbGl0eT1wLkFCT1ZFX1RIRV9GT0xEOm4uZXh0LnZpc2liaWxpdHk9cC5CRUxPV19USEVfRk9MRH1lbHNlIG4uZXh0LnZpc2liaWxpdHk9cC5OT1RfREVURVJNSU5FRDtyZXR1cm4gbn1mdW5jdGlvbiB4KHQpe3JldHVybiB0LnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiBlLmgqZS53PHQuaCp0Lnc/ZTp0fSl9ZnVuY3Rpb24gdyh0LGUpe3ZhciBuPWUudyplLmgscj1ULmdldFdpbmRvd1NpemUoKSxpPXt4OnQueCtlLncseTp0LnkrZS5ofTtyZXR1cm4gMD09bnx8LTE9PT1yLnd8fC0xPT09ci5oPzA6ZnVuY3Rpb24odCxlLG4scil7aWYodC54PnIueHx8ZS54PG4ueHx8dC55PnIueXx8ZS55PG4ueSlyZXR1cm4gMDtyZXR1cm4oTWF0aC5taW4oZS54LHIueCktTWF0aC5tYXgodC54LG4ueCkpKihNYXRoLm1pbihlLnksci55KS1NYXRoLm1heCh0Lnksbi55KSl9KHQsaSx7eDowLHk6MH0se3g6ci53LHk6ci5ofSkvbn1mdW5jdGlvbiBFKHQsZSl7cmV0dXJue3NpdGU6Yih0WzBdLnBhcmFtcy5zaXRlKSxleHQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXtjdXN0b21lcl9pZDp0LmNpZCxwcmViaWRfdmVyc2lvbjp1cGJqcy52ZXJzaW9ufTtyLmdkcHJfYXBwbGllcz0hKCFlfHwhZS5nZHByQXBwbGllcyksci5nZHByX2FwcGxpZXMmJihyLmdkcHJfY29uc2VudF9zdHJpbmc9ZS5jb25zZW50U3RyaW5nfHwiIiksci51c3BfYXBwbGllcz0hIW4sci51c3BfYXBwbGllcyYmKHIudXNwX2NvbnNlbnRfc3RyaW5nPW58fCIiKTt2YXIgaT1ULmdldFdpbmRvd1NpemUoKTtyZXR1cm4tMSE9PWkudyYmLTEhPT1pLmgmJihyLnNjcmVlbj1pKSxyfSh0WzBdLnBhcmFtcyxlLmdkcHJDb25zZW50LGUudXNwQ29uc2VudCksaWQ6dFswXS5hdWN0aW9uSWQsaW1wOnQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBfKHQpfSksdG1heDplLnRpbWVvdXR8fGkuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKX19ZnVuY3Rpb24gTyh0LGUpe3ZhciBuPXtwcm90b2NvbDoiaHR0cHMiLGhvc3RuYW1lOiJxc2VhcmNoLWEuYWthbWFpaGQubmV0L2xvZyIsc2VhcmNoOmZ1bmN0aW9uKHQsZSl7ZT11LmlzQXJyYXkoZSkmJmV8fFtdO3ZhciBuPXtsb2dpZDoia2ZrIixldnRpZDoicHJvamVjdGV2ZW50cyIscHJvamVjdDoicHJlYmlkIn07cmV0dXJuIG4uYWNpZD11LmRlZXBBY2Nlc3MoZSwiMC5hdWN0aW9uSWQiKXx8IiIsbi5jaWQ9dXBianMubWVkaWFuZXRHbG9iYWxzLmNpZHx8IiIsbi5jcmlkPWUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB1LmRlZXBBY2Nlc3ModCwicGFyYW1zLjAuY3JpZCIpfHx0LmFkVW5pdENvZGV9KS5qb2luKCJ8Iiksbi5hZHVuaXRfY291bnQ9ZS5sZW5ndGh8fDAsbi5kbj1nLnVybERhdGEuZG9tYWlufHwiIixuLnJlcXVybD1nLnVybERhdGEucGFnZXx8IiIsbi5pc3RvcD1nLnVybERhdGEuaXNUb3B8fCIiLG4uZXZlbnQ9dC5uYW1lfHwiIixuLnZhbHVlPXQudmFsdWV8fCIiLG4ucmQ9dC5yZWxhdGVkX2RhdGF8fCIiLG59KHQsZSl9O3UudHJpZ2dlclBpeGVsKGEuYShuKSl9Zy51cmxEYXRhPXtkb21haW46YS5jKG0ucmVmZXJlcikuaG9zdCxwYWdlOm0ucmVmZXJlcixpc1RvcDptLnJlYWNoZWRUb3B9LHVwYmpzLm1lZGlhbmV0R2xvYmFscz17fTt2YXIgVD17Y29kZTpzLHN1cHBvcnRlZE1lZGlhVHlwZXM6W28uYixvLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmFtcz90LnBhcmFtcy5jaWQmJnUuaXNTdHIodC5wYXJhbXMuY2lkKSYmIXUuaXNFbXB0eVN0cih0LnBhcmFtcy5jaWQpPyhkKHVwYmpzLm1lZGlhbmV0R2xvYmFscywhdXBianMubWVkaWFuZXRHbG9iYWxzLmNpZCYme2NpZDp0LnBhcmFtcy5jaWR9KSwhMCk6KHUubG9nRXJyb3IoIiIuY29uY2F0KHMsIiA6IGNpZCBzaG91bGQgYmUgYSBzdHJpbmciKSksITEpOih1LmxvZ0Vycm9yKCIiLmNvbmNhdChzLCIgOiBNaXNzaW5nIGJpZCBwYXJhbWV0ZXJzIikpLCExKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbih0LGUpe3ZhciBuPUUodCxlKTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vcHJlYmlkLm1lZGlhLm5ldC9ydGIvcHJlYmlkIixkYXRhOkpTT04uc3RyaW5naWZ5KG4pfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24odCl7dmFyIGU9W107aWYoIXR8fCF0LmJvZHkpcmV0dXJuIHUubG9nSW5mbygiIi5jb25jYXQocywiIDogcmVzcG9uc2UgaXMgZW1wdHkiKSksZTt2YXIgbj10LmJvZHkuYmlkTGlzdDtyZXR1cm4gdS5pc0FycmF5KG4pJiYwIT09bi5sZW5ndGg/ZT1uLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hMT09PShlPXQpLm5vX2JpZCYmMDxwYXJzZUZsb2F0KGUuY3BtKTt2YXIgZX0pOih1LmxvZ0luZm8oIiIuY29uY2F0KHMsIiA6IG5vIGJpZHMiKSksZSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbih0LGUpe3ZhciBuLHI9KG49ZSwhdS5pc0VtcHR5KG4pJiZuWzBdLmJvZHkmJm5bMF0uYm9keS5leHQmJnUuaXNBcnJheShuWzBdLmJvZHkuZXh0LmNzVXJsKT9uWzBdLmJvZHkuZXh0LmNzVXJsOltdKTtyZXR1cm4gdC5pZnJhbWVFbmFibGVkP2gociwiaWZyYW1lIik6dC5waXhlbEVuYWJsZWQ/aChyLCJpbWFnZSIpOnZvaWQgMH0sb25UaW1lb3V0OmZ1bmN0aW9uKHQpe3RyeXtPKHtuYW1lOmwsdmFsdWU6dC5sZW5ndGgscmVsYXRlZF9kYXRhOnRbMF0udGltZW91dHx8aS5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpfSx0KX1jYXRjaCh0KXt9fSxvbkJpZFdvbjpmdW5jdGlvbih0KXt0cnl7Tyh7bmFtZTpmLHZhbHVlOnQuY3BtfSxbdF0pfWNhdGNoKHQpe319LGNsZWFyTW5EYXRhOmZ1bmN0aW9uKCl7Zz17fX0sZ2V0V2luZG93U2l6ZTpmdW5jdGlvbigpe3JldHVybnt3OndpbmRvdy5pbm5lcldpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGh8fGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGh8fC0xLGg6d2luZG93LmlubmVySGVpZ2h0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0fHxkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodHx8LTF9fX07T2JqZWN0KHIucmVnaXN0ZXJCaWRkZXIpKFQpfX0sWzQ0Ml0pOwp1cGJqc0NodW5rKFsxNThdLHs0NTI6ZnVuY3Rpb24oZSxyLGEpe2UuZXhwb3J0cz1hKDQ1Myl9LDQ1MzpmdW5jdGlvbihlLHIsYSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxhLmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gcH0pO3ZhciB0PWEoMiksbj1hKDEpLnJlZ2lzdGVyQmlkZGVyLGc9Ii8vaGIubXluYXRpdmVwbGF0Zm9ybS5jb20vcHViMi93ZWIvdjEuMTUuMC9oYndpZGdldC5qc29uIjtmdW5jdGlvbiBjKGUscil7dmFyIGE9e3BhZ2VVcmw6e2VtcHR5VmFsdWU6IltQQUdFX1VSTF0iLGRlZmF1bHRWYWx1ZTpmdW5jdGlvbihlKXtlPWV8fHdpbmRvdy5sb2NhdGlvbi5ocmVmO2Zvcih2YXIgcj1udWxsLGE9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm1ldGEiKSx0PTA7dDxhLmxlbmd0aCYmIXI7dCsrKSJvZzp1cmwiPT1hW3RdLmdldEF0dHJpYnV0ZSgicHJvcGVydHkiKSYmKHI9YVt0XS5jb250ZW50KTtpZighcil7dmFyIG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibGlua1tyZWw9J2Nhbm9uaWNhbCddIik7biYmKHI9bi5ocmVmKX1yZXR1cm4gZT1yfHxlLGVuY29kZVVSSUNvbXBvbmVudChlKS50b1N0cmluZygpfSgpfSxkaXNwbGF5V2l0aGluSWZyYW1lOntlbXB0eVZhbHVlOiIiLGRlZmF1bHRWYWx1ZToiIn0sZGF0YVBhcmFtczp7ZW1wdHlWYWx1ZToiW0tFWV9WQUxVRVNdIixkZWZhdWx0VmFsdWU6IiJ9LHBhaWRDbGlja3M6e2VtcHR5VmFsdWU6IltQQUlEX1RSQUNLSU5HX1BJWEVMXSIsZGVmYXVsdFZhbHVlOiIifSxvcmdhbmljQ2xpY2tzOntlbXB0eVZhbHVlOiJbT1JHQU5JQ19UUkFDS0lOR19QSVhFTF0iLGRlZmF1bHRWYWx1ZToiIn0sZGF0YVZpZXc6e2VtcHR5VmFsdWU6IltWSUVXX1RSQUNLSU5HX1BJWEVMXSIsZGVmYXVsdFZhbHVlOiIifX07cmV0dXJuIGEuaGFzT3duUHJvcGVydHkoZSk/ciYmciE9PWFbZV0uZW1wdHlWYWx1ZT97dmFsdWU6cixmcm9tVXNlcjohMH06e3ZhbHVlOmFbZV0uZGVmYXVsdFZhbHVlLGZyb21Vc2VyOiExfTp7dmFsdWU6cixmcm9tVXNlcjohMH19dmFyIHA9e2NvZGU6Im15NnNlbnNlIixzdXBwb3J0ZWRNZWRpYVR5cGVzOlt0LmIsdC5jXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hKCFlLnBhcmFtc3x8IWUucGFyYW1zLmtleSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxzKXt2YXIgaT1bXTtyZXR1cm4gZSYmZS5sZW5ndGgmJmUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj0hKGUud2lkZ2V0X251bT0xKSxhPSExO2lmKGUucGFyYW1zKWZvcih2YXIgdCBpbiBlLnBhcmFtcylpZihlLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSh0KSl7aWYoImRlYnVnIj09PXQmJiEwPT09ZS5wYXJhbXNbdF0pe2E9ITAsZGVsZXRlIGUucGFyYW1zW3RdO2NvbnRpbnVlfXZhciBuPWModCxlLnBhcmFtc1t0XSk7ZS5wYXJhbXNbdF09bi52YWx1ZSwicGFnZVVybCI9PT10JiYhMD09PW4uZnJvbVVzZXImJihyPSEwKSxlLnBhcmFtc1t0XXx8ZGVsZXRlIGUucGFyYW1zW3RdfXZhciBwLGQsdT0iIi5jb25jYXQoZywiP3dpZGdldF9rZXk9IikuY29uY2F0KGUucGFyYW1zLmtleSwiJmlzX2RhdGFfdXJsX3NldD0iKS5jb25jYXQocik7YSYmKHU9IiIuY29uY2F0KGcsIj9lbnY9ZGVidWcmd2lkZ2V0X2tleT0iKS5jb25jYXQoZS5wYXJhbXMua2V5LCImaXNfZGF0YV91cmxfc2V0PSIpLmNvbmNhdChyKSksZS5nZHByPShkPXtnZHByX2NvbnNlbnQ6bnVsbCxnZHByOm51bGx9LChwPXMpJiYiZ2RwckNvbnNlbnQiaW4gcCYmKGQuZ2Rwcl9jb25zZW50PXAuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZ3x8bnVsbCxkLmdkcHI9bnVsbD09PWQuZ2RwciYmMT09cC5nZHByQ29uc2VudC5nZHByQXBwbGllc3x8ZC5nZHByLGQuZ2Rwcj0obnVsbCE9PWQuZ2Rwcnx8MCE9cC5nZHByQ29uc2VudC5nZHByQXBwbGllcykmJmQuZ2RwcixkLmdkcHI9bnVsbD09PWQuZ2RwciYmMT09cC5nZHByQ29uc2VudC5nZHByQXBwbGllc3x8ZC5nZHByLGQuZ2Rwcj0obnVsbCE9PWQuZ2Rwcnx8MCE9cC5nZHByQ29uc2VudC5nZHByQXBwbGllcykmJmQuZ2RwciksZCk7dmFyIGw9e307Zm9yKHZhciBvIGluIGUpbFtvXT1lW29dLCJiaWRkZXIiPT09byYmKGxbb109Im15NnNlbnNlIik7aS5wdXNoKHt1cmw6dSxtZXRob2Q6IlBPU1QiLGRhdGE6SlNPTi5zdHJpbmdpZnkobCl9KX0pLGl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUpe3ZhciByPVtdO3JldHVybiBlLmJvZHkmJihlLmJvZHkuYmlkZGVyQ29kZT10aGlzLmNvZGUsci5wdXNoKGUuYm9keSkpLHJ9fTtuKHApfX0sWzQ1Ml0pOwp1cGJqc0NodW5rKFsxNTNdLHs0NjI6ZnVuY3Rpb24oZSxfLHQpe2UuZXhwb3J0cz10KDQ2Myl9LDQ2MzpmdW5jdGlvbihtb2R1bGUsX193ZWJwYWNrX2V4cG9ydHNfXyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJCSURERVJfQ09ERSIsZnVuY3Rpb24oKXtyZXR1cm4gQklEREVSX0NPREV9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiRU5HSU5FX0JBU0VfVVJMIixmdW5jdGlvbigpe3JldHVybiBFTkdJTkVfQkFTRV9VUkx9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiTkFUSVZPX0pTX1VSTCIsZnVuY3Rpb24oKXtyZXR1cm4gTkFUSVZPX0pTX1VSTH0pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJVU0VSSUQiLGZ1bmN0aW9uKCl7cmV0dXJuIFVTRVJJRH0pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJVU0VSSVNORVciLGZ1bmN0aW9uKCl7cmV0dXJuIFVTRVJJU05FV30pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJSRUZFUkVSIixmdW5jdGlvbigpe3JldHVybiBSRUZFUkVSfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIlNQT05TT1JFRF9BUlRJQ0xFIixmdW5jdGlvbigpe3JldHVybiBTUE9OU09SRURfQVJUSUNMRX0pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBzcGVjfSk7dmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9zcmNfdXRpbHNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc3JjX2FkYXB0ZXJzX2JpZGRlckZhY3RvcnlfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX21lZGlhVHlwZXNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19zcmNfYWRsb2FkZXJfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSxfLHQpe3JldHVybiBfIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXyx7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbX109dCxlfXZhciBCSURERVJfQ09ERT0ibnR2IixFTkdJTkVfQkFTRV9VUkw9Imh0dHBzOi8vamFkc2VydmUucG9zdHJlbGVhc2UuY29tL3QiLE5BVElWT19KU19VUkw9Ii8vcy5udHYuaW8vc2VydmUvbG9hZC5qcyIsVVNFUklEPSJudHZfdXNpZCIsVVNFUklTTkVXPSJudHZfdXNuZXciLFJFRkVSRVI9Im50dl91cmwiLFNQT05TT1JFRF9BUlRJQ0xFPSJwcnhfdCIsYmlkc1JlcXVlc3RlZD17fSxzcGVjPXtjb2RlOkJJRERFUl9DT0RFLHN1cHBvcnRlZE1lZGlhVHlwZXM6W19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX21lZGlhVHlwZXNfXy5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbigpe3JldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUpe09iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfc3JjX2FkbG9hZGVyX18uYikoTkFUSVZPX0pTX1VSTCwibnR2IixmdW5jdGlvbigpe30pO3ZhciBfO3JldHVybiBfPWNyZWF0ZVNpbmdsZUJpZFJlcXVlc3QoYmlkc1JlcXVlc3RlZD1lKSx7bWV0aG9kOiJHRVQiLHVybDpFTkdJTkVfQkFTRV9VUkwsZGF0YTpfLG9wdGlvbnM6e3dpdGhDcmVkZW50aWFsczohMX19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbiBpbnRlcnByZXRSZXNwb25zZShzZXJ2ZXJSZXNwb25zZSl7dmFyIGJpZHM9W10sZGF0YT1zZXJ2ZXJSZXNwb25zZS5ib2R5O3RyeXtkYXRhPWRhdGEucmVwbGFjZShuZXcgUmVnRXhwKGF0b2IoIkxGd2lZWFYwYjFCc1lYbFFZWEpoYlhOY0lqcDdMaW8vZlE9PSIpKSwiIik7dmFyIG1hdGNoZWRBZERhdGE9ZGF0YS5tYXRjaCgvUG9zdFJlbGVhc2VcLlByb2Nlc3NSZXNwb25zZVwoKC4qKVwpO31cKVwoXCk7Lyk7aWYoMTxtYXRjaGVkQWREYXRhLmxlbmd0aCl7bWF0Y2hlZEFkRGF0YT1KU09OLnBhcnNlKG1hdGNoZWRBZERhdGFbMV0pO3ZhciBhZEpTPSIoZnVuY3Rpb24oKXtQb3N0UmVsZWFzZS5Qcm9jZXNzUmVzcG9uc2UoIitKU09OLnN0cmluZ2lmeShtYXRjaGVkQWREYXRhKSsiKTt9KSgpOyI7aWYoLTE8ZG9jdW1lbnQubG9jYXRpb24uaHJlZi5pbmRleE9mKCI/cHJ4X3Q9Iil8fC0xPGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiJnByeF90PSIpKXJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX3NyY19hZGxvYWRlcl9fLmIpKE5BVElWT19KU19VUkwsIm50diIsZnVuY3Rpb24oKXtldmFsKGFkSlMpfSksYmlkcztmb3IodmFyIGk9MDtpPG1hdGNoZWRBZERhdGEucGxhY2VtZW50cy5sZW5ndGg7aSsrKXt2YXIgY3VycmVudFBsYWNlbWVudD1tYXRjaGVkQWREYXRhLnBsYWNlbWVudHNbaV0sc2VsZWN0b3I9Y3VycmVudFBsYWNlbWVudC5zZWxlY3Rvcjt0cnl7aWYoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpJiZkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuZW50cnktY29udGVudCIpKXt2YXIgcGxhY2VIb2xkZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cGxhY2VIb2xkZXIuaWQ9c2VsZWN0b3IucmVwbGFjZSgiIyIsIiIpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5lbnRyeS1jb250ZW50IikubmV4dEVsZW1lbnRTaWJsaW5nLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHBsYWNlSG9sZGVyLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5lbnRyeS1jb250ZW50IikubmV4dEVsZW1lbnRTaWJsaW5nKX19Y2F0Y2goZSl7fWlmKDA8Y3VycmVudFBsYWNlbWVudC5hZHMubGVuZ3RoKWZvcih2YXIgaj0wO2o8Y3VycmVudFBsYWNlbWVudC5hZHMubGVuZ3RoO2orKyl7dmFyIGFkV29uPWN1cnJlbnRQbGFjZW1lbnQuYWRzW2pdO2JpZHMucHVzaCh7cmVxdWVzdElkOmJpZHNSZXF1ZXN0ZWRbaV0uYmlkSWQsY3BtOndpbmRvdy5udHZDUE18fC4yLHdpZHRoOjAsaGVpZ2h0OjAsYWQ6IjxkaXY+PC9kaXY+IixhZEpTOmFkSlMsdHRsOjMwMCxjcmVhdGl2ZUlkOmFkV29uLmlkLG5ldFJldmVudWU6ITAsY3VycmVuY3k6IlVTRCJ9KX1lbHNlIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfc3JjX2FkbG9hZGVyX18uYikoTkFUSVZPX0pTX1VSTCwibnR2IixmdW5jdGlvbigpe2V2YWwoYWRKUyl9KX0wPT09bWF0Y2hlZEFkRGF0YS5wbGFjZW1lbnRzLmxlbmd0aCYmT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19zcmNfYWRsb2FkZXJfXy5iKShOQVRJVk9fSlNfVVJMLCJudHYiLGZ1bmN0aW9uKCl7ZXZhbChhZEpTKX0pfX1jYXRjaChlKXt9cmV0dXJuIGJpZHN9fTtmdW5jdGlvbiBjcmVhdGVTaW5nbGVCaWRSZXF1ZXN0KGUpe3ZhciBfLHQ9d2luZG93LlBvc3RSZWxlYXNlP3dpbmRvdy5Qb3N0UmVsZWFzZS5TZXNzaW9uTWdtdC5zZXNzaW9uSUQ6c2Vzc2lvblN0b3JhZ2UuX250dnNufHxNYXRoLmZsb29yKDFlNypNYXRoLnJhbmRvbSgpKzEpO3Nlc3Npb25TdG9yYWdlLl9udHZzbnx8KHNlc3Npb25TdG9yYWdlLl9udHZzbj10KTt2YXIgcj0hd2luZG93LlBvc3RSZWxlYXNlfHx3aW5kb3cuUG9zdFJlbGVhc2UuU2Vzc2lvbk1nbXQubmV3U2Vzc2lvbixuPSExOy0xPGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiJnByeF90PSIpP249ZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zcGxpdCgiJnByeF90PSIpWzFdLnNwbGl0KCImIilbMF06LTE8ZG9jdW1lbnQubG9jYXRpb24uaHJlZi5pbmRleE9mKCI/cHJ4X3Q9IikmJihuPWRvY3VtZW50LmxvY2F0aW9uLmhyZWYuc3BsaXQoIj9wcnhfdD0iKVsxXS5zcGxpdCgiJiIpWzBdKTt2YXIgYT0oX2RlZmluZVByb3BlcnR5KF89e30sVVNFUklELHQpLF9kZWZpbmVQcm9wZXJ0eShfLFVTRVJJU05FVyxyKSxfZGVmaW5lUHJvcGVydHkoXyxSRUZFUkVSLGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikpLF8pO3JldHVybiBuJiYoYVtTUE9OU09SRURfQVJUSUNMRV09biksYX1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zcmNfYWRhcHRlcnNfYmlkZGVyRmFjdG9yeV9fLnJlZ2lzdGVyQmlkZGVyKShzcGVjKX19LFs0NjJdKTsKdXBianNDaHVuayhbMTQ1XSx7NDgwOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big0ODEpfSw0ODE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTt2YXIgYz1uKDMpLHI9bigxKSxkPW4oMCkscz1uKDIpLG89big5KTtmdW5jdGlvbiBwKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpKXJldHVybjt2YXIgbj1bXSxyPSEwLGE9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgcyxvPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0ocz1vLm5leHQoKSkuZG9uZSkmJihuLnB1c2gocy52YWx1ZSksIXR8fG4ubGVuZ3RoIT09dCk7cj0hMCk7fWNhdGNoKGUpe2E9ITAsaT1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX1yZXR1cm4gbn0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9dmFyIGE9W3MuYixzLmRdLHU9ImhiX3BiIixtPSIzLjAuMSIsaD17aWRsX2VudjoibHJlIixwdWJjaWQ6InB1YmNpZCIsdGRpZDoidHRkdXVpZCJ9LGk9e2NvZGU6Im9wZW54IixhbGlhc2VzOlsib3BlbnhfYWIiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOmEsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJhbXMuZGVsRG9tYWlufHxlLnBhcmFtcy5wbGF0Zm9ybTtyZXR1cm4gZC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIikmJnQ/ISFlLnBhcmFtcy51bml0fHwwPGQuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGgiKTohKCFlLnBhcmFtcy51bml0fHwhdCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuW107dmFyIGE9W10sdD1wKGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIG49dCxkLmRlZXBBY2Nlc3MobiwibWVkaWFUeXBlcy52aWRlbyIpJiYhZC5kZWVwQWNjZXNzKG4sIm1lZGlhVHlwZXMuYmFubmVyIil8fG4ubWVkaWFUeXBlPT09cy5kP2VbMF0ucHVzaCh0KTplWzFdLnB1c2godCksZX0sW1tdLFtdXSksMiksbj10WzBdLGk9dFsxXTtyZXR1cm4gMDxpLmxlbmd0aCYmYS5wdXNoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9W10sYT0hMSxuPWwoZSx0KSxpPWQuX21hcChlLGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy51bml0fSk7bi5hdXM9ZC5fbWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGQucGFyc2VTaXplc0lucHV0KGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpLmpvaW4oIiwiKX0pLmpvaW4oInwiKSxuLmRpdklkcz1kLl9tYXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUuYWRVbml0Q29kZSl9KS5qb2luKCIsIiksaS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkmJihuLmF1aWQ9aS5qb2luKCIsIikpO2Uuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuZG9Ob3RUcmFja30pJiYobi5ucz0xKTshMCE9PWMuYi5nZXRDb25maWcoImNvcHBhIikmJiFlLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLmNvcHBhfSl8fChuLnRmY2Q9MSk7ZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKHQucGFyYW1zLmN1c3RvbVBhcmFtcyl7dmFyIGU9ZC5fbWFwKE9iamVjdC5rZXlzKHQucGFyYW1zLmN1c3RvbVBhcmFtcyksZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49dFtlXTtkLmlzQXJyYXkobikmJihuPW4uam9pbigiLCIpKTtyZXR1cm4oZS50b0xvd2VyQ2FzZSgpKyI9IituLnRvTG93ZXJDYXNlKCkpLnJlcGxhY2UoIisiLCIuIikucmVwbGFjZSgiLyIsIl8iKX0oZSx0LnBhcmFtcy5jdXN0b21QYXJhbXMpfSksbj13aW5kb3cuYnRvYShlLmpvaW4oIiYiKSk7YT0hMCxyLnB1c2gobil9ZWxzZSByLnB1c2goIiIpfSksYSYmKG4udHBzPXIuam9pbigiLCIpKTt2YXIgcz1bXSxvPSExO2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLnBhcmFtcy5jdXN0b21GbG9vcj8ocy5wdXNoKE1hdGgucm91bmQoMTAwKmUucGFyYW1zLmN1c3RvbUZsb29yKS8xMDAqMWUzKSxvPSEwKTpzLnB1c2goMCl9KSxvJiYobi5hdW1mcz1zLmpvaW4oIiwiKSk7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6bi5waD8iaHR0cHM6Ly91Lm9wZW54Lm5ldC93LzEuMC9hcmoiOiJodHRwczovLyIuY29uY2F0KGVbMF0ucGFyYW1zLmRlbERvbWFpbiwiL3cvMS4wL2FyaiIpLGRhdGE6bixwYXlsb2FkOntiaWRzOmUsc3RhcnRUaW1lOm5ldyBEYXRlfX19KGkscikpLDA8bi5sZW5ndGgmJm4uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuO2EucHVzaCh7bWV0aG9kOiJHRVQiLHVybDoobj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsYT1sKFtlXSx0KSxpPWQuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8iKXx8e30scz1kLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iiksbz1kLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIik7ZC5pc0FycmF5KGUuc2l6ZXMpJiYyPT09ZS5zaXplcy5sZW5ndGgmJiFkLmlzQXJyYXkoZS5zaXplc1swXSk/KG49cGFyc2VJbnQoZS5zaXplc1swXSwxMCkscj1wYXJzZUludChlLnNpemVzWzFdLDEwKSk6ZC5pc0FycmF5KGUuc2l6ZXMpJiZkLmlzQXJyYXkoZS5zaXplc1swXSkmJjI9PT1lLnNpemVzWzBdLmxlbmd0aD8obj1wYXJzZUludChlLnNpemVzWzBdWzBdLDEwKSxyPXBhcnNlSW50KGUuc2l6ZXNbMF1bMV0sMTApKTpkLmlzQXJyYXkobykmJjI9PT1vLmxlbmd0aCYmKG49cGFyc2VJbnQob1swXSwxMCkscj1wYXJzZUludChvWzFdLDEwKSk7T2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbihlKXsib3BlbnJ0YiI9PT1lPyhpW2VdLnc9bnx8aVtlXS53LGlbZV0udj1yfHxpW2VdLnYsYVtlXT1KU09OLnN0cmluZ2lmeShpW2VdKSk6ZSBpbiBhfHwidXJsIj09PWV8fChhW2VdPWlbZV0pfSksYS5hdWlkPWUucGFyYW1zLnVuaXQsYS52d2Q9bnx8aS52d2QsYS52aHQ9cnx8aS52aHQsIm91dHN0cmVhbSI9PT1zJiYoYS52b3M9IjEwMSIpO2kubWltZXMmJihhLnZtaW1lcz1pLm1pbWVzKTtyZXR1cm4gYX0odD1lLHIpKS5waD8iaHR0cHM6Ly91Lm9wZW54Lm5ldC92LzEuMC9hdmpwIjoiaHR0cHM6Ly8iLmNvbmNhdCh0LnBhcmFtcy5kZWxEb21haW4sIi92LzEuMC9hdmpwIiksZGF0YTpuLHBheWxvYWQ6e2JpZDp0LHN0YXJ0VGltZTpuZXcgRGF0ZX19KX0pLGF9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5ib2R5O3JldHVybigvYXZqcCQvLnRlc3QodC51cmwpP3MuZDpzLmIpPT09cy5kP2Z1bmN0aW9uKGUsdCl7dmFyIG49dC5iaWQscj0odC5zdGFydFRpbWUsW10pO2lmKHZvaWQgMCE9PWUmJiIiIT09ZS52YXN0VXJsJiYiIiE9PWUucHViX3Jldil7dmFyIGE9T2JqZWN0KG8uYykoZS52YXN0VXJsKS5zZWFyY2h8fHt9LGk9e307aS5yZXF1ZXN0SWQ9bi5iaWRJZCxpLnR0bD0zMDAsaS5uZXRSZXZlbnVlPSEwLGkuY3VycmVuY3k9ZS5jdXJyZW5jeSxpLmNwbT1OdW1iZXIoZS5wdWJfcmV2KS8xZTMsaS53aWR0aD1lLndpZHRoLGkuaGVpZ2h0PWUuaGVpZ2h0LGkuY3JlYXRpdmVJZD1lLmFkaWQsaS52YXN0VXJsPWUudmFzdFVybCxpLm1lZGlhVHlwZT1zLmQsZS5waD1hLnBoLGUuY29sbz1hLmNvbG8sZS50cz1hLnRzLHIucHVzaChpKX1yZXR1cm4gcn0obix0LnBheWxvYWQpOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXQuYmlkcyxyPSh0LnN0YXJ0VGltZSxlLmFkcy5hZCksYT1bXSxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBzPXJbaV0sbz1wYXJzZUludChzLmlkeCwxMCksYz17fTtpZihjLnJlcXVlc3RJZD1uW29dLmJpZElkLHMucHViX3Jldil7Yy5jcG09TnVtYmVyKHMucHViX3JldikvMWUzO3ZhciBkPXMuY3JlYXRpdmVbMF07ZCYmKGMud2lkdGg9ZC53aWR0aCxjLmhlaWdodD1kLmhlaWdodCksYy5jcmVhdGl2ZUlkPWQuaWQsYy5hZD1zLmh0bWwscy5kZWFsX2lkJiYoYy5kZWFsSWQ9cy5kZWFsX2lkKSxjLnR0bD0zMDAsYy5uZXRSZXZlbnVlPSEwLGMuY3VycmVuY3k9cy5jdXJyZW5jeSxzLnRiZCYmKGMudGJkPXMudGJkKSxjLnRzPXMudHMsYy5tZXRhPXt9LHMuYnJhbmRfaWQmJihjLm1ldGEuYnJhbmRJZD1zLmJyYW5kX2lkKSxzLmFkdl9pZCYmKGMubWV0YS5kc3BpZD1zLmFkdl9pZCksYS5wdXNoKGMpfX1yZXR1cm4gYX0obix0LnBheWxvYWQpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LG4scil7aWYoZS5pZnJhbWVFbmFibGVkfHxlLnBpeGVsRW5hYmxlZClyZXR1cm5be3R5cGU6ZS5pZnJhbWVFbmFibGVkPyJpZnJhbWUiOiJpbWFnZSIsdXJsOmQuZGVlcEFjY2Vzcyh0LCIwLmJvZHkuYWRzLnBpeGVscyIpfHxkLmRlZXBBY2Nlc3ModCwiMC5ib2R5LnBpeGVscyIpfHxmdW5jdGlvbihlLHQpe3ZhciBuPVtdO2UmJihuLnB1c2goImdkcHI9IisoZS5nZHByQXBwbGllcz8xOjApKSxuLnB1c2goImdkcHJfY29uc2VudD0iK2VuY29kZVVSSUNvbXBvbmVudChlLmNvbnNlbnRTdHJpbmd8fCIiKSkpO3QmJm4ucHVzaCgidXNfcHJpdmFjeT0iK2VuY29kZVVSSUNvbXBvbmVudCh0KSk7cmV0dXJuIiIuY29uY2F0KCJodHRwczovL3Uub3BlbngubmV0L3cvMS4wL3BkIikuY29uY2F0KDA8bi5sZW5ndGg/Ij8iK24uam9pbigiJiIpOiIiKX0obixyKX1dfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGQuY29udmVydFR5cGVzKHt1bml0OiJzdHJpbmciLGN1c3RvbUZsb29yOiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIGwoZSx0KXt2YXIgbixyLGEsaSxzPWQuaW5JZnJhbWUoKTtpZihuPXtqdTpjLmIuZ2V0Q29uZmlnKCJwYWdlVXJsIil8fHQucmVmZXJlckluZm8ucmVmZXJlcixjaDpkb2N1bWVudC5jaGFyU2V0fHxkb2N1bWVudC5jaGFyYWN0ZXJTZXQscmVzOiIiLmNvbmNhdChzY3JlZW4ud2lkdGgsIngiKS5jb25jYXQoc2NyZWVuLmhlaWdodCwieCIpLmNvbmNhdChzY3JlZW4uY29sb3JEZXB0aCksaWZyOnMsdHo6KG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpLHR3czpmdW5jdGlvbihlKXt2YXIgdCxuLHIsYT13aW5kb3csaT1kb2N1bWVudCxzPWkuZG9jdW1lbnRFbGVtZW50O2lmKGUpe3RyeXthPXdpbmRvdy50b3AsaT13aW5kb3cudG9wLmRvY3VtZW50fWNhdGNoKGUpe3JldHVybn1zPWkuZG9jdW1lbnRFbGVtZW50LHI9aS5ib2R5LHQ9YS5pbm5lcldpZHRofHxzLmNsaWVudFdpZHRofHxyLmNsaWVudFdpZHRoLG49YS5pbm5lckhlaWdodHx8cy5jbGllbnRIZWlnaHR8fHIuY2xpZW50SGVpZ2h0fWVsc2Ugcz1pLmRvY3VtZW50RWxlbWVudCx0PWEuaW5uZXJXaWR0aHx8cy5jbGllbnRXaWR0aCxuPWEuaW5uZXJIZWlnaHR8fHMuY2xpZW50SGVpZ2h0O3JldHVybiIiLmNvbmNhdCh0LCJ4IikuY29uY2F0KG4pfShzKSxiZToxLGJjOmVbMF0ucGFyYW1zLmJjfHwiIi5jb25jYXQodSwiXyIpLmNvbmNhdChtKSxkZGRpZDpkLl9tYXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkfSkuam9pbigiLCIpLG5vY2FjaGU6KG5ldyBEYXRlKS5nZXRUaW1lKCl9LGVbMF0ucGFyYW1zLnBsYXRmb3JtJiYobi5waD1lWzBdLnBhcmFtcy5wbGF0Zm9ybSksdC5nZHByQ29uc2VudCl7dmFyIG89dC5nZHByQ29uc2VudDt2b2lkIDAhPT1vLmNvbnNlbnRTdHJpbmcmJihuLmdkcHJfY29uc2VudD1vLmNvbnNlbnRTdHJpbmcpLHZvaWQgMCE9PW8uZ2RwckFwcGxpZXMmJihuLmdkcHI9by5nZHByQXBwbGllcz8xOjApLCJpYWIiPT09Yy5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQuY21wQXBpIikmJihuLnhfZ2Rwcl9mPTEpfXJldHVybiB0JiZ0LnVzcENvbnNlbnQmJihuLnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSxkLmRlZXBBY2Nlc3MoZVswXSwiY3J1bWJzLnB1YmNpZCIpJiZkLmRlZXBTZXRWYWx1ZShlWzBdLCJ1c2VySWQucHViY2lkIixkLmRlZXBBY2Nlc3MoZVswXSwiY3J1bWJzLnB1YmNpZCIpKSxyPW4sYT1lWzBdLnVzZXJJZCxkLl9lYWNoKGEsZnVuY3Rpb24oZSx0KXtoLmhhc093blByb3BlcnR5KHQpJiYocltoW3RdXT1lKX0pLG49cixlWzBdLnNjaGFpbiYmKG4uc2NoYWluPShpPWVbMF0uc2NoYWluLCIiLmNvbmNhdChpLnZlciwiLCIpLmNvbmNhdChpLmNvbXBsZXRlLCIhIikuY29uY2F0KGZ1bmN0aW9uKGUpe3ZhciBuPVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIl07cmV0dXJuIGUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXXx8IiJ9KS5qb2luKCIsIil9KS5qb2luKCIhIil9KGkubm9kZXMpKSkpLG59T2JqZWN0KHIucmVnaXN0ZXJCaWRkZXIpKGkpfX0sWzQ4MF0pOwp1cGJqc0NodW5rKFsxMjRdLHs1Mjc6ZnVuY3Rpb24oZSxyLGEpe2UuZXhwb3J0cz1hKDUyOCl9LDUyODpmdW5jdGlvbihlLHIsYSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxhLmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4geH0pO3ZhciBoPWEoMCksaT1hKDEpLGY9YSgyKSxJPWEoMyk7ZnVuY3Rpb24geShlKXtyZXR1cm4oeT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBFPSJQdWJNYXRpYzogIix2PSJVU0QiLHQ9Im5GSW44YUx6YmQiLGI9dm9pZCAwLHc9e2thZHBhZ2V1cmw6IiIsZ2VuZGVyOiIiLHlvYjoiIixsYXQ6IiIsbG9uOiIiLHdpaWQ6IiIscHJvZklkOiIiLHZlcklkOiIifSxuPXtOVU1CRVI6Im51bWJlciIsU1RSSU5HOiJzdHJpbmciLEJPT0xFQU46ImJvb2xlYW4iLEFSUkFZOiJhcnJheSIsT0JKRUNUOiJvYmplY3QifSxzPXttaW1lczpuLkFSUkFZLG1pbmR1cmF0aW9uOm4uTlVNQkVSLG1heGR1cmF0aW9uOm4uTlVNQkVSLHN0YXJ0ZGVsYXk6bi5OVU1CRVIscGxheWJhY2ttZXRob2Q6bi5BUlJBWSxhcGk6bi5BUlJBWSxwcm90b2NvbHM6bi5BUlJBWSx3Om4uTlVNQkVSLGg6bi5OVU1CRVIsYmF0dHI6bi5BUlJBWSxsaW5lYXJpdHk6bi5OVU1CRVIscGxhY2VtZW50Om4uTlVNQkVSLG1pbmJpdHJhdGU6bi5OVU1CRVIsbWF4Yml0cmF0ZTpuLk5VTUJFUn0scD17VElUTEU6e0lEOjEsS0VZOiJ0aXRsZSIsVFlQRTowfSxJTUFHRTp7SUQ6MixLRVk6ImltYWdlIixUWVBFOjB9LElDT046e0lEOjMsS0VZOiJpY29uIixUWVBFOjB9LFNQT05TT1JFREJZOntJRDo0LEtFWToic3BvbnNvcmVkQnkiLFRZUEU6MX0sQk9EWTp7SUQ6NSxLRVk6ImJvZHkiLFRZUEU6Mn0sQ0xJQ0tVUkw6e0lEOjYsS0VZOiJjbGlja1VybCIsVFlQRTowfSxWSURFTzp7SUQ6NyxLRVk6InZpZGVvIixUWVBFOjB9LEVYVDp7SUQ6OCxLRVk6ImV4dCIsVFlQRTowfSxEQVRBOntJRDo5LEtFWToiZGF0YSIsVFlQRTowfSxMT0dPOntJRDoxMCxLRVk6ImxvZ28iLFRZUEU6MH0sU1BPTlNPUkVEOntJRDoxMSxLRVk6InNwb25zb3JlZCIsVFlQRToxfSxERVNDOntJRDoxMixLRVk6ImRhdGEiLFRZUEU6Mn0sUkFUSU5HOntJRDoxMyxLRVk6InJhdGluZyIsVFlQRTozfSxMSUtFUzp7SUQ6MTQsS0VZOiJsaWtlcyIsVFlQRTo0fSxET1dOTE9BRFM6e0lEOjE1LEtFWToiZG93bmxvYWRzIixUWVBFOjV9LFBSSUNFOntJRDoxNixLRVk6InByaWNlIixUWVBFOjZ9LFNBTEVQUklDRTp7SUQ6MTcsS0VZOiJzYWxlcHJpY2UiLFRZUEU6N30sUEhPTkU6e0lEOjE4LEtFWToicGhvbmUiLFRZUEU6OH0sQUREUkVTUzp7SUQ6MTksS0VZOiJhZGRyZXNzIixUWVBFOjl9LERFU0MyOntJRDoyMCxLRVk6ImRlc2MyIixUWVBFOjEwfSxESVNQTEFZVVJMOntJRDoyMSxLRVk6ImRpc3BsYXl1cmwiLFRZUEU6MTF9LENUQTp7SUQ6MjIsS0VZOiJjdGEiLFRZUEU6MTJ9fSxjPXtJQ09OOjEsTE9HTzoyLElNQUdFOjN9LGw9W3tpZDpwLlNQT05TT1JFREJZLklELHJlcXVpcmVkOiEwLGRhdGE6e3R5cGU6MX19LHtpZDpwLlRJVExFLklELHJlcXVpcmVkOiEwfSx7aWQ6cC5JTUFHRS5JRCxyZXF1aXJlZDohMH1dLG89ezE6IlBNUCIsNToiUFJFRiIsNjoiUE1QRyJ9LFQ9MCxPPSExLGQ9e30sdT17fTtmdW5jdGlvbiBEKGUscil7aWYoIWguaXNTdHIocikpcmV0dXJuIHImJmgubG9nV2FybihFKyJJZ25vcmluZyBwYXJhbSBrZXk6ICIrZSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgIit5KHIpKSxiO3N3aXRjaChlKXtjYXNlInBtem9uZWlkIjpyZXR1cm4gci5zcGxpdCgiLCIpLnNsaWNlKDAsNTApLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KS5qb2luKCk7Y2FzZSJrYWRmbG9vciI6Y2FzZSJsYXQiOmNhc2UibG9uIjpyZXR1cm4gcGFyc2VGbG9hdChyKXx8YjtjYXNlInlvYiI6cmV0dXJuIHBhcnNlSW50KHIpfHxiO2RlZmF1bHQ6cmV0dXJuIHJ9fWZ1bmN0aW9uIFMoZSl7dmFyIHI7ZS5wYXJhbXMuYWRVbml0PSIiLGUucGFyYW1zLmFkVW5pdEluZGV4PSIwIixlLnBhcmFtcy53aWR0aD0wLGUucGFyYW1zLmhlaWdodD0wLGUucGFyYW1zLmFkU2xvdD0ocj1lLnBhcmFtcy5hZFNsb3QsaC5pc1N0cihyKT9yLnJlcGxhY2UoL15ccysvZywiIikucmVwbGFjZSgvXHMrJC9nLCIiKToiIik7dmFyIGE9ZS5wYXJhbXMuYWRTbG90LGk9YS5zcGxpdCgiOiIpO2lmKGE9aVswXSwyPT1pLmxlbmd0aCYmKGUucGFyYW1zLmFkVW5pdEluZGV4PWlbMV0pLGk9YS5zcGxpdCgiQCIpLGUucGFyYW1zLmFkVW5pdD1pWzBdLDE8aS5sZW5ndGgpe2lmKDIhPShpPWlbMV0uc3BsaXQoIngiKSkubGVuZ3RoKXJldHVybiB2b2lkIGgubG9nV2FybihFKyJBZFNsb3QgRXJyb3I6IGFkU2xvdCBub3QgaW4gcmVxdWlyZWQgZm9ybWF0Iik7ZS5wYXJhbXMud2lkdGg9cGFyc2VJbnQoaVswXSwxMCksZS5wYXJhbXMuaGVpZ2h0PXBhcnNlSW50KGlbMV0sMTApfWVsc2UgaWYoZS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpJiZlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkoZi5iKSYmZS5tZWRpYVR5cGVzLmJhbm5lci5oYXNPd25Qcm9wZXJ0eSgic2l6ZXMiKSl7Zm9yKHZhciBzPTAsdD1bXTtzPGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoO3MrKykyPT09ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1tzXS5sZW5ndGgmJnQucHVzaChlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzW3NdKTtlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzPXQsMTw9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGgmJihlLnBhcmFtcy53aWR0aD1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzWzBdWzBdLGUucGFyYW1zLmhlaWdodD1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzWzBdWzFdLGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5zcGxpY2UoMSxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aC0xKSl9fWZ1bmN0aW9uIG0oZSxyLGEpe3ZhciBpLHM9Iklnbm9yaW5nIHBhcmFtIGtleTogIitlKyIsIGV4cGVjdHMgIithKyIsIGZvdW5kICIreShyKTtzd2l0Y2goYSl7Y2FzZSBuLkJPT0xFQU46aT1oLmlzQm9vbGVhbjticmVhaztjYXNlIG4uTlVNQkVSOmk9aC5pc051bWJlcjticmVhaztjYXNlIG4uU1RSSU5HOmk9aC5pc1N0cjticmVhaztjYXNlIG4uQVJSQVk6aT1oLmlzQXJyYXl9cmV0dXJuIGkocik/cjooaC5sb2dXYXJuKEUrcyksYil9ZnVuY3Rpb24gWShlKXt2YXIgcixhLGkscz17YXNzZXRzOltdfTtmb3IodmFyIHQgaW4gZSl7aWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIG49e307aWYoIShzLmFzc2V0cyYmMDxzLmFzc2V0cy5sZW5ndGgmJnMuYXNzZXRzLmhhc093blByb3BlcnR5KHQpKSlzd2l0Y2godCl7Y2FzZSBwLlRJVExFLktFWTplW3RdLmxlbnx8ZVt0XS5sZW5ndGg/bj17aWQ6cC5USVRMRS5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MCx0aXRsZTp7bGVuOmVbdF0ubGVufHxlW3RdLmxlbmd0aCxleHQ6ZVt0XS5leHR9fTpoLmxvZ1dhcm4oRSsiRXJyb3I6IFRpdGxlIExlbmd0aCBpcyByZXF1aXJlZCBmb3IgbmF0aXZlIGFkOiAiK0pTT04uc3RyaW5naWZ5KGUpKTticmVhaztjYXNlIHAuSU1BR0UuS0VZOmVbdF0uc2l6ZXMmJjA8ZVt0XS5zaXplcy5sZW5ndGg/bj17aWQ6cC5JTUFHRS5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6Yy5JTUFHRSx3OmVbdF0ud3x8ZVt0XS53aWR0aHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1swXTpiKSxoOmVbdF0uaHx8ZVt0XS5oZWlnaHR8fChlW3RdLnNpemVzP2VbdF0uc2l6ZXNbMV06Yiksd21pbjplW3RdLndtaW58fGVbdF0ubWluaW11bVdpZHRofHwoZVt0XS5taW5zaXplcz9lW3RdLm1pbnNpemVzWzBdOmIpLGhtaW46ZVt0XS5obWlufHxlW3RdLm1pbmltdW1IZWlnaHR8fChlW3RdLm1pbnNpemVzP2VbdF0ubWluc2l6ZXNbMV06YiksbWltZXM6ZVt0XS5taW1lcyxleHQ6ZVt0XS5leHR9fTpoLmxvZ1dhcm4oRSsiRXJyb3I6IEltYWdlIHNpemVzIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2UgcC5JQ09OLktFWTplW3RdLnNpemVzJiYwPGVbdF0uc2l6ZXMubGVuZ3RoP249e2lkOnAuSUNPTi5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6Yy5JQ09OLHc6ZVt0XS53fHxlW3RdLndpZHRofHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzBdOmIpLGg6ZVt0XS5ofHxlW3RdLmhlaWdodHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1sxXTpiKX19OmgubG9nV2FybihFKyJFcnJvcjogSWNvbiBzaXplcyBpcyByZXF1aXJlZCBmb3IgbmF0aXZlIGFkOiAiK0pTT04uc3RyaW5naWZ5KGUpKTticmVhaztjYXNlIHAuVklERU8uS0VZOm49e2lkOnAuVklERU8uSUQscmVxdWlyZWQ6ZVt0XS5yZXF1aXJlZD8xOjAsdmlkZW86e21pbmR1cmF0aW9uOmVbdF0ubWluZHVyYXRpb24sbWF4ZHVyYXRpb246ZVt0XS5tYXhkdXJhdGlvbixwcm90b2NvbHM6ZVt0XS5wcm90b2NvbHMsbWltZXM6ZVt0XS5taW1lcyxleHQ6ZVt0XS5leHR9fTticmVhaztjYXNlIHAuRVhULktFWTpuPXtpZDpwLkVYVC5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MH07YnJlYWs7Y2FzZSBwLkxPR08uS0VZOm49e2lkOnAuTE9HTy5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6Yy5MT0dPLHc6ZVt0XS53fHxlW3RdLndpZHRofHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzBdOmIpLGg6ZVt0XS5ofHxlW3RdLmhlaWdodHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1sxXTpiKX19O2JyZWFrO2Nhc2UgcC5TUE9OU09SRURCWS5LRVk6Y2FzZSBwLkJPRFkuS0VZOmNhc2UgcC5SQVRJTkcuS0VZOmNhc2UgcC5MSUtFUy5LRVk6Y2FzZSBwLkRPV05MT0FEUy5LRVk6Y2FzZSBwLlBSSUNFLktFWTpjYXNlIHAuU0FMRVBSSUNFLktFWTpjYXNlIHAuUEhPTkUuS0VZOmNhc2UgcC5BRERSRVNTLktFWTpjYXNlIHAuREVTQzIuS0VZOmNhc2UgcC5ESVNQTEFZVVJMLktFWTpjYXNlIHAuQ1RBLktFWTpyPXVbdF0sYT1lLGk9ci5LRVksbj17aWQ6ci5JRCxyZXF1aXJlZDphW2ldLnJlcXVpcmVkPzE6MCxkYXRhOnt0eXBlOnIuVFlQRSxsZW46YVtpXS5sZW4sZXh0OmFbaV0uZXh0fX19fW4mJm4uaWQmJihzLmFzc2V0c1tzLmFzc2V0cy5sZW5ndGhdPW4pfXZhciBvPWwubGVuZ3RoLGQ9MDtyZXR1cm4gbC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj1zLmFzc2V0cy5sZW5ndGgsYT0wO2E8cjthKyspaWYoZS5pZD09cy5hc3NldHNbYV0uaWQpe2QrKzticmVha319KSxPPW8hPWQsc31mdW5jdGlvbiBQKGUpe3ZhciByLGE9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyxpPVtdO2lmKGEhPT1iJiZoLmlzQXJyYXkoYSkpe2lmKHI9e30sZS5wYXJhbXMud2lkdGh8fGUucGFyYW1zLmhlaWdodClyLnc9ZS5wYXJhbXMud2lkdGgsci5oPWUucGFyYW1zLmhlaWdodDtlbHNle2lmKDA9PT1hLmxlbmd0aClyZXR1cm4gcj1iLGgubG9nV2FybihFKyJFcnJvcjogbWVkaWFUeXBlcy5iYW5uZXIuc2l6ZSBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBiYW5uZXIgaW1wcmVzc2lvbiBpbiB0aGUgYWR1bml0LiIpLHI7ci53PXBhcnNlSW50KGFbMF1bMF0sMTApLHIuaD1wYXJzZUludChhWzBdWzFdLDEwKSxhPWEuc3BsaWNlKDEsYS5sZW5ndGgtMSl9MDxhLmxlbmd0aCYmKGk9W10sYS5mb3JFYWNoKGZ1bmN0aW9uKGUpezE8ZS5sZW5ndGgmJmkucHVzaCh7dzplWzBdLGg6ZVsxXX0pfSksMDxpLmxlbmd0aCYmKHIuZm9ybWF0PWkpKSxyLnBvcz0wLHIudG9wZnJhbWU9aC5pbklmcmFtZSgpPzA6MX1lbHNlIGgubG9nV2FybihFKyJFcnJvcjogbWVkaWFUeXBlcy5iYW5uZXIuc2l6ZSBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBiYW5uZXIgaW1wcmVzc2lvbiBpbiB0aGUgYWR1bml0LiIpLHI9YjtyZXR1cm4gcn1mdW5jdGlvbiBBKGUpe3ZhciByLGE9ZS5wYXJhbXMudmlkZW87aWYoYSE9PWIpe2Zvcih2YXIgaSBpbiByPXt9LHMpYS5oYXNPd25Qcm9wZXJ0eShpKSYmKHJbaV09bShpLGFbaV0sc1tpXSkpO2guaXNBcnJheShlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSk/KHIudz1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVswXSwxMCksci5oPXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzFdLDEwKSk6aC5pc051bWJlcihlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSkmJihyLnc9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0sMTApLHIuaD1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVsxXSwxMCkpLGUucGFyYW1zLnZpZGVvLmhhc093blByb3BlcnR5KCJza2lwcGFibGUiKSYmKHIuZXh0PXt2aWRlb19za2lwcGFibGU6ZS5wYXJhbXMudmlkZW8uc2tpcHBhYmxlPzE6MH0pfWVsc2Ugcj1iLGgubG9nV2FybihFKyJFcnJvcjogVmlkZW8gY29uZmlnIHBhcmFtcyBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIgd2l0aCBtZWRpYVR5cGUgc2V0IGFzIHZpZGVvLiBJZ25vcmluZyB2aWRlbyBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIik7cmV0dXJuIHJ9ZnVuY3Rpb24gZyhlKXt2YXIgcixhLGkscz0ocj10LCEoaT0oYT13aW5kb3cuRGlnaVRydXN0JiYoSS5iLmdldENvbmZpZygiZGlnaVRydXN0SWQiKXx8d2luZG93LkRpZ2lUcnVzdC5nZXRVc2VyKHttZW1iZXI6cn0pKSkmJmEuc3VjY2VzcyYmYS5pZGVudGl0eXx8bnVsbCl8fGkucHJpdmFjeSYmaS5wcml2YWN5Lm9wdG91dD9udWxsOmkpO251bGwhPT1zJiZlLnB1c2goe3NvdXJjZToiZGlnaXRydS5zdCIsdWlkczpbe2lkOnMuaWR8fCIiLGF0eXBlOjEsZXh0OntrZXl2OnBhcnNlSW50KHMua2V5dil8fDB9fV19KX1mdW5jdGlvbiBSKGUscixhLGkpe2guaXNTdHIocikmJmUucHVzaCh7c291cmNlOmEsdWlkczpbe2lkOnIsYXR5cGU6aX1dfSl9ZnVuY3Rpb24gayhlLHIpe3ZhciBhLGkscyx0LG49W107ZyhuKSxhPW4saT1yLHM9bnVsbCx0PUkuYi5nZXRDb25maWcoImFkc3J2ck9yZ0lkIiksaC5pc1N0cihoLmRlZXBBY2Nlc3MoaSwiMC51c2VySWQudGRpZCIpKT9zPWlbMF0udXNlcklkLnRkaWQ6dCYmaC5pc1N0cih0LlRESUQpJiYocz10LlRESUQpLG51bGwhPT1zJiZhLnB1c2goe3NvdXJjZToiYWRzZXJ2ZXIub3JnIix1aWRzOlt7aWQ6cyxhdHlwZToxLGV4dDp7cnRpUGFydG5lcjoiVERJRCJ9fV19KTt2YXIgbz1yWzBdO28mJm8udXNlcklkJiYoUihuLGguZGVlcEFjY2VzcyhvLCJ1c2VySWQucHViY2lkIiksInB1YmNpZC5vcmciLDEpLFIobixoLmRlZXBBY2Nlc3MobywidXNlcklkLmRpZ2l0cnVzdGlkLmRhdGEuaWQiKSwiZGlnaXRydS5zdCIsMSksUihuLGguZGVlcEFjY2VzcyhvLCJ1c2VySWQuaWQ1aWQiKSwiaWQ1LXN5bmMuY29tIiwxKSxSKG4saC5kZWVwQWNjZXNzKG8sInVzZXJJZC5jcml0ZW9JZCIpLCJjcml0ZW8uY29tIiwxKSxSKG4saC5kZWVwQWNjZXNzKG8sInVzZXJJZC5pZGxfZW52IiksImxpdmVyYW1wLmNvbSIsMSksUihuLGguZGVlcEFjY2VzcyhvLCJ1c2VySWQubGlwYi5saXBiaWQiKSwibGl2ZWludGVudC5jb20iLDEpLFIobixoLmRlZXBBY2Nlc3MobywidXNlcklkLnBhcnJhYmxlaWQiKSwicGFycmFibGUuY29tIiwxKSxSKG4saC5kZWVwQWNjZXNzKG8sInVzZXJJZC5icml0ZXBvb2xpZCIpLCJicml0ZXBvb2wuY29tIiwxKSksMDxuLmxlbmd0aCYmKGUudXNlci5laWRzPW4pfWguX2VhY2gocCxmdW5jdGlvbihlKXtkW2UuSURdPWUuS0VZfSksaC5fZWFjaChwLGZ1bmN0aW9uKGUpe3VbZS5LRVldPWV9KTt2YXIgeD17Y29kZToicHVibWF0aWMiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2YuYixmLmQsZi5jXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS5wYXJhbXMpJiYoaC5pc1N0cihlLnBhcmFtcy5wdWJsaXNoZXJJZCk/ISEoIWUucGFyYW1zLmhhc093blByb3BlcnR5KCJ2aWRlbyIpfHxlLnBhcmFtcy52aWRlby5oYXNPd25Qcm9wZXJ0eSgibWltZXMiKSYmaC5pc0FycmF5KGUucGFyYW1zLnZpZGVvLm1pbWVzKSYmMCE9PWUucGFyYW1zLnZpZGVvLm1pbWVzLmxlbmd0aCl8fChoLmxvZ1dhcm4oRSsiRXJyb3I6IEZvciB2aWRlbyBhZHMsIG1pbWVzIGlzIG1hbmRhdG9yeSBhbmQgbXVzdCBzcGVjaWZ5IGF0bGVhc2UgMSBtaW1lIHZhbHVlLiBDYWxsIHRvIE9wZW5CaWQgd2lsbCBub3QgYmUgc2VudCBmb3IgYWQgdW5pdDoiK0pTT04uc3RyaW5naWZ5KGUpKSwhMSk6KGgubG9nV2FybihFKyJFcnJvcjogcHVibGlzaGVySWQgaXMgbWFuZGF0b3J5IGFuZCBjYW5ub3QgYmUgbnVtZXJpYy4gQ2FsbCB0byBPcGVuQmlkIHdpbGwgbm90IGJlIHNlbnQgZm9yIGFkIHVuaXQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpLCExKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgYTtyJiZyLnJlZmVyZXJJbmZvJiYoYT1yLnJlZmVyZXJJbmZvKTt2YXIgaSxzLHQsbixvLGQscCxjPXtwYWdlVVJMOihpPWEpJiZpLnJlZmVyZXI/aS5yZWZlcmVyOndpbmRvdy5sb2NhdGlvbi5ocmVmLHJlZlVSTDp3aW5kb3cuZG9jdW1lbnQucmVmZXJyZXJ9LGw9KHM9Yyx7aWQ6IiIrKG5ldyBEYXRlKS5nZXRUaW1lKCksYXQ6MSxjdXI6W3ZdLGltcDpbXSxzaXRlOntwYWdlOnMucGFnZVVSTCxyZWY6cy5yZWZVUkwscHVibGlzaGVyOnt9fSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsanM6MSxkbnQ6InllcyI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5tc0RvTm90VHJhY2s/MTowLGg6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V9LHVzZXI6e30sZXh0Ont9fSksdT0iIixtPVtdLGc9W107aWYoZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKCh0PWguZGVlcENsb25lKGUpKS5wYXJhbXMuYWRTbG90PXQucGFyYW1zLmFkU2xvdHx8IiIsUyh0KSx0LnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKXx8dC5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpJiZ0Lm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkoZi5jKXx8MCE9PXQucGFyYW1zLndpZHRofHwwIT09dC5wYXJhbXMuaGVpZ2h0KXtjLnB1YklkPWMucHViSWR8fHQucGFyYW1zLnB1Ymxpc2hlcklkLChjPWZ1bmN0aW9uKGUscil7dmFyIGEsaSxzO2ZvcihhIGluIHIua2FkcGFnZXVybHx8KHIua2FkcGFnZXVybD1yLnBhZ2VVUkwpLHcpdy5oYXNPd25Qcm9wZXJ0eShhKSYmKGk9ZVthXSkmJigib2JqZWN0Ij09PXkocz13W2FdKSYmKGk9cy5mKGkscikpLGguaXNTdHIoaSk/clthXT1pOmgubG9nV2FybihFKyJJZ25vcmluZyBwYXJhbSA6ICIrYSsiIHdpdGggdmFsdWUgOiAiK3dbYV0rIiwgZXhwZWN0cyBzdHJpbmctdmFsdWUsIGZvdW5kICIreShpKSkpO3JldHVybiByfSh0LnBhcmFtcyxjKSkudHJhbnNhY3Rpb25JZD10LnRyYW5zYWN0aW9uSWQsIiI9PT11P3U9dC5wYXJhbXMuY3VycmVuY3l8fGI6dC5wYXJhbXMuaGFzT3duUHJvcGVydHkoImN1cnJlbmN5IikmJnUhPT10LnBhcmFtcy5jdXJyZW5jeSYmaC5sb2dXYXJuKEUrIkN1cnJlbmN5IHNwZWNpZmllciBpZ25vcmVkLiBPbmx5IG9uZSBjdXJyZW5jeSBwZXJtaXR0ZWQuIiksdC5wYXJhbXMuY3VycmVuY3k9dSx0LnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiZGN0ciIpJiZoLmlzU3RyKHQucGFyYW1zLmRjdHIpJiZtLnB1c2godC5wYXJhbXMuZGN0ciksdC5wYXJhbXMuaGFzT3duUHJvcGVydHkoImJjYXQiKSYmaC5pc0FycmF5KHQucGFyYW1zLmJjYXQpJiYoZz1nLmNvbmNhdCh0LnBhcmFtcy5iY2F0KSk7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHIsYSxpPXt9LHM9e30sdD1lLmhhc093blByb3BlcnR5KCJzaXplcyIpP2Uuc2l6ZXM6W10sbj0iIixvPVtdO2lmKGk9e2lkOmUuYmlkSWQsdGFnaWQ6ZS5wYXJhbXMuYWRVbml0fHx2b2lkIDAsYmlkZmxvb3I6RCgia2FkZmxvb3IiLGUucGFyYW1zLmthZGZsb29yKSxzZWN1cmU6MSxleHQ6e3BtWm9uZUlkOkQoInBtem9uZWlkIixlLnBhcmFtcy5wbXpvbmVpZCl9LGJpZGZsb29yY3VyOmUucGFyYW1zLmN1cnJlbmN5P0QoImN1cnJlbmN5IixlLnBhcmFtcy5jdXJyZW5jeSk6dn0sZS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpKWZvcihuIGluIGUubWVkaWFUeXBlcylzd2l0Y2gobil7Y2FzZSBmLmI6KHI9UChlKSkhPT1iJiYoaS5iYW5uZXI9cik7YnJlYWs7Y2FzZSBmLmM6cy5yZXF1ZXN0PUpTT04uc3RyaW5naWZ5KFkoZS5uYXRpdmVQYXJhbXMpKSxPP2gubG9nV2FybihFKyJFcnJvcjogRXJyb3IgaW4gTmF0aXZlIGFkdW5pdCAiK2UucGFyYW1zLmFkVW5pdCsiLiBJZ25vcmluZyB0aGUgYWR1bml0LiBSZWZlciB0byBodHRwOi8vcHJlYmlkLm9yZy9kZXYtZG9jcy9zaG93LW5hdGl2ZS1hZHMuaHRtbCBmb3IgbW9yZSBkZXRhaWxzLiIpOmkubmF0aXZlPXM7YnJlYWs7Y2FzZSBmLmQ6KGE9QShlKSkhPT1iJiYoaS52aWRlbz1hKX1lbHNlIHI9e3BvczowLHc6ZS5wYXJhbXMud2lkdGgsaDplLnBhcmFtcy5oZWlnaHQsdG9wZnJhbWU6aC5pbklmcmFtZSgpPzA6MX0saC5pc0FycmF5KHQpJiYxPHQubGVuZ3RoJiYoKHQ9dC5zcGxpY2UoMSx0Lmxlbmd0aC0xKSkuZm9yRWFjaChmdW5jdGlvbihlKXtvLnB1c2goe3c6ZVswXSxoOmVbMV19KX0pLHIuZm9ybWF0PW8pLGkuYmFubmVyPXI7cmV0dXJuIGkuaGFzT3duUHJvcGVydHkoZi5iKXx8aS5oYXNPd25Qcm9wZXJ0eShmLmMpfHxpLmhhc093blByb3BlcnR5KGYuZCk/aTpifSh0KTtyJiZsLmltcC5wdXNoKHIpfWVsc2UgaC5sb2dXYXJuKEUrIlNraXBwaW5nIHRoZSBub24tc3RhbmRhcmQgYWRzbG90OiAiLHQucGFyYW1zLmFkU2xvdCxKU09OLnN0cmluZ2lmeSh0KSl9KSwwIT1sLmltcC5sZW5ndGgpcmV0dXJuIGwuc2l0ZS5wdWJsaXNoZXIuaWQ9Yy5wdWJJZC50cmltKCksVD1jLnB1YklkLnRyaW0oKSxsLmV4dC53cmFwcGVyPXt9LGwuZXh0LndyYXBwZXIucHJvZmlsZT1wYXJzZUludChjLnByb2ZJZCl8fGIsbC5leHQud3JhcHBlci52ZXJzaW9uPXBhcnNlSW50KGMudmVySWQpfHxiLGwuZXh0LndyYXBwZXIud2lpZD1jLndpaWR8fGIsbC5leHQud3JhcHBlci53dj0icHJlYmlkX3ByZWJpZF8yLjQ0LjgtcHJlIixsLmV4dC53cmFwcGVyLnRyYW5zYWN0aW9uSWQ9Yy50cmFuc2FjdGlvbklkLGwuZXh0LndyYXBwZXIud3A9InBianMiLGwudXNlci5nZW5kZXI9Yy5nZW5kZXI/Yy5nZW5kZXIudHJpbSgpOmIsbC51c2VyLmdlbz17fSxsLnVzZXIuZ2VvLmxhdD1EKCJsYXQiLGMubGF0KSxsLnVzZXIuZ2VvLmxvbj1EKCJsb24iLGMubG9uKSxsLnVzZXIueW9iPUQoInlvYiIsYy55b2IpLGwuZGV2aWNlLmdlbz1sLnVzZXIuZ2VvLGwuc2l0ZS5wYWdlPWMua2FkcGFnZXVybC50cmltKCl8fGwuc2l0ZS5wYWdlLnRyaW0oKSxsLnNpdGUuZG9tYWluPShuPWwuc2l0ZS5wYWdlLChvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSkuaHJlZj1uLG8uaG9zdG5hbWUpLC0xIT09d2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigicHVibWF0aWNUZXN0PXRydWUiKSYmKGwudGVzdD0xKSxlWzBdLnNjaGFpbiYmKGwuc291cmNlPXtleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19KSxyJiZyLmdkcHJDb25zZW50JiYobC51c2VyLmV4dD17Y29uc2VudDpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmd9LGwucmVncz17ZXh0OntnZHByOnIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowfX0pLHImJnIudXNwQ29uc2VudCYmaC5kZWVwU2V0VmFsdWUobCwicmVncy5leHQudXNfcHJpdmFjeSIsci51c3BDb25zZW50KSwhMD09PUkuYi5nZXRDb25maWcoImNvcHBhIikmJmguZGVlcFNldFZhbHVlKGwsInJlZ3MuY29wcGEiLDEpLGZ1bmN0aW9uKGUscixhKXt2YXIgaSxzPSIiO2lmKDA8ci5sZW5ndGgpaWYoYVswXS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImRjdHIiKSl7aWYocz1hWzBdLnBhcmFtcy5kY3RyLGguaXNTdHIocykmJjA8cy5sZW5ndGgpe3ZhciB0PXMuc3BsaXQoInwiKTtzPSIiLHQuZm9yRWFjaChmdW5jdGlvbihlKXtzKz0wPGUubGVuZ3RoP2UudHJpbSgpKyJ8IjoiIn0pLGk9cy5sZW5ndGgsInwiPT09cy5zdWJzdHJpbmcoaSxpLTEpJiYocz1zLnN1YnN0cmluZygwLGktMSkpLGUuc2l0ZS5leHQ9e2tleV92YWw6cy50cmltKCl9fWVsc2UgaC5sb2dXYXJuKEUrIklnbm9yaW5nIHBhcmFtIDogZGN0ciB3aXRoIHZhbHVlIDogIitzKyIsIGV4cGVjdHMgc3RyaW5nLXZhbHVlLCBmb3VuZCBlbXB0eSBvciBub24tc3RyaW5nIHZhbHVlIik7MTxyLmxlbmd0aCYmaC5sb2dXYXJuKEUrImRjdHIgdmFsdWUgZm91bmQgaW4gbW9yZSB0aGFuIDEgYWR1bml0cy4gVmFsdWUgZnJvbSAxc3QgYWR1bml0IHdpbGwgYmUgcGlja2VkLiBJZ25vcmluZyB2YWx1ZXMgZnJvbSBzdWJzZXF1ZW50IGFkdW5pdHMiKX1lbHNlIGgubG9nV2FybihFKyJkY3RyIHZhbHVlIG5vdCBmb3VuZCBpbiAxc3QgYWR1bml0LCBpZ25vcmluZyB2YWx1ZXMgZnJvbSBzdWJzZXF1ZW50IGFkdW5pdHMiKX0obCxtLGUpLGsobCxlKSxkPWwsMDwocD0ocD1nKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfHwoaC5sb2dXYXJuKEUrImJjYXQ6IEVhY2ggY2F0ZWdvcnkgc2hvdWxkIGJlIGEgc3RyaW5nLCBpZ25vcmluZyBjYXRlZ29yeTogIitlKSwhMSl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkuZmlsdGVyKGZ1bmN0aW9uKGUscixhKXtpZigzPGUubGVuZ3RoKXJldHVybiBhLmluZGV4T2YoZSk9PT1yO2gubG9nV2FybihFKyJiY2F0OiBFYWNoIGNhdGVnb3J5IHNob3VsZCBoYXZlIGEgdmFsdWUgb2YgYSBsZW5ndGggb2YgbW9yZSB0aGFuIDMgY2hhcmFjdGVycywgaWdub3JpbmcgY2F0ZWdvcnk6ICIrZSl9KSkubGVuZ3RoJiYoaC5sb2dXYXJuKEUrImJjYXQ6IFNlbGVjdGVkOiAiLHApLGQuYmNhdD1wKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vaGJvcGVuYmlkLnB1Ym1hdGljLmNvbS90cmFuc2xhdG9yP3NvdXJjZT1wcmViaWQtY2xpZW50IixkYXRhOkpTT04uc3RyaW5naWZ5KGwpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgaT1bXSxzPXYsdD1KU09OLnBhcnNlKHIuZGF0YSksbj10LnNpdGUmJnQuc2l0ZS5yZWY/dC5zaXRlLnJlZjoiIjt0cnl7ZS5ib2R5JiZlLmJvZHkuc2VhdGJpZCYmaC5pc0FycmF5KGUuYm9keS5zZWF0YmlkKSYmKHM9ZS5ib2R5LmN1cnx8cyxlLmJvZHkuc2VhdGJpZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuYmlkJiZoLmlzQXJyYXkoZS5iaWQpJiZlLmJpZC5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBhPXtyZXF1ZXN0SWQ6ci5pbXBpZCxjcG06KHBhcnNlRmxvYXQoci5wcmljZSl8fDApLnRvRml4ZWQoMiksd2lkdGg6ci53LGhlaWdodDpyLmgsY3JlYXRpdmVJZDpyLmNyaWQsZGVhbElkOnIuZGVhbGlkLGN1cnJlbmN5OnMsbmV0UmV2ZW51ZTohMSx0dGw6MzAwLHJlZmVycmVyOm4sYWQ6ci5hZG19O3QuaW1wJiYwPHQuaW1wLmxlbmd0aCYmdC5pbXAuZm9yRWFjaChmdW5jdGlvbihlKXtpZihyLmltcGlkPT09ZS5pZClzd2l0Y2goIWZ1bmN0aW9uKHIsZSl7dmFyIGE9IiIsaT1uZXcgUmVnRXhwKC9WQVNUXHMrdmVyc2lvbi8pO2lmKDA8PXIuaW5kZXhPZignc3BhbiBjbGFzcz0iUHViQVBJQWQiJykpZS5tZWRpYVR5cGU9Zi5iO2Vsc2UgaWYoaS50ZXN0KHIpKWUubWVkaWFUeXBlPWYuZDtlbHNlIHRyeXsoYT1KU09OLnBhcnNlKHIucmVwbGFjZSgvXFwvZywiIikpKSYmYS5uYXRpdmUmJihlLm1lZGlhVHlwZT1mLmMpfWNhdGNoKGUpe2gubG9nV2FybihFKyJFcnJvcjogQ2Fubm90IHBhcnNlIG5hdGl2ZSByZXBvbnNlIGZvciBhZCByZXNwb25zZTogIityKX19KHIuYWRtLGEpLGEubWVkaWFUeXBlKXtjYXNlIGYuYjpicmVhaztjYXNlIGYuZDphLndpZHRoPXIuaGFzT3duUHJvcGVydHkoInciKT9yLnc6ZS52aWRlby53LGEuaGVpZ2h0PXIuaGFzT3duUHJvcGVydHkoImgiKT9yLmg6ZS52aWRlby5oLGEudmFzdFhtbD1yLmFkbTticmVhaztjYXNlIGYuYzohZnVuY3Rpb24oZSxyKXtpZihyLm5hdGl2ZT17fSxlLmhhc093blByb3BlcnR5KCJhZG0iKSl7dmFyIGE9IiI7dHJ5e2E9SlNPTi5wYXJzZShlLmFkbS5yZXBsYWNlKC9cXC9nLCIiKSl9Y2F0Y2goZSl7cmV0dXJuIGgubG9nV2FybihFKyJFcnJvcjogQ2Fubm90IHBhcnNlIG5hdGl2ZSByZXBvbnNlIGZvciBhZCByZXNwb25zZTogIityLmFkbSl9aWYoYSYmYS5uYXRpdmUmJmEubmF0aXZlLmFzc2V0cyYmMDxhLm5hdGl2ZS5hc3NldHMubGVuZ3RoKXtyLm1lZGlhVHlwZT1mLmM7Zm9yKHZhciBpPTAscz1hLm5hdGl2ZS5hc3NldHMubGVuZ3RoO2k8cztpKyspc3dpdGNoKGEubmF0aXZlLmFzc2V0c1tpXS5pZCl7Y2FzZSBwLlRJVExFLklEOnIubmF0aXZlLnRpdGxlPWEubmF0aXZlLmFzc2V0c1tpXS50aXRsZSYmYS5uYXRpdmUuYXNzZXRzW2ldLnRpdGxlLnRleHQ7YnJlYWs7Y2FzZSBwLklNQUdFLklEOnIubmF0aXZlLmltYWdlPXt1cmw6YS5uYXRpdmUuYXNzZXRzW2ldLmltZyYmYS5uYXRpdmUuYXNzZXRzW2ldLmltZy51cmwsaGVpZ2h0OmEubmF0aXZlLmFzc2V0c1tpXS5pbWcmJmEubmF0aXZlLmFzc2V0c1tpXS5pbWcuaCx3aWR0aDphLm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbaV0uaW1nLnd9O2JyZWFrO2Nhc2UgcC5JQ09OLklEOnIubmF0aXZlLmljb249e3VybDphLm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbaV0uaW1nLnVybCxoZWlnaHQ6YS5uYXRpdmUuYXNzZXRzW2ldLmltZyYmYS5uYXRpdmUuYXNzZXRzW2ldLmltZy5oLHdpZHRoOmEubmF0aXZlLmFzc2V0c1tpXS5pbWcmJmEubmF0aXZlLmFzc2V0c1tpXS5pbWcud307YnJlYWs7Y2FzZSBwLlNQT05TT1JFREJZLklEOmNhc2UgcC5CT0RZLklEOmNhc2UgcC5MSUtFUy5JRDpjYXNlIHAuRE9XTkxPQURTLklEOmNhc2UgcC5QUklDRTpjYXNlIHAuU0FMRVBSSUNFLklEOmNhc2UgcC5QSE9ORS5JRDpjYXNlIHAuQUREUkVTUy5JRDpjYXNlIHAuREVTQzIuSUQ6Y2FzZSBwLkNUQS5JRDpjYXNlIHAuUkFUSU5HLklEOmNhc2UgcC5ESVNQTEFZVVJMLklEOnIubmF0aXZlW2RbYS5uYXRpdmUuYXNzZXRzW2ldLmlkXV09YS5uYXRpdmUuYXNzZXRzW2ldLmRhdGEmJmEubmF0aXZlLmFzc2V0c1tpXS5kYXRhLnZhbHVlfXIubmF0aXZlLmNsaWNrVXJsPWEubmF0aXZlLmxpbmsmJmEubmF0aXZlLmxpbmsudXJsLHIubmF0aXZlLmNsaWNrVHJhY2tlcnM9YS5uYXRpdmUubGluayYmYS5uYXRpdmUubGluay5jbGlja3RyYWNrZXJzfHxbXSxyLm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnM9YS5uYXRpdmUuaW1wdHJhY2tlcnN8fFtdLHIubmF0aXZlLmpzdHJhY2tlcj1hLm5hdGl2ZS5qc3RyYWNrZXJ8fFtdLHIud2lkdGh8fChyLndpZHRoPTApLHIuaGVpZ2h0fHwoci5oZWlnaHQ9MCl9fX0ocixhKX19KSxyLmV4dCYmci5leHQuZGVhbF9jaGFubmVsJiYoYS5kZWFsQ2hhbm5lbD1vW3IuZXh0LmRlYWxfY2hhbm5lbF18fG51bGwpLGEubWV0YT17fSxyLmV4dCYmci5leHQuZHNwaWQmJihhLm1ldGEubmV0d29ya0lkPXIuZXh0LmRzcGlkKSxyLmV4dCYmci5leHQuYWR2aWQmJihhLm1ldGEuYnV5ZXJJZD1yLmV4dC5hZHZpZCksci5hZG9tYWluJiYwPHIuYWRvbWFpbi5sZW5ndGgmJihhLm1ldGEuY2xpY2tVcmw9ci5hZG9tYWluWzBdKSxpLnB1c2goYSl9KX0pKX1jYXRjaChlKXtoLmxvZ0Vycm9yKGUpfXJldHVybiBpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLGEsaSl7dmFyIHM9Imh0dHBzOi8vYWRzLnB1Ym1hdGljLmNvbS9BZFNlcnZlci9qcy9zaG93YWQuanMjUElYJmtkbnR1aWQ9MSZwPSIrVDtpZihhJiYocys9IiZnZHByPSIrKGEuZ2RwckFwcGxpZXM/MTowKSxzKz0iJmdkcHJfY29uc2VudD0iK2VuY29kZVVSSUNvbXBvbmVudChhLmNvbnNlbnRTdHJpbmd8fCIiKSksaSYmKHMrPSImdXNfcHJpdmFjeT0iK2VuY29kZVVSSUNvbXBvbmVudChpKSksITA9PT1JLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYocys9IiZjb3BwYT0xIiksZS5pZnJhbWVFbmFibGVkKXJldHVyblt7dHlwZToiaWZyYW1lIix1cmw6c31dO2gubG9nV2FybihFKyJQbGVhc2UgZW5hYmxlIGlmcmFtZSBiYXNlZCB1c2VyIHN5bmMuIil9LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gaC5jb252ZXJ0VHlwZXMoe3B1Ymxpc2hlcklkOiJzdHJpbmciLGFkU2xvdDoic3RyaW5nIn0sZSl9fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoeCl9fSxbNTI3XSk7CnVwYmpzQ2h1bmsoWzEyMV0sezUzNzpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNTM4KX0sNTM4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBpfSk7dmFyIHA9dCgwKSxuPXQoMSksYz10KDEwKTtmdW5jdGlvbiBhKCl7cmV0dXJuKGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgZD17VElUTEVfTEVOOjEwMCxERVNDUl9MRU46MjAwLFNQT05TT1JFRF9CWV9MRU46NTAsSU1HX01JTjoxNTAsSUNPTl9NSU46NTB9LHM9WyJjcCIsImN0IiwiY2YiLCJ2aWRlbyIsImJhdHRyIiwiYmNhdCIsImJhZHYiLCJiaWRmbG9vciJdLGk9e2NvZGU6InB1bHNlcG9pbnQiLGFsaWFzZXM6WyJwdWxzZUxpdGUiLCJwdWxzZXBvaW50TGl0ZSJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6WyJiYW5uZXIiLCJuYXRpdmUiLCJ2aWRlbyJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUucGFyYW1zJiZlLnBhcmFtcy5jcCYmZS5wYXJhbXMuY3QpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQsbixpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9iaWQuY29udGV4dHdlYi5jb20vaGVhZGVyL29ydGI/c3JjPXByZWJpZCIsZGF0YTp7aWQ6ZVswXS5iaWRkZXJSZXF1ZXN0SWQsaW1wOmUubWFwKGZ1bmN0aW9uKGUpe3JldHVybntpZDoocj1lKS5iaWRJZCxiYW5uZXI6ZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSl7aWYoZS5wYXJhbXMuY2Ype3ZhciByPWUucGFyYW1zLmNmLnRvVXBwZXJDYXNlKCkuc3BsaXQoIlgiKSx0PXBhcnNlSW50KGUucGFyYW1zLmN3fHxyWzBdLDEwKSxuPXBhcnNlSW50KGUucGFyYW1zLmNofHxyWzFdLDEwKTtyZXR1cm5bdCxuXX1yZXR1cm5bMSwxXX0oZSk7cmV0dXJuIGUubmF0aXZlUGFyYW1zfHxlLnBhcmFtcy52aWRlbz9udWxsOnt3OnJbMF0saDpyWzFdLGJhdHRyOmUucGFyYW1zLmJhdHRyfX0ociksbmF0aXZlOmZ1bmN0aW9uKGUpe2lmKGUubmF0aXZlUGFyYW1zKXt2YXIgcj1bXTtyZXR1cm4gdShyLGZ1bmN0aW9uKGUscix0KXtyZXR1cm4gcj97aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCx0aXRsZTp7bGVuOnIubGVufHx0fX06bnVsbH0oci5sZW5ndGgrMSxlLm5hdGl2ZVBhcmFtcy50aXRsZSxkLlRJVExFX0xFTikpLHUocixsKHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuYm9keSwyLGQuREVTQ1JfTEVOKSksdShyLGwoci5sZW5ndGgrMSxlLm5hdGl2ZVBhcmFtcy5zcG9uc29yZWRCeSwxLGQuU1BPTlNPUkVEX0JZX0xFTikpLHUocixvKHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuaWNvbiwxLGQuSUNPTl9NSU4sZC5JQ09OX01JTikpLHUocixvKHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuaW1hZ2UsMyxkLklNR19NSU4sZC5JTUdfTUlOKSkse3JlcXVlc3Q6SlNPTi5zdHJpbmdpZnkoe2Fzc2V0czpyfSksdmVyOiIxLjEiLGJhdHRyOmUucGFyYW1zLmJhdHRyfX1yZXR1cm4gbnVsbH0ociksdGFnaWQ6ci5wYXJhbXMuY3QudG9TdHJpbmcoKSx2aWRlbzpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMudmlkZW8/YSh7fSxlLnBhcmFtcy52aWRlbyx7YmF0dHI6ZS5wYXJhbXMuYmF0dHJ9KTpudWxsfShyKSxiaWRmbG9vcjpyLnBhcmFtcy5iaWRmbG9vcixleHQ6ZnVuY3Rpb24ocil7dmFyIHQ9e30sbj17fTtyZXR1cm4gcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBuW2VdPTF9KSxPYmplY3Qua2V5cyhyLnBhcmFtcykuZm9yRWFjaChmdW5jdGlvbihlKXtuW2VdfHwodFtlXT1yLnBhcmFtc1tlXSl9KSwwPE9iamVjdC5rZXlzKHQpLmxlbmd0aD97cHJlYmlkOnR9Om51bGx9KHIpfTt2YXIgcn0pLHNpdGU6KG49cixpPSh0PWUpJiYwPHQubGVuZ3RoP3RbMF0ucGFyYW1zLmNwOiIwIix0WzBdLnBhcmFtcy5hcHA/bnVsbDp7cHVibGlzaGVyOntpZDppLnRvU3RyaW5nKCl9LHJlZjpmdW5jdGlvbigpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fSgpLHBhZ2U6biYmbi5yZWZlcmVySW5mbz9uLnJlZmVyZXJJbmZvLnJlZmVyZXI6IiJ9KSxhcHA6ZnVuY3Rpb24oZSl7dmFyIHI9ZSYmMDxlLmxlbmd0aD9lWzBdLnBhcmFtcy5jcDoiMCIsdD1lWzBdLnBhcmFtcy5hcHA7aWYodClyZXR1cm57cHVibGlzaGVyOntpZDpyLnRvU3RyaW5nKCl9LGJ1bmRsZTp0LmJ1bmRsZSxzdG9yZXVybDp0LnN0b3JlVXJsLGRvbWFpbjp0LmRvbWFpbn07cmV0dXJuIG51bGx9KGUpLGRldmljZTp7dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5zeXN0ZW1MYW5ndWFnZX0sYmNhdDplWzBdLnBhcmFtcy5iY2F0LGJhZHY6ZVswXS5wYXJhbXMuYmFkdix1c2VyOmZ1bmN0aW9uKGUscil7dmFyIHQ9e307ciYmci5nZHByQ29uc2VudCYmKHQuY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpO2lmKGUmJmUudXNlcklkKXt0LmVpZHM9W10sZih0LmVpZHMsZS51c2VySWQucHViY2lkLCJwdWJjb21tb24iKSxmKHQuZWlkcyxlLnVzZXJJZC5icml0ZXBvb2xpZCwiYnJpdGVwb29sLmNvbSIpLGYodC5laWRzLGUudXNlcklkLmNyaXRlb0lkLCJjcml0ZW8iKSxmKHQuZWlkcyxlLnVzZXJJZC5pZGxfZW52LCJpZGVudGl0eUxpbmsiKSxmKHQuZWlkcyxlLnVzZXJJZC5pZDVpZCwiaWQ1LXN5bmMuY29tIiksZih0LmVpZHMsZS51c2VySWQucGFycmFibGVpZCwicGFycmFibGUuY29tIiksZS51c2VySWQubGlwYiYmZS51c2VySWQubGlwYi5saXBiaWQmJmYodC5laWRzLGUudXNlcklkLmxpcGIubGlwYmlkLCJsaXZlaW50ZW50LmNvbSIpLGYodC5laWRzLGUudXNlcklkLnRkaWQsImFkc2VydmVyLm9yZyIse3J0aVBhcnRuZXI6IlRESUQifSk7dmFyIG49ZS51c2VySWQuZGlnaXRydXN0aWQ7aWYobiYmbi5kYXRhKXt2YXIgaT17fTtuLmRhdGEuaWQmJihpLmlkPW4uZGF0YS5pZCksbi5kYXRhLmtleXYmJihpLmtleXY9bi5kYXRhLmtleXYpLHQuZGlnaXRydXN0PWl9fXJldHVybntleHQ6dH19KGVbMF0scikscmVnczpmdW5jdGlvbihlKXtpZihlLmdkcHJDb25zZW50fHxlLnVzcENvbnNlbnQpe3ZhciByPXt9O3JldHVybiBlLmdkcHJDb25zZW50JiYoci5nZHByPWUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSxlLnVzcENvbnNlbnQmJihyLnVzX3ByaXZhY3k9ZS51c3BDb25zZW50KSx7ZXh0OnJ9fXJldHVybiBudWxsfShyKSxzb3VyY2U6ZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm57ZXh0OntzY2hhaW46ZX19O3JldHVybiBudWxsfShlWzBdLnNjaGFpbil9LGJpZGRlclJlcXVlc3Q6cn19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIGE9e30sZD17fSxzPXt9LHU9ci5ib2R5O2UuZGF0YS5pbXAuZm9yRWFjaChmdW5jdGlvbihlKXthW2UuaWRdPWV9KSx1JiZ1LnNlYXRiaWQuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWQuZm9yRWFjaChmdW5jdGlvbihlKXtkW2UuaW1waWRdPWV9KX0pO2UuYmlkZGVyUmVxdWVzdCYmZS5iaWRkZXJSZXF1ZXN0LmJpZHMmJmUuYmlkZGVyUmVxdWVzdC5iaWRzLmZvckVhY2goZnVuY3Rpb24oZSl7c1tlLmJpZElkXT1lfSk7dmFyIG89W107cmV0dXJuIE9iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoZFtlXSl7dmFyIHI9e3JlcXVlc3RJZDplLGNwbTpkW2VdLnByaWNlLGNyZWF0aXZlX2lkOmRbZV0uY3JpZCxjcmVhdGl2ZUlkOmRbZV0uY3JpZCxhZElkOmUsdHRsOmRbZV0uZXhwfHwyMCxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OnUuY3VyfHwiVVNEIn07YVtlXS5uYXRpdmU/KHIubmF0aXZlPWZ1bmN0aW9uKGUscil7aWYoZS5uYXRpdmUpe3ZhciB0PWZ1bmN0aW9uKGUpe3RyeXtpZihlKXJldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKGUpe3AubG9nRXJyb3IoInB1bHNlcG9pbnRMaXRlLnNhZmVQYXJzZSIsIkVSUk9SIixlKX1yZXR1cm4gbnVsbH0oci5hZG0pLG49e307aWYodCYmdC5uYXRpdmUmJnQubmF0aXZlLmFzc2V0cylyZXR1cm4gdC5uYXRpdmUuYXNzZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7bi50aXRsZT1lLnRpdGxlP2UudGl0bGUudGV4dDpuLnRpdGxlLG4uYm9keT1lLmRhdGEmJjI9PT1lLmRhdGEudHlwZT9lLmRhdGEudmFsdWU6bi5ib2R5LG4uc3BvbnNvcmVkQnk9ZS5kYXRhJiYxPT09ZS5kYXRhLnR5cGU/ZS5kYXRhLnZhbHVlOm4uc3BvbnNvcmVkQnksbi5pbWFnZT1lLmltZyYmMz09PWUuaW1nLnR5cGU/ZS5pbWcudXJsOm4uaW1hZ2Usbi5pY29uPWUuaW1nJiYxPT09ZS5pbWcudHlwZT9lLmltZy51cmw6bi5pY29ufSksdC5uYXRpdmUubGluayYmKG4uY2xpY2tVcmw9ZW5jb2RlVVJJQ29tcG9uZW50KHQubmF0aXZlLmxpbmsudXJsKSksbi5pbXByZXNzaW9uVHJhY2tlcnM9dC5uYXRpdmUuaW1wdHJhY2tlcnMsbn1yZXR1cm4gbnVsbH0oYVtlXSxkW2VdKSxyLm1lZGlhVHlwZT0ibmF0aXZlIik6YVtlXS52aWRlbz8oc1tlXSYmIm91dHN0cmVhbSI9PT1wLmRlZXBBY2Nlc3Moc1tlXSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJihyLnJlbmRlcmVyPSh0PXAuZGVlcEFjY2VzcyhzW2VdLCJyZW5kZXJlci5vcHRpb25zIiksbj1wLmRlZXBBY2Nlc3MoZFtlXSwiZXh0Lm91dHN0cmVhbSIpLChpPWMuYS5pbnN0YWxsKHt1cmw6bi5yZW5kZXJlclVybCxjb25maWc6e2RlZmF1bHRPcHRpb25zOm4uY29uZmlnLHJlbmRlcmVyT3B0aW9uczp0LHR5cGU6bi50eXBlfSxsb2FkZWQ6ITF9KSkuc2V0UmVuZGVyKGZ1bmN0aW9uKHIpe3IucmVuZGVyZXIucHVzaChmdW5jdGlvbigpe3ZhciBlPXIucmVuZGVyZXIuZ2V0Q29uZmlnKCk7KG5ldyB3aW5kb3cuUHVsc2VQb2ludE91dHN0cmVhbVJlbmRlcmVyKS5yZW5kZXIoe2FkVW5pdENvZGU6ci5hZFVuaXRDb2RlLHZhc3RYbWw6ci52YXN0WG1sLHR5cGU6ZS50eXBlLGRlZmF1bHRPcHRpb25zOmUuZGVmYXVsdE9wdGlvbnMscmVuZGVyZXJPcHRpb25zOnR9KX0pfSksaSkpLHIudmFzdFhtbD1kW2VdLmFkbSxyLm1lZGlhVHlwZT0idmlkZW8iLHIud2lkdGg9ZFtlXS53LHIuaGVpZ2h0PWRbZV0uaCk6KHIuYWQ9ZFtlXS5hZG0sci53aWR0aD1hW2VdLmJhbm5lci53LHIuaGVpZ2h0PWFbZV0uYmFubmVyLmgpLG8ucHVzaChyKX12YXIgdCxuLGl9KSxvfShyLGUpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWZyYW1lRW5hYmxlZD9be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2JoLmNvbnRleHR3ZWIuY29tL3Zpc2l0b3JtYXRjaCJ9XTplLnBpeGVsRW5hYmxlZD9be3R5cGU6ImltYWdlIix1cmw6Imh0dHBzOi8vYmguY29udGV4dHdlYi5jb20vdmlzaXRvcm1hdGNoL3ByZWJpZCJ9XTp2b2lkIDB9LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gcC5jb252ZXJ0VHlwZXMoe2NmOiJzdHJpbmciLGNwOiJudW1iZXIiLGN0OiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIHUoZSxyKXtyJiZlLnB1c2gocil9ZnVuY3Rpb24gbyhlLHIsdCxuLGkpe3JldHVybiByP3tpZDplLHJlcXVpcmVkOnIucmVxdWlyZWQ/MTowLGltZzp7dHlwZTp0LHdtaW46ci53bWlufHxuLGhtaW46ci5obWlufHxpfX06bnVsbH1mdW5jdGlvbiBsKGUscix0LG4pe3JldHVybiByP3tpZDplLHJlcXVpcmVkOnIucmVxdWlyZWQ/MTowLGRhdGE6e3R5cGU6dCxsZW46ci5sZW58fG59fTpudWxsfWZ1bmN0aW9uIGYoZSxyLHQsbil7aWYocil7dmFyIGk9e2lkOnJ9O24mJihpLmV4dD1uKSxlLnB1c2goe3NvdXJjZTp0LHVpZHM6W2ldfSl9fU9iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShpKX19LFs1MzddKTsKdXBianNDaHVuayhbMTEzXSx7NTU3OmZ1bmN0aW9uKGUscixhKXtlLmV4cG9ydHM9YSg1NTgpfSw1NTg6ZnVuY3Rpb24oZSxyLGEpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYS5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIHR9KTt2YXIgaD1hKDApLGk9YSgxKSx5PWEoMik7dmFyIHQ9bmV3IGZ1bmN0aW9uKCl7dGhpcy5jb2RlPSJyaHl0aG1vbmUiLHRoaXMuc3VwcG9ydGVkTWVkaWFUeXBlcz1beS5kLHkuYl07dmFyIHQ9WzIsMyw1LDZdLHM9WyJ2aWRlby9tcDQiXSxuPVsxLDIsMyw0XSxkPVsxXSxwPVsxLDIsNV0sbz17fSxjPXRoaXM7ZnVuY3Rpb24gbShlKXt2YXIgcj1wYXJzZUludChlWzBdKSxhPXBhcnNlSW50KGVbMV0pO3JldHVybiByPT1yJiZhPT1hJiZbcixhXX1mdW5jdGlvbiB2KGUpe3ZhciByPWUuc2l6ZXM7ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiYocj1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKTt2YXIgYT1oLnBhcnNlU2l6ZXNJbnB1dChyKSxpPVtdO3JldHVybiBhLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHI9bShlLnNwbGl0KCJ4IikpO3ImJmkucHVzaCh7dzpyWzBdLGg6clsxXX0pfX0pLCEhaS5sZW5ndGgmJntmb3JtYXQ6aX19ZnVuY3Rpb24gdShlKXt2YXIgcj1bXTtpZihoLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpe3ZhciBhPWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplO2guaXNBcnJheShlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSkmJihhPWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKTt2YXIgaT1tKGEpO2kmJihyPWkpfXJldHVybnttaW1lczpoLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5taW1lcyIpfHxzLHByb3RvY29sczpoLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wcm90b2NvbHMiKXx8dCx3OnJbMF0saDpyWzFdLHN0YXJ0ZGVsYXk6aC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uc3RhcnRkZWxheSIpfHwwLHNraXA6aC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uc2tpcCIpfHwwLHBsYXliYWNrbWV0aG9kOmguZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXliYWNrbWV0aG9kIil8fG4sZGVsaXZlcnk6aC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uZGVsaXZlcnkiKXx8ZCxhcGk6aC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uYXBpIil8fHB9fWZ1bmN0aW9uIGwoZSxyKXt2YXIgYT17aWQ6ZVswXS5iaWRkZXJSZXF1ZXN0SWQsaW1wOmZ1bmN0aW9uKGUscil7dmFyIGEsaT1bXSx0PTA7aWYociYmci5yZWZlcmVySW5mbyYmci5yZWZlcmVySW5mby5zdGFjay5sZW5ndGgpe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtzLmhyZWY9ci5yZWZlcmVySW5mby5zdGFja1swXSx0PSJodHRwczoiPT1zLnByb3RvY29sPzE6MH1mb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7b1tlW25dLmFkVW5pdENvZGVdPWVbbl07dmFyIGQ9e307aWYoZC5pZD1lW25dLmFkVW5pdENvZGUsZC5iaWRmbG9vcj1wYXJzZUZsb2F0KGguZGVlcEFjY2VzcyhlW25dLCJwYXJhbXMuZmxvb3IiKSl8fDAsZC5zZWN1cmU9dCxoLmRlZXBBY2Nlc3MoZVtuXSwibWVkaWFUeXBlcy5iYW5uZXIiKXx8ImJhbm5lciI9PT1oLmRlZXBBY2Nlc3MoZVtuXSwibWVkaWFUeXBlIikpe3ZhciBwPXYoZVtuXSk7cCYmKGQuYmFubmVyPXApfSFoLmRlZXBBY2Nlc3MoZVtuXSwibWVkaWFUeXBlcy52aWRlbyIpJiYidmlkZW8iIT09aC5kZWVwQWNjZXNzKGVbbl0sIm1lZGlhVHlwZSIpfHwoZC52aWRlbz11KGVbbl0pKSwoZC5iYW5uZXJ8fGQudmlkZW8pJiYoZC5leHQ9e2JpZGRlcjp7cGxhY2VtZW50SWQ6KGE9ZVtuXSkucGFyYW1zLnBsYWNlbWVudElkLHpvbmU6YS5wYXJhbXMmJmEucGFyYW1zLnpvbmU/YS5wYXJhbXMuem9uZToiMXIiLHBhdGg6YS5wYXJhbXMmJmEucGFyYW1zLnBhdGg/YS5wYXJhbXMucGF0aDoibXZvIn19LGkucHVzaChkKSl9cmV0dXJuIGl9KGUsciksc2l0ZTpmdW5jdGlvbihlKXt2YXIgcj17ZG9tYWluOiIiLHBhZ2U6IiIscmVmOiIifTtpZihlJiZlLnJlZmVyZXJJbmZvKXt2YXIgYT1lLnJlZmVyZXJJbmZvO2lmKHIucmVmPWEucmVmZXJlcixhLnN0YWNrLmxlbmd0aCl7ci5wYWdlPWEuc3RhY2tbYS5zdGFjay5sZW5ndGgtMV07dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2kuaHJlZj1hLnN0YWNrWzBdLHIuZG9tYWluPWkuaG9zdG5hbWV9fXJldHVybiByfShyKSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsaXA6IiIsZG50OmguZ2V0RE5UKCk/MTowfSx1c2VyOntleHQ6e2NvbnNlbnQ6aC5kZWVwQWNjZXNzKHIsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIik/ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nOiIifX0sYXQ6MSx0bWF4OjFlMyxyZWdzOntleHQ6e2dkcHI6ISFoLmRlZXBBY2Nlc3MociwiZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMiKSYmQm9vbGVhbigxJnIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpfX19O3JldHVybiBlWzBdLnNjaGFpbiYmKGEuc291cmNlPXtleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19KSxhfWZ1bmN0aW9uIGYoZSxyKXtmb3IodmFyIGE9MDthPHIubGVuZ3RoO2ErKylpZihyW2FdLnBhcmFtcyYmclthXS5wYXJhbXNbZV0pcmV0dXJuIHJbYV0ucGFyYW1zW2VdfXRoaXMuaXNCaWRSZXF1ZXN0VmFsaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuISghZS5wYXJhbXN8fCFlLnBhcmFtcy5wbGFjZW1lbnRJZCl9LHRoaXMuZ2V0VXNlclN5bmNzPWZ1bmN0aW9uKGUscixhKXtyZXR1cm5bXX0sdGhpcy5idWlsZFJlcXVlc3RzPWZ1bmN0aW9uKGUscil7dmFyIGE9ZigicGxhY2VtZW50SWQiLGUpO2lmKHZvaWQgMD09PWF8fGUubGVuZ3RoPDEpcmV0dXJuW107dmFyIGk9ZigiZW5kcG9pbnQiLGUpfHwiLy90YWcuMXJ4LmlvL3JtcC97cGxhY2VtZW50SWR9LzAve3BhdGh9P3o9e3pvbmV9Iix0PWYoInpvbmUiLGUpfHwiMXIiLHM9ZigicGF0aCIsZSl8fCJtdm8iO2k9KGk9KGk9aS5yZXBsYWNlKC9ce3BsYWNlbWVudElkXH0vaSxhKSkucmVwbGFjZSgvXHt6b25lXH0vaSx0KSkucmVwbGFjZSgvXHtwYXRoXH0vaSxzKTt2YXIgbj0vKF52fChcLjApKyQpL2dpO2krPSImaGJ2PSIrIjIuNDQuOC1wcmUiLnJlcGxhY2UobiwiIikrIiwiKyIyLjEiLnJlcGxhY2UobiwiIik7dmFyIGQ9bChlLHIpO3JldHVybiBkLmltcC5sZW5ndGg/e21ldGhvZDoiUE9TVCIsdXJsOmksZGF0YTpKU09OLnN0cmluZ2lmeShkKX06e319LHRoaXMuaW50ZXJwcmV0UmVzcG9uc2U9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5ib2R5fHxbXSxhPVtdLGk9MDtpZihyLnNlYXRiaWQpe3ZhciB0PVtdO2ZvcihpPTA7aTxyLnNlYXRiaWQubGVuZ3RoO2krKylmb3IodmFyIHM9MDtzPHIuc2VhdGJpZFtpXS5iaWQubGVuZ3RoO3MrKyl0LnB1c2goci5zZWF0YmlkW2ldLmJpZFtzXSk7cj10fWZvcihpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBuPXJbaV0sZD1vW24uaW1waWRdLHA9e3JlcXVlc3RJZDpkLmJpZElkLGJpZGRlckNvZGU6Yy5jb2RlLGNwbTpwYXJzZUZsb2F0KG4ucHJpY2UpLHdpZHRoOm4udyxoZWlnaHQ6bi5oLGNyZWF0aXZlSWQ6bi5jcmlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjM1MH07ZC5tZWRpYVR5cGVzJiZkLm1lZGlhVHlwZXMudmlkZW8/KHAudmFzdFVybD1uLm51cmwscC5tZWRpYVR5cGU9InZpZGVvIixwLnR0bD02MDApOnAuYWQ9bi5hZG0sYS5wdXNoKHApfXJldHVybiBhfX07T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKHQpfX0sWzU1N10pOwp1cGJqc0NodW5rKFsxMDhdLHs1NzE6ZnVuY3Rpb24oZSxyLGkpe2UuZXhwb3J0cz1pKDU3Mil9LDU3MjpmdW5jdGlvbihlLHIsaSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxpLmQociwiT1BFTlJUQiIsZnVuY3Rpb24oKXtyZXR1cm4gb30pLGkuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBjfSk7dmFyIGQ9aSgwKSxuPWkoMiksdD1pKDEpLGE9aSgxMSkscz1pLm4oYSkscD1bInByZWJpZC1ldSIsInByZWJpZC11cyIsInByZWJpZC1hc2lhIl0sdT1bIlVTRCJdLG89e05BVElWRTp7SU1BR0VfVFlQRTp7SUNPTjoxLE1BSU46M30sQVNTRVRfSUQ6e1RJVExFOjEsSU1BR0U6MixJQ09OOjMsQk9EWTo0LFNQT05TT1JFRDo1LENUQTo2fSxEQVRBX0FTU0VUX1RZUEU6e1NQT05TT1JFRDoxLERFU0M6MixDVEFfVEVYVDoxMn19fSxjPXtjb2RlOiJydGJob3VzZSIsc3VwcG9ydGVkTWVkaWFUeXBlczpbbi5iLG4uY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISghcygpKHAsZS5wYXJhbXMucmVnaW9uKXx8IWUucGFyYW1zLnB1Ymxpc2hlcklkKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBpLHQsbj17aWQ6ZVswXS5hdWN0aW9uSWQsaW1wOmUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj17aWQ6ZS5iaWRJZCxiYW5uZXI6ZnVuY3Rpb24oZSl7aWYoImJhbm5lciI9PT1lLm1lZGlhVHlwZXx8ZC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIil8fCFlLm1lZGlhVHlwZSYmIWUubWVkaWFUeXBlcyl7dmFyIHI9ZS5zaXplc3x8ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcztyZXR1cm57dzpyWzBdWzBdLGg6clswXVsxXSxmb3JtYXQ6ci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSl9fX0oZSksbmF0aXZlOmZ1bmN0aW9uKGUpe2lmKCJuYXRpdmUiPT09ZS5tZWRpYVR5cGV8fGQuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLm5hdGl2ZSIpKXJldHVybntyZXF1ZXN0Onthc3NldHM6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5uYXRpdmVQYXJhbXN8fGQuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLm5hdGl2ZSIpLGk9W107ci50aXRsZSYmaS5wdXNoKHtpZDpvLk5BVElWRS5BU1NFVF9JRC5USVRMRSxyZXF1aXJlZDpyLnRpdGxlLnJlcXVpcmVkPzE6MCx0aXRsZTp7bGVuOnIudGl0bGUubGVufHwyNX19KTtyLmltYWdlJiZpLnB1c2goe2lkOm8uTkFUSVZFLkFTU0VUX0lELklNQUdFLHJlcXVpcmVkOnIuaW1hZ2UucmVxdWlyZWQ/MTowLGltZzpUKHIuaW1hZ2Usby5OQVRJVkUuSU1BR0VfVFlQRS5NQUlOKX0pO3IuaWNvbiYmaS5wdXNoKHtpZDpvLk5BVElWRS5BU1NFVF9JRC5JQ09OLHJlcXVpcmVkOnIuaWNvbi5yZXF1aXJlZD8xOjAsaW1nOlQoci5pY29uLG8uTkFUSVZFLklNQUdFX1RZUEUuSUNPTil9KTtyLnNwb25zb3JlZEJ5JiZpLnB1c2goe2lkOm8uTkFUSVZFLkFTU0VUX0lELlNQT05TT1JFRCxyZXF1aXJlZDpyLnNwb25zb3JlZEJ5LnJlcXVpcmVkPzE6MCxkYXRhOnt0eXBlOm8uTkFUSVZFLkRBVEFfQVNTRVRfVFlQRS5TUE9OU09SRUQsbGVuOnIuc3BvbnNvcmVkQnkubGVufX0pO3IuYm9keSYmaS5wdXNoKHtpZDpvLk5BVElWRS5BU1NFVF9JRC5CT0RZLHJlcXVpcmVkOnIuYm9keS5yZXF1ZXN0PzE6MCxkYXRhOnt0eXBlOm8uTkFUSVZFLkRBVEFfQVNTRVRfVFlQRS5ERVNDLGxlbjpyLmJvZHkubGVufX0pO3IuY3RhJiZpLnB1c2goe2lkOm8uTkFUSVZFLkFTU0VUX0lELkNUQSxyZXF1aXJlZDpyLmN0YS5yZXF1aXJlZD8xOjAsZGF0YTp7dHlwZTpvLk5BVElWRS5EQVRBX0FTU0VUX1RZUEUuQ1RBX1RFWFQsbGVuOnIuY3RhLmxlbn19KTtyZXR1cm4gaX0oZSl9LHZlcjoiMS4xIn19KGUpLHRhZ2lkOmUuYWRVbml0Q29kZS50b1N0cmluZygpfSxpPXBhcnNlRmxvYXQoZS5wYXJhbXMuYmlkZmxvb3IpO2kmJihyLmJpZGZsb29yPWkpO3JldHVybiByfShlKX0pLHNpdGU6KHQ9cix7cHVibGlzaGVyOntpZDooKGk9ZSkmJjA8aS5sZW5ndGg/aVswXS5wYXJhbXMucHVibGlzaGVySWQ6InVua25vd24iKS50b1N0cmluZygpfSxwYWdlOnQucmVmZXJlckluZm8ucmVmZXJlcixuYW1lOmQuZ2V0T3JpZ2luKCl9KSxjdXI6dSx0ZXN0OmVbMF0ucGFyYW1zLnRlc3R8fDAsc291cmNlOnt0aWQ6ZVswXS50cmFuc2FjdGlvbklkfX07aWYociYmci5nZHByQ29uc2VudCYmci5nZHByQ29uc2VudC5nZHByQXBwbGllcyl7dmFyIGE9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nP3IuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZy5yZXBsYWNlKC9cKy9nLCItIikucmVwbGFjZSgvXC8vZywiXyIpLnJlcGxhY2UoLz0rJC8sIiIpOiIiLHM9ci5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjA7bi5yZWdzPXtleHQ6e2dkcHI6c319LG4udXNlcj17ZXh0Ontjb25zZW50OmF9fX1yZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vIitlWzBdLnBhcmFtcy5yZWdpb24rIi5jcmVhdGl2ZWNkbi5jb20vYmlkZGVyL3ByZWJpZC9iaWRzIixkYXRhOkpTT04uc3RyaW5naWZ5KG4pfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5ib2R5O2lmKCFkLmlzQXJyYXkocikpcmV0dXJuW107dmFyIHQ9W107cmV0dXJuIHIuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcixpOzAhPT1lLnByaWNlJiYoMD09PWUuYWRtLmluZGV4T2YoInsiKT90LnB1c2goe3JlcXVlc3RJZDooaT1lKS5pbXBpZCxtZWRpYVR5cGU6bi5jLGNwbTppLnByaWNlLGNyZWF0aXZlSWQ6aS5hZGlkLHdpZHRoOjEsaGVpZ2h0OjEsdHRsOjU1LG5ldFJldmVudWU6ITAsY3VycmVuY3k6IlVTRCIsbmF0aXZlOmZ1bmN0aW9uKGUpe3ZhciByPUpTT04ucGFyc2UoZSkubmF0aXZlLGk9e2NsaWNrVXJsOmVuY29kZVVSSUNvbXBvbmVudChyLmxpbmsudXJsKSxpbXByZXNzaW9uVHJhY2tlcnM6ci5pbXB0cmFja2Vyc307cmV0dXJuIHIuYXNzZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7c3dpdGNoKGUuaWQpe2Nhc2Ugby5OQVRJVkUuQVNTRVRfSUQuVElUTEU6aS50aXRsZT1lLnRpdGxlLnRleHQ7YnJlYWs7Y2FzZSBvLk5BVElWRS5BU1NFVF9JRC5JTUFHRTppLmltYWdlPXt1cmw6ZW5jb2RlVVJJQ29tcG9uZW50KGUuaW1nLnVybCksd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH07YnJlYWs7Y2FzZSBvLk5BVElWRS5BU1NFVF9JRC5JQ09OOmkuaWNvbj17dXJsOmVuY29kZVVSSUNvbXBvbmVudChlLmltZy51cmwpLHdpZHRoOmUuaW1nLncsaGVpZ2h0OmUuaW1nLmh9O2JyZWFrO2Nhc2Ugby5OQVRJVkUuQVNTRVRfSUQuQk9EWTppLmJvZHk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2Ugby5OQVRJVkUuQVNTRVRfSUQuU1BPTlNPUkVEOmkuc3BvbnNvcmVkQnk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2Ugby5OQVRJVkUuQVNTRVRfSUQuQ1RBOmkuY3RhPWUuZGF0YS52YWx1ZX19KSxpfShpLmFkbSl9KTp0LnB1c2goe3JlcXVlc3RJZDoocj1lKS5pbXBpZCxtZWRpYVR5cGU6bi5iLGNwbTpyLnByaWNlLGNyZWF0aXZlSWQ6ci5hZGlkLGFkOnIuYWRtLHdpZHRoOnIudyxoZWlnaHQ6ci5oLHR0bDo1NSxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QifSkpfSksdH19O2Z1bmN0aW9uIFQoZSxyKXt2YXIgaT17dHlwZTpyfTtpZihlLmFzcGVjdF9yYXRpb3Mpe3ZhciB0PWUuYXNwZWN0X3JhdGlvc1swXSxuPXQubWluX3dpZHRofHwxMDA7aS53bWluPW4saS5obWluPW4vdC5yYXRpb193aWR0aCp0LnJhdGlvX2hlaWdodH1pZihlLnNpemVzKXt2YXIgYT1BcnJheS5pc0FycmF5KGUuc2l6ZXNbMF0pP2Uuc2l6ZXNbMF06ZS5zaXplcztpLnc9YVswXSxpLmg9YVsxXX1yZXR1cm4gaX1PYmplY3QodC5yZWdpc3RlckJpZGRlcikoYyl9fSxbNTcxXSk7CnVwYmpzQ2h1bmsoWzEwNl0sezU3NzpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNTc4KX0sNTc4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJGQVNUTEFORV9FTkRQT0lOVCIsZnVuY3Rpb24oKXtyZXR1cm4gb30pLHQuZChyLCJWSURFT19FTkRQT0lOVCIsZnVuY3Rpb24oKXtyZXR1cm4gc30pLHQuZChyLCJTWU5DX0VORFBPSU5UIixmdW5jdGlvbigpe3JldHVybiBhfSksdC5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSxyLmhhc1ZpZGVvTWVkaWFUeXBlPW4sci5tYXNTaXplT3JkZXJpbmc9QSxyLmRldGVybWluZVJ1Ymljb25WaWRlb1NpemVJZD1TLHIuZ2V0UHJpY2VHcmFudWxhcml0eT1qLHIuaGFzVmFsaWRWaWRlb1BhcmFtcz1DLHIuaGFzVmFsaWRTdXBwbHlDaGFpblBhcmFtcz1rLHIuZW5jb2RlUGFyYW09VCxyLnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXtSPSExfTt2YXIgcD10KDApLGk9dCgxKSxsPXQoMyksdT10KDIpO2Z1bmN0aW9uIG0oKXtyZXR1cm4obT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBpIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJihlW2ldPXRbaV0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHYoZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUscil7aWYoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkpcmV0dXJuO3ZhciB0PVtdLGk9ITAsbj0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBhLHM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShhPXMubmV4dCgpKS5kb25lKSYmKHQucHVzaChhLnZhbHVlKSwhcnx8dC5sZW5ndGghPT1yKTtpPSEwKTt9Y2F0Y2goZSl7bj0hMCxvPWV9ZmluYWxseXt0cnl7aXx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IG99fXJldHVybiB0fShlLHIpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX1mdW5jdGlvbiBjKGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX1mdW5jdGlvbiBmKGUpe3JldHVybihmPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIG89Imh0dHBzOi8vZmFzdGxhbmUucnViaWNvbnByb2plY3QuY29tL2EvYXBpL2Zhc3RsYW5lLmpzb24iLHM9Imh0dHBzOi8vcHJlYmlkLXNlcnZlci5ydWJpY29ucHJvamVjdC5jb20vb3BlbnJ0YjIvYXVjdGlvbiIsYT0iaHR0cHM6Ly9ldXMucnViaWNvbnByb2plY3QuY29tL3VzeW5jLmh0bWwiLGQ9e0ZBU1RMQU5FOntpZDoiZHQuaWQiLGtleXY6ImR0LmtleXYiLHByZWY6ImR0LnByZWYifSxQUkVCSURfU0VSVkVSOntpZDoiaWQiLGtleXY6ImtleXYifX0sZz17MToiNDY4eDYwIiwyOiI3Mjh4OTAiLDU6IjEyMHg5MCIsODoiMTIweDYwMCIsOToiMTYweDYwMCIsMTA6IjMwMHg2MDAiLDEzOiIyMDB4MjAwIiwxNDoiMjUweDI1MCIsMTU6IjMwMHgyNTAiLDE2OiIzMzZ4MjgwIiwxNzoiMjQweDQwMCIsMTk6IjMwMHgxMDAiLDMxOiI5ODB4MTIwIiwzMjoiMjUweDM2MCIsMzM6IjE4MHg1MDAiLDM1OiI5ODB4MTUwIiwzNzoiNDY4eDQwMCIsMzg6IjkzMHgxODAiLDM5OiI3NTB4MTAwIiw0MDoiNzUweDIwMCIsNDE6Ijc1MHgzMDAiLDQyOiIyeDQiLDQzOiIzMjB4NTAiLDQ0OiIzMDB4NTAiLDQ4OiIzMDB4MzAwIiw1MzoiMTAyNHg3NjgiLDU0OiIzMDB4MTA1MCIsNTU6Ijk3MHg5MCIsNTc6Ijk3MHgyNTAiLDU4OiIxMDAweDkwIiw1OToiMzIweDgwIiw2MDoiMzIweDE1MCIsNjE6IjEwMDB4MTAwMCIsNjQ6IjU4MHg1MDAiLDY1OiI2NDB4NDgwIiw2NjoiOTMweDYwMCIsNjc6IjMyMHg0ODAiLDY4OiIxODAweDEwMDAiLDcyOiIzMjB4MzIwIiw3MzoiMzIweDE2MCIsNzg6Ijk4MHgyNDAiLDc5OiI5ODB4MzAwIiw4MDoiOTgweDQwMCIsODM6IjQ4MHgzMDAiLDk0OiI5NzB4MzEwIiw5NjoiOTcweDIxMCIsMTAxOiI0ODB4MzIwIiwxMDI6Ijc2OHgxMDI0IiwxMDM6IjQ4MHgyODAiLDEwNToiMjUweDgwMCIsMTA4OiIzMjB4MjQwIiwxMTM6IjEwMDB4MzAwIiwxMTc6IjMyMHgxMDAiLDEyNToiODAweDI1MCIsMTI2OiIyMDB4NjAwIiwxNDQ6Ijk4MHg2MDAiLDE0NToiOTgweDE1MCIsMTUyOiIxMDAweDI1MCIsMTU2OiI2NDB4MzIwIiwxNTk6IjMyMHgyNTAiLDE3OToiMjUweDYwMCIsMTk1OiI2MDB4MzAwIiwxOTg6IjY0MHgzNjAiLDE5OToiNjQweDIwMCIsMjEzOiIxMDMweDU5MCIsMjE0OiI5ODB4MzYwIiwyMjE6IjF4MSIsMjI5OiIzMjB4MTgwIiwyMzI6IjU4MHg0MDAiLDIzNDoiNng2IiwyNTE6IjJ4MiIsMjU3OiI0MDB4NjAwIiwyNjQ6Ijk3MHgxMDAwIiwyNjU6IjE5MjB4MTA4MCIsMjc4OiIzMjB4NTAwIiwyODg6IjY0MHgzODAifTtwLl9lYWNoKGcsZnVuY3Rpb24oZSxyKXtyZXR1cm4gZ1tlXT1yfSk7dmFyIGI9e2NvZGU6InJ1Ymljb24iLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3UuYix1LmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiIT09ZihlLnBhcmFtcykpcmV0dXJuITE7Zm9yKHZhciByPTAsdD1bImFjY291bnRJZCIsInNpdGVJZCIsInpvbmVJZCJdO3I8dC5sZW5ndGg7cisrKWlmKGUucGFyYW1zW3Rbcl1dPXBhcnNlSW50KGUucGFyYW1zW3Rbcl1dKSxpc05hTihlLnBhcmFtc1t0W3JdXSkpcmV0dXJuIHAubG9nRXJyb3IoIlJ1Ymljb246IHdyb25nIGZvcm1hdCBvZiBhY2NvdW50SWQgb3Igc2l0ZUlkIG9yIHpvbmVJZC4iKSwhMTt2YXIgaT1JKGUsITApO3JldHVybiEhaSYmKCJ2aWRlbyIhPT1pfHxDKGUpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLGEpe3ZhciByPVtdLHQ9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuInZpZGVvIj09PUkoZSl9KS5tYXAoZnVuY3Rpb24oZSl7ZS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIHI9e2lkOmUudHJhbnNhY3Rpb25JZCx0ZXN0OmwuYi5nZXRDb25maWcoImRlYnVnIik/MTowLGN1cjpbIlVTRCJdLHNvdXJjZTp7dGlkOmUudHJhbnNhY3Rpb25JZH0sdG1heDpsLmIuZ2V0Q29uZmlnKCJUVEwiKXx8MWUzLGltcDpbe2V4cDozMDAsaWQ6ZS5hZFVuaXRDb2RlLHNlY3VyZToxLGV4dDpjKHt9LGUuYmlkZGVyLGUucGFyYW1zKSx2aWRlbzpwLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpfHx7fX1dLGV4dDp7cHJlYmlkOntjYWNoZTp7dmFzdHhtbDp7cmV0dXJuQ3JlYXRpdmU6ITF9fSx0YXJnZXRpbmc6e2luY2x1ZGV3aW5uZXJzOiEwLGluY2x1ZGViaWRkZXJrZXlzOiExLHByaWNlZ3JhbnVsYXJpdHk6aihsLmIpfX19fTsicnViaWNvbiIhPT1lLmJpZGRlciYmKHIuZXh0LnByZWJpZC5hbGlhc2VzPWMoe30sZS5iaWRkZXIsInJ1Ymljb24iKSk7dmFyIHQ9cGFyc2VGbG9hdChwLmRlZXBBY2Nlc3MoZSwicGFyYW1zLmZsb29yIikpO2lzTmFOKHQpfHwoci5pbXBbMF0uYmlkZmxvb3I9dCksci5pbXBbMF0uZXh0W2UuYmlkZGVyXS52aWRlby5zaXplX2lkPVMoZSksZnVuY3Rpb24ocix0LGUpe2lmKCFyKXJldHVybjsib2JqZWN0Ij09PWYobC5iLmdldENvbmZpZygiYXBwIikpP3IuYXBwPWwuYi5nZXRDb25maWcoImFwcCIpOnIuc2l0ZT17cGFnZTpoKHQsZSl9OyJvYmplY3QiPT09ZihsLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkmJihyLmRldmljZT1sLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSk7dC5wYXJhbXMudmlkZW8ubGFuZ3VhZ2UmJlsic2l0ZSIsImRldmljZSJdLmZvckVhY2goZnVuY3Rpb24oZSl7cltlXSYmKHJbZV0uY29udGVudD1tKHtsYW5ndWFnZTp0LnBhcmFtcy52aWRlby5sYW5ndWFnZX0scltlXS5jb250ZW50KSl9KX0ocixlLGEpLGZ1bmN0aW9uKGUscil7Im9iamVjdCI9PT1mKGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8uc2tpcCYmKGUuaW1wWzBdLnZpZGVvLnNraXA9ci5wYXJhbXMudmlkZW8uc2tpcCk7Im9iamVjdCI9PT1mKGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8uc2tpcGFmdGVyJiYoZS5pbXBbMF0udmlkZW8uc2tpcGFmdGVyPXIucGFyYW1zLnZpZGVvLnNraXBkZWxheSk7Im9iamVjdCI9PT1mKGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8ucG9zJiYoImF0ZiI9PT1yLnBhcmFtcy5wb3NpdGlvbj9lLmltcFswXS52aWRlby5wb3M9MToiYnRmIj09PXIucGFyYW1zLnBvc2l0aW9uJiYoZS5pbXBbMF0udmlkZW8ucG9zPTMpKTt2YXIgdD14KHIsInZpZGVvIik7ZS5pbXBbMF0udmlkZW8udz10WzBdLGUuaW1wWzBdLnZpZGVvLmg9dFsxXX0ocixlKTt2YXIgaSxuPXkoZSwiUFJFQklEX1NFUlZFUiIpO24mJnAuZGVlcFNldFZhbHVlKHIsInVzZXIuZXh0LmRpZ2l0cnVzdCIsbiksYS5nZHByQ29uc2VudCYmKCJib29sZWFuIj09dHlwZW9mIGEuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihpPWEuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSxwLmRlZXBTZXRWYWx1ZShyLCJyZWdzLmV4dC5nZHByIixpKSxwLmRlZXBTZXRWYWx1ZShyLCJ1c2VyLmV4dC5jb25zZW50IixhLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKTthLnVzcENvbnNlbnQmJnAuZGVlcFNldFZhbHVlKHIsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLGEudXNwQ29uc2VudCksZS51c2VySWQmJiJvYmplY3QiPT09ZihlLnVzZXJJZCkmJihlLnVzZXJJZC50ZGlkfHxlLnVzZXJJZC5wdWJjaWR8fGUudXNlcklkLmxpcGIpJiYocC5kZWVwU2V0VmFsdWUociwidXNlci5leHQuZWlkcyIsW10pLGUudXNlcklkLnRkaWQmJnIudXNlci5leHQuZWlkcy5wdXNoKHtzb3VyY2U6ImFkc2VydmVyLm9yZyIsdWlkczpbe2lkOmUudXNlcklkLnRkaWQsZXh0OntydGlQYXJ0bmVyOiJURElEIn19XX0pLGUudXNlcklkLnB1YmNpZCYmci51c2VyLmV4dC5laWRzLnB1c2goe3NvdXJjZToicHViY29tbW9uIix1aWRzOlt7aWQ6ZS51c2VySWQucHViY2lkfV19KSxlLnVzZXJJZC5saXBiJiZlLnVzZXJJZC5saXBiLmxpcGJpZCYmKHIudXNlci5leHQuZWlkcy5wdXNoKHtzb3VyY2U6ImxpdmVpbnRlbnQuY29tIix1aWRzOlt7aWQ6ZS51c2VySWQubGlwYi5saXBiaWR9XX0pLHIudXNlci5leHQudHBpZD17c291cmNlOiJsaXZlaW50ZW50LmNvbSIsdWlkOmUudXNlcklkLmxpcGIubGlwYmlkfSxBcnJheS5pc0FycmF5KGUudXNlcklkLmxpcGIuc2VnbWVudHMpJiZlLnVzZXJJZC5saXBiLnNlZ21lbnRzLmxlbmd0aCYmcC5kZWVwU2V0VmFsdWUociwicnAudGFyZ2V0LkxJc2VnIixlLnVzZXJJZC5saXBiLnNlZ21lbnRzKSkpLCEwPT09bC5iLmdldENvbmZpZygiY29wcGEiKSYmcC5kZWVwU2V0VmFsdWUociwicmVncy5jb3BwYSIsMSksZS5zY2hhaW4mJmsoZS5zY2hhaW4pJiZwLmRlZXBTZXRWYWx1ZShyLCJzb3VyY2UuZXh0LnNjaGFpbiIsZS5zY2hhaW4pO3ZhciBvPXAuZGVlcEFjY2VzcyhlLCJmcGQuY29udGV4dC5wYkFkU2xvdCIpO3JldHVybiJzdHJpbmciPT10eXBlb2YgbyYmbyYmcC5kZWVwU2V0VmFsdWUoci5pbXBbMF0uZXh0LCJjb250ZXh0LmRhdGEuYWRzbG90IixvKSx7bWV0aG9kOiJQT1NUIix1cmw6cyxkYXRhOnIsYmlkUmVxdWVzdDplfX0pO2lmKCEwIT09bC5iLmdldENvbmZpZygicnViaWNvbi5zaW5nbGVSZXF1ZXN0Iikpcj10LmNvbmNhdChlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIj09PUkoZSl9KS5tYXAoZnVuY3Rpb24oZSl7dmFyIGk9Yi5jcmVhdGVTbG90UGFyYW1zKGUsYSk7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6byxkYXRhOmIuZ2V0T3JkZXJlZFBhcmFtcyhpKS5yZWR1Y2UoZnVuY3Rpb24oZSxyKXt2YXIgdD1pW3JdO3JldHVybiBwLmlzU3RyKHQpJiYiIiE9PXR8fHAuaXNOdW1iZXIodCk/IiIuY29uY2F0KGUpLmNvbmNhdChUKHIsdCksIiYiKTplfSwiIikrInNsb3RzPTEmcmFuZD0iLmNvbmNhdChNYXRoLnJhbmRvbSgpKSxiaWRSZXF1ZXN0OmV9fSkpO2Vsc2V7dmFyIG49ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT1JKGUpfSkucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuKGVbci5wYXJhbXMuc2l0ZUlkXT1lW3IucGFyYW1zLnNpdGVJZF18fFtdKS5wdXNoKHIpLGV9LHt9KTtyPXQuY29uY2F0KE9iamVjdC5rZXlzKG4pLnJlZHVjZShmdW5jdGlvbihyLGUpe3ZhciB0LGk7cmV0dXJuKHQ9bltlXSxpPTEwLHQubWFwKGZ1bmN0aW9uKGUscil7cmV0dXJuIHIlaT09MD90LnNsaWNlKHIscitpKTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk9Yi5jb21iaW5lU2xvdFVybFBhcmFtcyhlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gYi5jcmVhdGVTbG90UGFyYW1zKGUsYSl9KSk7ci5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOm8sZGF0YTpiLmdldE9yZGVyZWRQYXJhbXMoaSkucmVkdWNlKGZ1bmN0aW9uKGUscil7dmFyIHQ9aVtyXTtyZXR1cm4gcC5pc1N0cih0KSYmIiIhPT10fHxwLmlzTnVtYmVyKHQpPyIiLmNvbmNhdChlKS5jb25jYXQoVChyLHQpLCImIik6ZX0sIiIpKyJzbG90cz0iLmNvbmNhdChlLmxlbmd0aCwiJnJhbmQ9IikuY29uY2F0KE1hdGgucmFuZG9tKCkpLGJpZFJlcXVlc3Q6ZX0pfSkscn0sW10pKX1yZXR1cm4gcn0sZ2V0T3JkZXJlZFBhcmFtczpmdW5jdGlvbihlKXt2YXIgcj0vXnRnX3YvLHQ9L150Z19pLyxpPVsiYWNjb3VudF9pZCIsInNpdGVfaWQiLCJ6b25lX2lkIiwic2l6ZV9pZCIsImFsdF9zaXplX2lkcyIsInBfcG9zIiwiZ2RwciIsImdkcHJfY29uc2VudCIsInVzX3ByaXZhY3kiLCJycF9zY2hhaW4iLCJ0cGlkX3RkaWQiLCJ0cGlkX2xpdmVpbnRlbnQuY29tIiwidGdfdi5MSXNlZyIsImR0LmlkIiwiZHQua2V5diIsImR0LnByZWYiLCJyZiIsInBfZ2VvLmxhdGl0dWRlIiwicF9nZW8ubG9uZ2l0dWRlIiwia3ciXS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiByLnRlc3QoZSl9KSkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KGUpfSkpLmNvbmNhdChbInRrX2ZsaW50IiwieF9zb3VyY2UudGlkIiwieF9zb3VyY2UucGNoYWluIiwicF9zY3JlZW5fcmVzIiwicnBfZmxvb3IiLCJycF9zZWN1cmUiLCJ0a191c2VyX2tleSJdKTtyZXR1cm4gaS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09aS5pbmRleE9mKGUpfSkpfSxjb21iaW5lU2xvdFVybFBhcmFtczpmdW5jdGlvbihuKXtpZigxPT09bi5sZW5ndGgpcmV0dXJuIG5bMF07dmFyIGk9bi5yZWR1Y2UoZnVuY3Rpb24ocix0LGkpe3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IuaGFzT3duUHJvcGVydHkoZSl8fChyW2VdPW5ldyBBcnJheShuLmxlbmd0aCkpLHJbZV0uc3BsaWNlKGksMSx0W2VdKX0pLHJ9LHt9KSxvPW5ldyBSZWdFeHAoIl4oW147XSopKDtcXDEpKyQiKTtyZXR1cm4gT2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj1pW2VdLmpvaW4oIjsiKSx0PXIubWF0Y2gobyk7aVtlXT10P3RbMV06cn0pLGl9LGNyZWF0ZVNsb3RQYXJhbXM6ZnVuY3Rpb24oZSxyKXtlLnN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKTt2YXIgdD1lLnBhcmFtcyxpPXgoZSwiYmFubmVyIiksbj12KHQubGF0TG9uZ3x8W10sMiksbz1uWzBdLGE9blsxXSxzPWwuYi5nZXRDb25maWcoInJ1Ymljb24uaW50X3R5cGUiKSxjPXthY2NvdW50X2lkOnQuYWNjb3VudElkLHNpdGVfaWQ6dC5zaXRlSWQsem9uZV9pZDp0LnpvbmVJZCxzaXplX2lkOmlbMF0sYWx0X3NpemVfaWRzOmkuc2xpY2UoMSkuam9pbigiLCIpfHx2b2lkIDAscnBfZmxvb3I6LjAxPCh0LmZsb29yPXBhcnNlRmxvYXQodC5mbG9vcikpP3QuZmxvb3I6LjAxLHJwX3NlY3VyZToiMSIsdGtfZmxpbnQ6IiIuY29uY2F0KHN8fCJwYmpzX2xpdGUiLCJfdjIuNDQuOC1wcmUiKSwieF9zb3VyY2UudGlkIjplLnRyYW5zYWN0aW9uSWQsInhfc291cmNlLnBjaGFpbiI6dC5wY2hhaW4scF9zY3JlZW5fcmVzOlt3aW5kb3cuc2NyZWVuLndpZHRoLHdpbmRvdy5zY3JlZW4uaGVpZ2h0XS5qb2luKCJ4Iiksa3c6QXJyYXkuaXNBcnJheSh0LmtleXdvcmRzKT90LmtleXdvcmRzLmpvaW4oIiwiKToiIix0a191c2VyX2tleTp0LnVzZXJJZCwicF9nZW8ubGF0aXR1ZGUiOmlzTmFOKHBhcnNlRmxvYXQobykpP3ZvaWQgMDpwYXJzZUZsb2F0KG8pLnRvRml4ZWQoNCksInBfZ2VvLmxvbmdpdHVkZSI6aXNOYU4ocGFyc2VGbG9hdChhKSk/dm9pZCAwOnBhcnNlRmxvYXQoYSkudG9GaXhlZCg0KSwidGdfZmwuZWlkIjplLmNvZGUscmY6aChlLHIpfTtjLnBfcG9zPSJhdGYiPT09dC5wb3NpdGlvbnx8ImJ0ZiI9PT10LnBvc2l0aW9uP3QucG9zaXRpb246IiIsZS51c2VySWQmJihlLnVzZXJJZC50ZGlkJiYoYy50cGlkX3RkaWQ9ZS51c2VySWQudGRpZCksZS51c2VySWQubGlwYiYmZS51c2VySWQubGlwYi5saXBiaWQmJihjWyJ0cGlkX2xpdmVpbnRlbnQuY29tIl09ZS51c2VySWQubGlwYi5saXBiaWQsQXJyYXkuaXNBcnJheShlLnVzZXJJZC5saXBiLnNlZ21lbnRzKSYmZS51c2VySWQubGlwYi5zZWdtZW50cy5sZW5ndGgmJihjWyJ0Z192LkxJc2VnIl09ZS51c2VySWQubGlwYi5zZWdtZW50cy5qb2luKCIsIikpKSksci5nZHByQ29uc2VudCYmKCJib29sZWFuIj09dHlwZW9mIHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihjLmdkcHI9TnVtYmVyKHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpKSxjLmdkcHJfY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLHIudXNwQ29uc2VudCYmKGMudXNfcHJpdmFjeT1lbmNvZGVVUklDb21wb25lbnQoci51c3BDb25zZW50KSksbnVsbCE9PXQudmlzaXRvciYmIm9iamVjdCI9PT1mKHQudmlzaXRvcikmJk9iamVjdC5rZXlzKHQudmlzaXRvcikuZm9yRWFjaChmdW5jdGlvbihlKXtudWxsIT10LnZpc2l0b3JbZV0mJihjWyJ0Z192LiIuY29uY2F0KGUpXT10LnZpc2l0b3JbZV0udG9TdHJpbmcoKSl9KSxudWxsIT09dC5pbnZlbnRvcnkmJiJvYmplY3QiPT09Zih0LmludmVudG9yeSkmJk9iamVjdC5rZXlzKHQuaW52ZW50b3J5KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe251bGwhPXQuaW52ZW50b3J5W2VdJiYoY1sidGdfaS4iLmNvbmNhdChlKV09dC5pbnZlbnRvcnlbZV0udG9TdHJpbmcoKSl9KTt2YXIgZD1wLmRlZXBBY2Nlc3MoZSwiZnBkLmNvbnRleHQucGJBZFNsb3QiKTsic3RyaW5nIj09dHlwZW9mIGQmJmQmJihjWyJ0Z19pLmRmcF9hZF91bml0X2NvZGUiXT1kLnJlcGxhY2UoL15cLysvLCIiKSk7dmFyIHU9eShlLCJGQVNUTEFORSIpO3JldHVybiBtKGMsdSksITA9PT1sLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYoYy5jb3BwYT0xKSxlLnNjaGFpbiYmayhlLnNjaGFpbikmJihjLnJwX3NjaGFpbj1iLnNlcmlhbGl6ZVN1cHBseUNoYWluKGUuc2NoYWluKSksY30sc2VyaWFsaXplU3VwcGx5Q2hhaW46ZnVuY3Rpb24oZSl7aWYoIWsoZSkpcmV0dXJuIiI7dmFyIHI9ZS52ZXIsdD1lLmNvbXBsZXRlLGk9ZS5ub2RlcztyZXR1cm4iIi5jb25jYXQociwiLCIpLmNvbmNhdCh0LCIhIikuY29uY2F0KGIuc2VyaWFsaXplU3VwcGx5Q2hhaW5Ob2RlcyhpKSl9LHNlcmlhbGl6ZVN1cHBseUNoYWluTm9kZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQocltlXXx8IiIpfSkuam9pbigiLCIpfSkuam9pbigiISIpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihjLGUpe3ZhciBkPWUuYmlkUmVxdWVzdDtpZighKGM9Yy5ib2R5KXx8Im9iamVjdCIhPT1mKGMpKXJldHVybltdO2lmKGMuc2VhdGJpZCl7dmFyIHI9cC5kZWVwQWNjZXNzKGMsImV4dC5lcnJvcnMucnViaWNvbiIpO0FycmF5LmlzQXJyYXkocikmJjA8ci5sZW5ndGgmJnAubG9nV2FybigiUnViaWNvbjogRXJyb3IgaW4gdmlkZW8gcmVzcG9uc2UiKTt2YXIgbz1bXTtyZXR1cm4gYy5zZWF0YmlkLmZvckVhY2goZnVuY3Rpb24obil7KG4uYmlkfHxbXSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj17cmVxdWVzdElkOmQuYmlkSWQsY3VycmVuY3k6Yy5jdXJ8fCJVU0QiLGNyZWF0aXZlSWQ6ZS5jcmlkLGNwbTplLnByaWNlfHwwLGJpZGRlckNvZGU6bi5zZWF0LHR0bDozMDAsbmV0UmV2ZW51ZTohMSE9PWwuYi5nZXRDb25maWcoInJ1Ymljb24ubmV0UmV2ZW51ZSIpLHdpZHRoOmUud3x8cC5kZWVwQWNjZXNzKGQsIm1lZGlhVHlwZXMudmlkZW8udyIpfHxwLmRlZXBBY2Nlc3MoZCwicGFyYW1zLnZpZGVvLnBsYXllcldpZHRoIiksaGVpZ2h0OmUuaHx8cC5kZWVwQWNjZXNzKGQsIm1lZGlhVHlwZXMudmlkZW8uaCIpfHxwLmRlZXBBY2Nlc3MoZCwicGFyYW1zLnZpZGVvLnBsYXllckhlaWdodCIpfTtlLmlkJiYoci5zZWF0QmlkSWQ9ZS5pZCksZS5kZWFsaWQmJihyLmRlYWxJZD1lLmRlYWxpZCk7dmFyIHQ9cC5kZWVwQWNjZXNzKGMsImV4dC5yZXNwb25zZXRpbWVtaWxsaXMucnViaWNvbiIpO2lmKGQmJnQmJihkLnNlcnZlclJlc3BvbnNlVGltZU1zPXQpLHAuZGVlcEFjY2VzcyhlLCJleHQucHJlYmlkLnR5cGUiKT09PXUuZCl7ci5tZWRpYVR5cGU9dS5kO3ZhciBpPXAuZGVlcEFjY2VzcyhlLCJleHQucHJlYmlkLnRhcmdldGluZyIpO2kmJiJvYmplY3QiPT09ZihpKSYmKHIuYWRzZXJ2ZXJUYXJnZXRpbmc9aSksZS5leHQucHJlYmlkLmNhY2hlJiYib2JqZWN0Ij09PWYoZS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwpJiZlLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkJiZlLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmw/KHIudmlkZW9DYWNoZUtleT1lLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkLHIudmFzdFVybD1lLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmwpOmkmJmkuaGJfdXVpZCYmaS5oYl9jYWNoZV9ob3N0JiZpLmhiX2NhY2hlX3BhdGgmJihyLnZpZGVvQ2FjaGVLZXk9aS5oYl91dWlkLHIudmFzdFVybD0iaHR0cHM6Ly8iLmNvbmNhdChpLmhiX2NhY2hlX2hvc3QpLmNvbmNhdChpLmhiX2NhY2hlX3BhdGgsIj91dWlkPSIpLmNvbmNhdChpLmhiX3V1aWQpKSxlLmFkbSYmKHIudmFzdFhtbD1lLmFkbSksZS5udXJsJiYoci52YXN0VXJsPWUubnVybCksIXIudmFzdFVybCYmZS5udXJsJiYoci52YXN0VXJsPWUubnVybCl9ZWxzZSBwLmxvZ1dhcm4oIlJ1Ymljb246IHZpZGVvIHJlc3BvbnNlIHJlY2VpdmVkIG5vbi12aWRlbyBtZWRpYSB0eXBlIik7by5wdXNoKHIpfSl9KSxvfXZhciB0PWMuYWRzO3JldHVybiJvYmplY3QiIT09ZihkKXx8QXJyYXkuaXNBcnJheShkKXx8InZpZGVvIiE9PUkoZCl8fCJvYmplY3QiIT09Zih0KXx8KHQ9dFtkLmFkVW5pdENvZGVdKSwhQXJyYXkuaXNBcnJheSh0KXx8dC5sZW5ndGg8MT9bXTp0LnJlZHVjZShmdW5jdGlvbihlLHIsdCl7aWYoIm9rIiE9PXIuc3RhdHVzKXJldHVybiBlO3ZhciBpLG4sbz1BcnJheS5pc0FycmF5KGQpP2RbdF06ZDtpZihvJiYib2JqZWN0Ij09PWYobykpe3ZhciBhPXtyZXF1ZXN0SWQ6by5iaWRJZCxjdXJyZW5jeToiVVNEIixjcmVhdGl2ZUlkOnIuY3JlYXRpdmVfaWR8fCIiLmNvbmNhdChyLm5ldHdvcmt8fCIiLCItIikuY29uY2F0KHIuYWR2ZXJ0aXNlcnx8IiIpLGNwbTpyLmNwbXx8MCxkZWFsSWQ6ci5kZWFsLHR0bDozMDAsbmV0UmV2ZW51ZTohMSE9PWwuYi5nZXRDb25maWcoInJ1Ymljb24ubmV0UmV2ZW51ZSIpLHJ1Ymljb246e2FkdmVydGlzZXJJZDpyLmFkdmVydGlzZXIsbmV0d29ya0lkOnIubmV0d29ya30sbWV0YTp7YWR2ZXJ0aXNlcklkOnIuYWR2ZXJ0aXNlcixuZXR3b3JrSWQ6ci5uZXR3b3JrfX07aWYoci5jcmVhdGl2ZV90eXBlJiYoYS5tZWRpYVR5cGU9ci5jcmVhdGl2ZV90eXBlKSxyLmNyZWF0aXZlX3R5cGU9PT11LmQpYS53aWR0aD1vLnBhcmFtcy52aWRlby5wbGF5ZXJXaWR0aCxhLmhlaWdodD1vLnBhcmFtcy52aWRlby5wbGF5ZXJIZWlnaHQsYS52YXN0VXJsPXIuY3JlYXRpdmVfZGVwb3RfdXJsLGEuaW1wcmVzc2lvbl9pZD1yLmltcHJlc3Npb25faWQsYS52aWRlb0NhY2hlS2V5PXIuaW1wcmVzc2lvbl9pZDtlbHNle2EuYWQ9KGk9ci5zY3JpcHQsbj1yLmltcHJlc3Npb25faWQsIjxodG1sPlxuPGhlYWQ+PHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPmluRGFwSUY9dHJ1ZTs8XC9zY3JpcHQ+PC9oZWFkPlxuPGJvZHkgc3R5bGU9J21hcmdpbiA6IDA7IHBhZGRpbmc6IDA7Jz5cblx4M2MhLS0gUnViaWNvbiBQcm9qZWN0IEFkIFRhZyAtLVx4M2VcbjxkaXYgZGF0YS1ycC1pbXByZXNzaW9uLWlkPSciLmNvbmNhdChuLCInPlxuPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPiIpLmNvbmNhdChpLCI8XC9zY3JpcHQ+XG48L2Rpdj5cbjwvYm9keT5cbjwvaHRtbD4iKSk7dmFyIHM9dihnW3Iuc2l6ZV9pZF0uc3BsaXQoIngiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcihlKX0pLDIpO2Eud2lkdGg9c1swXSxhLmhlaWdodD1zWzFdfWEucnViaWNvblRhcmdldGluZz0oQXJyYXkuaXNBcnJheShyLnRhcmdldGluZyk/ci50YXJnZXRpbmc6W10pLnJlZHVjZShmdW5jdGlvbihlLHIpe3JldHVybiBlW3Iua2V5XT1yLnZhbHVlc1swXSxlfSx7cnBmbF9lbGVtaWQ6by5hZFVuaXRDb2RlfSksZS5wdXNoKGEpfWVsc2UgcC5sb2dFcnJvcigiUnViaWNvbjogYmlkUmVxdWVzdCB1bmRlZmluZWQgYXQgaW5kZXggcG9zaXRpb246Ii5jb25jYXQodCksZCxjKTtyZXR1cm4gZX0sW10pLnNvcnQoZnVuY3Rpb24oZSxyKXtyZXR1cm4oci5jcG18fDApLShlLmNwbXx8MCl9KX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LGkpe2lmKCFSJiZlLmlmcmFtZUVuYWJsZWQpe3ZhciBuPSIiO3JldHVybiB0JiYic3RyaW5nIj09dHlwZW9mIHQuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHQuZ2RwckFwcGxpZXM/bis9Ij9nZHByPSIuY29uY2F0KE51bWJlcih0LmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQodC5jb25zZW50U3RyaW5nKTpuKz0iP2dkcHJfY29uc2VudD0iLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpKSxpJiYobis9IiIuY29uY2F0KG4/IiYiOiI/IiwidXNfcHJpdmFjeT0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGkpKSksUj0hMCx7dHlwZToiaWZyYW1lIix1cmw6YStufX19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gcC5jb252ZXJ0VHlwZXMoe2FjY291bnRJZDoibnVtYmVyIixzaXRlSWQ6Im51bWJlciIsem9uZUlkOiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIHkoZSxyKXt2YXIgdCxpPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOnt9LG49MTxhcmd1bWVudHMubGVuZ3RoP3I6dm9pZCAwO2lmKCFufHwhZFtuXSlyZXR1cm4gbnVsbDt2YXIgbz1kW25dO3ZhciBhPWZ1bmN0aW9uKCl7dmFyIGU9cC5kZWVwQWNjZXNzKGksInVzZXJJZC5kaWdpdHJ1c3RpZC5kYXRhIik7aWYoZSlyZXR1cm4gZTt2YXIgcj13aW5kb3cuRGlnaVRydXN0JiYobC5iLmdldENvbmZpZygiZGlnaVRydXN0SWQiKXx8d2luZG93LkRpZ2lUcnVzdC5nZXRVc2VyKHttZW1iZXI6IlQ5UVNGS1BETjkifSkpO3JldHVybiByJiZyLnN1Y2Nlc3MmJnIuaWRlbnRpdHl8fG51bGx9KCk7aWYoIWF8fGEucHJpdmFjeSYmYS5wcml2YWN5Lm9wdG91dClyZXR1cm4gbnVsbDt2YXIgcz0oYyh0PXt9LG8uaWQsYS5pZCksYyh0LG8ua2V5dixhLmtleXYpLHQpO3JldHVybiBvLnByZWYmJihzW28ucHJlZl09MCksc31mdW5jdGlvbiBoKGUscil7dmFyIHQ9bC5iLmdldENvbmZpZygicGFnZVVybCIpO3JldHVybiB0PWUucGFyYW1zLnJlZmVycmVyP2UucGFyYW1zLnJlZmVycmVyOnR8fHIucmVmZXJlckluZm8ucmVmZXJlcixlLnBhcmFtcy5zZWN1cmU/dC5yZXBsYWNlKC9eaHR0cDovaSwiaHR0cHM6Iik6dH1mdW5jdGlvbiB4KGUscil7dmFyIHQ9ZS5wYXJhbXM7aWYoInZpZGVvIj09PXIpe3ZhciBpPVtdO3JldHVybiB0LnZpZGVvJiZ0LnZpZGVvLnBsYXllcldpZHRoJiZ0LnZpZGVvLnBsYXllckhlaWdodD9pPVt0LnZpZGVvLnBsYXllcldpZHRoLHQudmlkZW8ucGxheWVySGVpZ2h0XTpBcnJheS5pc0FycmF5KHAuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSkmJjE9PT1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZS5sZW5ndGg/aT1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXTpBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiYwPGUuc2l6ZXMubGVuZ3RoJiZBcnJheS5pc0FycmF5KGUuc2l6ZXNbMF0pJiYxPGUuc2l6ZXNbMF0ubGVuZ3RoJiYoaT1lLnNpemVzWzBdKSxpfXZhciBuPVtdO3JldHVybiBBcnJheS5pc0FycmF5KHQuc2l6ZXMpP249dC5zaXplczp2b2lkIDAhPT1wLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKT9uPV8oZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk6QXJyYXkuaXNBcnJheShlLnNpemVzKSYmMDxlLnNpemVzLmxlbmd0aD9uPV8oZS5zaXplcyk6cC5sb2dXYXJuKCJSdWJpY29uOiBubyBzaXplcyBhcmUgc2V0dXAgb3IgZm91bmQiKSxBKG4pfWZ1bmN0aW9uIF8oZSl7cmV0dXJuIHAucGFyc2VTaXplc0lucHV0KGUpLnJlZHVjZShmdW5jdGlvbihlLHIpe3ZhciB0PXBhcnNlSW50KGdbcl0sMTApO3JldHVybiB0JiZlLnB1c2godCksZX0sW10pfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIm9iamVjdCI9PT1mKHAuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8iKSkmJnZvaWQgMCE9PXAuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLiIuY29uY2F0KHUuZCkpfWZ1bmN0aW9uIEkoZSxyKXt2YXIgdD0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXImJnI7cmV0dXJuIG4oZSk/LTE9PT1bIm91dHN0cmVhbSIsImluc3RyZWFtIl0uaW5kZXhPZihwLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdCh1LmQsIi5jb250ZXh0IikpKT92b2lkKHQmJnAubG9nRXJyb3IoIlJ1Ymljb246IG1lZGlhVHlwZXMudmlkZW8uY29udGV4dCBtdXN0IGJlIG91dHN0cmVhbSBvciBpbnN0cmVhbSIpKTp4KGUsInZpZGVvIikubGVuZ3RoPDI/dm9pZCh0JiZwLmxvZ0Vycm9yKCJSdWJpY29uOiBjb3VsZCBub3QgZGV0ZXJtaW5lIHRoZSBwbGF5ZXJTaXplIG9mIHRoZSB2aWRlbyIpKToodCYmcC5sb2dNZXNzYWdlKCJSdWJpY29uOiBtYWtpbmcgdmlkZW8gcmVxdWVzdCBmb3IgYWRVbml0IixlLmFkVW5pdENvZGUpLCJ2aWRlbyIpOjA9PT14KGUsImJhbm5lciIpLmxlbmd0aD92b2lkKHQmJnAubG9nRXJyb3IoIlJ1Ymljb246IGNvdWxkIG5vdCBkZXRlcm1pbmUgdGhlIHNpemVzIGZvciBiYW5uZXIgcmVxdWVzdCIpKToodCYmcC5sb2dNZXNzYWdlKCJSdWJpY29uOiBtYWtpbmcgYmFubmVyIHJlcXVlc3QgZm9yIGFkVW5pdCIsZS5hZFVuaXRDb2RlKSwiYmFubmVyIil9ZnVuY3Rpb24gQShlKXt2YXIgbj1bMTUsMiw5XTtyZXR1cm4gZS5zb3J0KGZ1bmN0aW9uKGUscil7dmFyIHQ9bi5pbmRleE9mKGUpLGk9bi5pbmRleE9mKHIpO3JldHVybi0xPHR8fC0xPGk/LTE9PT10PzE6LTE9PT1pPy0xOnQtaTplLXJ9KX1mdW5jdGlvbiBTKGUpe3ZhciByPXBhcnNlSW50KHAuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8uc2l6ZV9pZCIpKTtyZXR1cm4gaXNOYU4ocik/Im91dHN0cmVhbSI9PT1wLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdCh1LmQsIi5jb250ZXh0IikpPzIwMzoyMDE6cn1mdW5jdGlvbiBqKGUpe3JldHVybntyYW5nZXM6e2xvdzpbe21heDo1LGluY3JlbWVudDouNX1dLG1lZGl1bTpbe21heDoyMCxpbmNyZW1lbnQ6LjF9XSxoaWdoOlt7bWF4OjIwLGluY3JlbWVudDouMDF9XSxhdXRvOlt7bWF4OjUsaW5jcmVtZW50Oi4wNX0se21pbjo1LG1heDoxMCxpbmNyZW1lbnQ6LjF9LHttaW46MTAsbWF4OjIwLGluY3JlbWVudDouNX1dLGRlbnNlOlt7bWF4OjMsaW5jcmVtZW50Oi4wMX0se21pbjozLG1heDo4LGluY3JlbWVudDouMDV9LHttaW46OCxtYXg6MjAsaW5jcmVtZW50Oi41fV0sY3VzdG9tOmUuZ2V0Q29uZmlnKCJjdXN0b21QcmljZUJ1Y2tldCIpJiZlLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKS5idWNrZXRzfVtlLmdldENvbmZpZygicHJpY2VHcmFudWxhcml0eSIpXX19ZnVuY3Rpb24gQyhyKXt2YXIgdD0hMCxlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChbXSksaT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoMCksbj17bWltZXM6ZSxwcm90b2NvbHM6ZSxtYXhkdXJhdGlvbjppLGxpbmVhcml0eTppLGFwaTplfTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXtPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocC5kZWVwQWNjZXNzKHIsIm1lZGlhVHlwZXMudmlkZW8uIitlKSkhPT1uW2VdJiYodD0hMSxwLmxvZ0Vycm9yKCJSdWJpY29uOiBtZWRpYVR5cGVzLnZpZGVvLiIrZSsiIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIG9mIHR5cGU6ICIrbltlXSkpfSksdH1mdW5jdGlvbiBrKGUpe3ZhciByPSExLHQ9WyJhc2kiLCJzaWQiLCJocCJdO3JldHVybiBlLm5vZGVzJiYoKHI9ZS5ub2Rlcy5yZWR1Y2UoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZT90LmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiByW2VdfSk6ZX0sITApKXx8cC5sb2dFcnJvcigiUnViaWNvbjogcmVxdWlyZWQgc2NoYWluIHBhcmFtcyBtaXNzaW5nIikpLHJ9ZnVuY3Rpb24gVChlLHIpe3JldHVybiJycF9zY2hhaW4iPT09ZT8icnBfc2NoYWluPSIuY29uY2F0KHIpOiIiLmNvbmNhdChlLCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChyKSl9dmFyIFI9ITE7T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGIpfX0sWzU3N10pOwp1cGJqc0NodW5rKFsxMDNdLHs1ODU6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDU4Nil9LDU4NjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmlzU2NoYWluT2JqZWN0VmFsaWQ9bCx0LmNvcHlTY2hhaW5PYmplY3RJbkFkdW5pdHM9aCx0LmlzVmFsaWRTY2hhaW5Db25maWc9dSx0LmluaXQ9Zjt2YXIgaT1uKDMpLGM9bigyNCksbz1uKDApLHM9IkludmFsaWQgc2NoYWluIG9iamVjdCBmb3VuZDogIixyPSIgc2hvdWxkIGJlIGEgc3RyaW5nIixhPSIgc2hvdWxkIGJlIGFuIEludGVnZXIiLGI9IiBzaG91bGQgYmUgYW4gb2JqZWN0IixPPSIgc2hvdWxkIGJlIGFuIEFycmF5IixqPXtTVFJJQ1Q6InN0cmljdCIsUkVMQVhFRDoicmVsYXhlZCIsT0ZGOiJvZmYifSxkPVtdO2Z1bmN0aW9uIGwoZSx0KXtpZighT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkoZSkmJihPYmplY3Qoby5sb2dFcnJvcikocysic2NoYWluIitiKSx0KSlyZXR1cm4hMTtpZigoIU9iamVjdChvLmlzTnVtYmVyKShlLmNvbXBsZXRlKXx8IU9iamVjdChvLmlzSW50ZWdlcikoZS5jb21wbGV0ZSkpJiYoT2JqZWN0KG8ubG9nRXJyb3IpKHMrInNjaGFpbi5jb21wbGV0ZSIrYSksdCkpcmV0dXJuITE7aWYoIU9iamVjdChvLmlzU3RyKShlLnZlcikmJihPYmplY3Qoby5sb2dFcnJvcikocysic2NoYWluLnZlciIrciksdCkpcmV0dXJuITE7aWYoT2JqZWN0KG8uaGFzT3duKShlLCJleHQiKSYmIU9iamVjdChvLmlzUGxhaW5PYmplY3QpKGUuZXh0KSYmKE9iamVjdChvLmxvZ0Vycm9yKShzKyJzY2hhaW4uZXh0IitiKSx0KSlyZXR1cm4hMTt2YXIgbj0hMDtpZihPYmplY3Qoby5pc0FycmF5KShlLm5vZGVzKSllLm5vZGVzLmZvckVhY2goZnVuY3Rpb24oZSl7T2JqZWN0KG8uaXNTdHIpKGUuYXNpKXx8KG49biYmITEsT2JqZWN0KG8ubG9nRXJyb3IpKHMrInNjaGFpbi5ub2Rlc1tdLmFzaSIrcikpLE9iamVjdChvLmlzU3RyKShlLnNpZCl8fChuPW4mJiExLE9iamVjdChvLmxvZ0Vycm9yKShzKyJzY2hhaW4ubm9kZXNbXS5zaWQiK3IpKSxPYmplY3Qoby5pc051bWJlcikoZS5ocCkmJk9iamVjdChvLmlzSW50ZWdlcikoZS5ocCl8fChuPW4mJiExLE9iamVjdChvLmxvZ0Vycm9yKShzKyJzY2hhaW4ubm9kZXNbXS5ocCIrYSkpLE9iamVjdChvLmhhc093bikoZSwicmlkIikmJihPYmplY3Qoby5pc1N0cikoZS5yaWQpfHwobj1uJiYhMSxPYmplY3Qoby5sb2dFcnJvcikocysic2NoYWluLm5vZGVzW10ucmlkIityKSkpLE9iamVjdChvLmhhc093bikoZSwibmFtZSIpJiYoT2JqZWN0KG8uaXNTdHIpKGUubmFtZSl8fChuPW4mJiExLE9iamVjdChvLmxvZ0Vycm9yKShzKyJzY2hhaW4ubm9kZXNbXS5uYW1lIityKSkpLE9iamVjdChvLmhhc093bikoZSwiZG9tYWluIikmJihPYmplY3Qoby5pc1N0cikoZS5kb21haW4pfHwobj1uJiYhMSxPYmplY3Qoby5sb2dFcnJvcikocysic2NoYWluLm5vZGVzW10uZG9tYWluIityKSkpLE9iamVjdChvLmhhc093bikoZSwiZXh0IikmJihPYmplY3Qoby5pc1BsYWluT2JqZWN0KShlLmV4dCl8fChuPW4mJiExLE9iamVjdChvLmxvZ0Vycm9yKShzKyJzY2hhaW4ubm9kZXNbXS5leHQiK2IpKSl9KTtlbHNlIGlmKE9iamVjdChvLmxvZ0Vycm9yKShzKyJzY2hhaW4ubm9kZXMiK08pLHQpcmV0dXJuITE7cmV0dXJuISh0JiYhbil9ZnVuY3Rpb24gaChlLHQpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLmJpZHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnNjaGFpbj10fSl9KX1mdW5jdGlvbiB1KGUpe3JldHVybiB2b2lkIDAhPT1lJiYoISFPYmplY3Qoby5pc1BsYWluT2JqZWN0KShlKXx8KE9iamVjdChvLmxvZ0Vycm9yKShzKyJzY2hhaW4gY29uZmlnIHdpbGwgbm90IGJlIHBhc3NlZCB0byBiaWRkZXJzIGFzIHNjaGFpbiBpcyBub3QgYW4gb2JqZWN0LiIpLCExKSl9ZnVuY3Rpb24gZihpKXt2YXIgcj1qLlNUUklDVDtPYmplY3QoYy5hKSgpLnJlcXVlc3RCaWRzLmJlZm9yZShmdW5jdGlvbihlLHQpe3ZhciBuPWkuZ2V0Q29uZmlnKCJzY2hhaW4iKTtyZXR1cm4gdShuKSYmKE9iamVjdChvLmlzU3RyKShuLnZhbGlkYXRpb24pJiYtMSE9ZC5pbmRleE9mKG4udmFsaWRhdGlvbikmJihyPW4udmFsaWRhdGlvbikscj09PWouT0ZGP2godC5hZFVuaXRzfHxPYmplY3QoYy5hKSgpLmFkVW5pdHMsbi5jb25maWcpOmwobi5jb25maWcscj09PWouU1RSSUNUKT9oKHQuYWRVbml0c3x8T2JqZWN0KGMuYSkoKS5hZFVuaXRzLG4uY29uZmlnKTpPYmplY3Qoby5sb2dFcnJvcikocysic2NoYWluIGNvbmZpZyB3aWxsIG5vdCBiZSBwYXNzZWQgdG8gYmlkZGVycyBhcyBpdCBpcyBub3QgdmFsaWQuIikpLGUuY2FsbCh0aGlzLHQpfSw0MCl9T2JqZWN0KG8uX2VhY2gpKGosZnVuY3Rpb24oZSl7cmV0dXJuIGQucHVzaChlKX0pLGYoaS5iKX19LFs1ODVdKTsKdXBianNDaHVuayhbMTAwXSx7NTkxOmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg1OTIpfSw1OTI6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTt2YXIgcD10KDApLGk9dCgxKTtmdW5jdGlvbiBkKCl7cmV0dXJuKGQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYz17c2VydmVyYmlkOntCQVNFX1VSSToiaHR0cHM6Ly9lLnNlcnZlcmJpZC5jb20vYXBpL3YyIn0sY29ubmVjdGFkOntCQVNFX1VSSToiaHR0cHM6Ly9pLmNvbm5lY3RhZC5pby9hcGkvdjIifSxvbmVmaWZ0eXR3bzp7QkFTRV9VUkk6Imh0dHBzOi8vZS5zZXJ2ZXJiaWQuY29tL2FwaS92MiJ9LGluc3RpY2F0b3I6e0JBU0VfVVJJOiJodHRwczovL2Uuc2VydmVyYmlkLmNvbS9hcGkvdjIifSxhdXRvbWF0YWQ6e0JBU0VfVVJJOiJodHRwczovL2Uuc2VydmVyYmlkLmNvbS9hcGkvdjIifSxhcmNob246e0JBU0VfVVJJOiJodHRwczovL2Uuc2VydmVyYmlkLmNvbS9hcGkvdjIifSxidXlzZWxsYWRzOntCQVNFX1VSSToiaHR0cHM6Ly9lLnNlcnZlcmJpZC5jb20vYXBpL3YyIn0sYW5zd2VybWVkaWE6e0JBU0VfVVJJOiJodHRwczovL2Uuc2VydmVyYmlkLmNvbS9hcGkvdjIifX0sbj0wLG89InNlcnZlcmJpZCIsYT17Y29kZToic2VydmVyYmlkIixhbGlhc2VzOlsiY29ubmVjdGFkIiwib25lZmlmdHl0d28iLCJpbnN0aWNhdG9yIiwiYXV0b21hdGFkIiwiYXJjaG9uIiwiYnV5c2VsbGFkcyIsImFuc3dlcm1lZGlhIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISghZS5wYXJhbXMubmV0d29ya0lkfHwhZS5wYXJhbXMuc2l0ZUlkKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlKXt2YXIgYSxyPXttZXRob2Q6IlBPU1QiLHVybDoiIixkYXRhOiIiLGJpZFJlcXVlc3Q6W119O2lmKGUubGVuZ3RoPDEpcmV0dXJuIHI7bj1lWzBdLnBhcmFtcy5zaXRlSWQsbz1lWzBdLmJpZGRlcjt2YXIgcz1kKHtwbGFjZW1lbnRzOltdLHRpbWU6RGF0ZS5ub3coKSx1c2VyOnt9LHVybDpwLmdldFRvcFdpbmRvd1VybCgpLHJlZmVycmVyOmRvY3VtZW50LnJlZmVycmVyLGVuYWJsZUJvdEZpbHRlcmluZzohMCxpbmNsdWRlUHJpY2luZ0RhdGE6ITAscGFyYWxsZWw6ITB9LGVbMF0ucGFyYW1zKTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHI9Y1tlLmJpZGRlcl07YT1yLkJBU0VfVVJJO3ZhciB0LGksbj1kKHtkaXZOYW1lOmUuYmlkSWQsYWRUeXBlczplLmFkVHlwZXN8fCh0PWUuc2l6ZXMsaT1bXSx0LmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dS5pbmRleE9mKGVbMF0rIngiK2VbMV0pOzA8PXImJmkucHVzaChyKX0pLGkpfSxlLnBhcmFtcyk7bi5uZXR3b3JrSWQmJm4uc2l0ZUlkJiZzLnBsYWNlbWVudHMucHVzaChuKX0pLHIuZGF0YT1KU09OLnN0cmluZ2lmeShzKSxyLmJpZFJlcXVlc3Q9ZSxyLnVybD1hLHJ9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQsaSxuLGEscz1bXTtpPXIuYmlkUmVxdWVzdCxlPShlfHx7fSkuYm9keTtmb3IodmFyIGQ9MDtkPGkubGVuZ3RoO2QrKylpZih0PXt9LG49aVtkXS5iaWRJZCxlKXt2YXIgYz1lLmRlY2lzaW9ucyYmZS5kZWNpc2lvbnNbbl0sbz1jJiZjLnByaWNpbmcmJmMucHJpY2luZy5jbGVhclByaWNlO2MmJm8mJih0LnJlcXVlc3RJZD1uLHQuY3BtPW8sdC53aWR0aD1jLndpZHRoLHQuaGVpZ2h0PWMuaGVpZ2h0LHQuYWQ9KGE9YykuY29udGVudHMmJmEuY29udGVudHNbMF0mJmEuY29udGVudHNbMF0uYm9keStwLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKGEuaW1wcmVzc2lvblVybCksdC5jdXJyZW5jeT0iVVNEIix0LmNyZWF0aXZlSWQ9Yy5hZElkLHQudHRsPTM2MCx0Lm5ldFJldmVudWU9ITAsdC5yZWZlcnJlcj1wLmdldFRvcFdpbmRvd1VybCgpLHMucHVzaCh0KSl9cmV0dXJuIHN9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlKXtpZihlLmlmcmFtZUVuYWJsZWQpcmV0dXJuImNvbm5lY3RhZCI9PT1vP1t7dHlwZToiaWZyYW1lIix1cmw6Ii8vY2RuLmNvbm5lY3RhZC5pby9jb25uZWN0bXl1c2Vycy5waHAifV06W3t0eXBlOiJpZnJhbWUiLHVybDoiLy9zLnprY2RuLm5ldC9zcy8iK24rIi5odG1sIn1dO3AubG9nV2FybihvKyI6IFBsZWFzZSBlbmFibGUgaWZyYW1lIGJhc2VkIHVzZXIgc3luY2luZy4iKX19LHU9W251bGwsIjEyMHg5MCIsIjEyMHg5MCIsIjQ2OHg2MCIsIjcyOHg5MCIsIjMwMHgyNTAiLCIxNjB4NjAwIiwiMTIweDYwMCIsIjMwMHgxMDAiLCIxODB4MTUwIiwiMzM2eDI4MCIsIjI0MHg0MDAiLCIyMzR4NjAiLCI4OHgzMSIsIjEyMHg2MCIsIjEyMHgyNDAiLCIxMjV4MTI1IiwiMjIweDI1MCIsIjI1MHgyNTAiLCIyNTB4OTAiLCIweDAiLCIyMDB4OTAiLCIzMDB4NTAiLCIzMjB4NTAiLCIzMjB4NDgwIiwiMTg1eDE4NSIsIjYyMHg0NSIsIjMwMHgxMjUiLCI4MDB4MjUwIl07dVs3N109Ijk3MHg5MCIsdVsxMjNdPSI5NzB4MjUwIix1WzQzXT0iMzAweDYwMCIsdVsyODZdPSI5NzB4NjYiLHVbMzIzMF09Ijk3MHgyODAiLHVbNDI5XT0iNDg2eDYwIix1WzM3NF09IjcwMHg1MDAiLHVbOTM0XT0iMzAweDEwNTAiLHVbMTU3OF09IjMyMHgxMDAiLHVbMzMxXT0iMzIweDI1MCIsdVszMzAxXT0iMzIweDI2NyIsdVsyNzMwXT0iNzI4eDI1MCIsT2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGEpfX0sWzU5MV0pOwp1cGJqc0NodW5rKFs5OF0sezU5NzpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNTk4KX0sNTk4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzaGFyZXRocm91Z2hJbnRlcm5hbCIsZnVuY3Rpb24oKXtyZXR1cm4gc30pLG4uZCh0LCJzaGFyZXRocm91Z2hBZGFwdGVyU3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gY30pO3ZhciByPW4oMSksaT0ic2hhcmV0aHJvdWdoIixhPWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sKyIvL2J0bHIuc2hhcmV0aHJvdWdoLmNvbS9XWXUyQlh2MS92MSIsbz1bMSwxXSxzPXtiNjRFbmNvZGVVbmljb2RlOmQsaGFuZGxlSWZyYW1lOmZ1bmN0aW9uKCl7dmFyIGU9ITE7aWYoIXdpbmRvdy5sb2NrZWRJbkZyYW1lKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTt0LnNyYz0iLy9uYXRpdmUuc2hhcmV0aHJvdWdoLmNvbS9hc3NldHMvc2ZwLXNldC10YXJnZXRpbmcuanMiLHQudHlwZT0idGV4dC9qYXZhc2NyaXB0Ijt0cnl7d2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uYXBwZW5kQ2hpbGQodCksZT0hMH1jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpfX1pZighKGU/d2luZG93LnRvcC5TVFImJndpbmRvdy50b3AuU1RSLlRhZzp3aW5kb3cuU1RSJiZ3aW5kb3cuU1RSLlRhZykpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO24uc3JjPSIvL25hdGl2ZS5zaGFyZXRocm91Z2guY29tL2Fzc2V0cy9zZnAuanMiLG4udHlwZT0idGV4dC9qYXZhc2NyaXB0Ijt0cnl7ZT93aW5kb3cudG9wLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uYXBwZW5kQ2hpbGQobik6d2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uYXBwZW5kQ2hpbGQobil9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihlKX19fSxpc0xvY2tlZEluRnJhbWU6ZnVuY3Rpb24oKXt3aW5kb3cubG9ja2VkSW5GcmFtZT0hMTt0cnl7d2luZG93LmxvY2tlZEluRnJhbWU9IXdpbmRvdy50b3AuZG9jdW1lbnR9Y2F0Y2goZSl7d2luZG93LmxvY2tlZEluRnJhbWU9ZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbn19fSxjPXtjb2RlOmksaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy5wa2V5JiZlLmJpZGRlcj09PWl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9e3BsYWNlbWVudF9rZXk6ZS5wYXJhbXMucGtleSxiaWRJZDplLmJpZElkLGNvbnNlbnRfcmVxdWlyZWQ6ITEsaW5zdGFudF9wbGF5X2NhcGFibGU6ZnVuY3Rpb24oKXt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50O2lmKCFlKXJldHVybiExO3ZhciB0PS9BbmRyb2lkL2kudGVzdChlKSxuPS9pUGhvbmV8aVBhZHxpUG9kL2kudGVzdChlKSxyPXBhcnNlSW50KCgvQ2hyb21lXC8oWzAtOV0rKS8uZXhlYyhlKXx8WzAsMF0pWzFdKSxpPXBhcnNlSW50KCgvQ3JpT1NcLyhbMC05XSspLy5leGVjKGUpfHxbMCwwXSlbMV0pLGE9cGFyc2VJbnQoKC9WZXJzaW9uXC8oWzAtOV0rKS8uZXhlYyhlKXx8WzAsMF0pWzFdKTtyZXR1cm4hISh0JiY1Mzw9cnx8biYmKDEwPD1hfHw1Mzw9aSl8fCF0JiYhbil9KCksaGJTb3VyY2U6InByZWJpZCIsaGJWZXJzaW9uOiIyLjQ0LjgtcHJlIixzdHJWZXJzaW9uOiIzLjEuMCJ9O3ImJnIuZ2RwckNvbnNlbnQmJnIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHQuY29uc2VudF9zdHJpbmc9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxyJiZyLmdkcHJDb25zZW50JiYodC5jb25zZW50X3JlcXVpcmVkPSEhci5nZHByQ29uc2VudC5nZHByQXBwbGllcyksZS51c2VySWQmJmUudXNlcklkLnRkaWQmJih0LnR0ZHVpZD1lLnVzZXJJZC50ZGlkKSxlLnNjaGFpbiYmKHQuc2NoYWluPUpTT04uc3RyaW5naWZ5KGUuc2NoYWluKSksZS5iaWRmbG9vciYmKHQuYmlkZmxvb3I9cGFyc2VGbG9hdChlLmJpZGZsb29yKSk7dmFyIG49e3NraXBJZnJhbWVCdXN0aW5nOmUucGFyYW1zLmlmcmFtZSxpZnJhbWVTaXplOmUucGFyYW1zLmlmcmFtZVNpemUsc2l6ZXM6ZS5zaXplc307cmV0dXJue21ldGhvZDoiR0VUIix1cmw6YSxkYXRhOnQsc3RyRGF0YTpufX0pfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuYm9keTtpZighbnx8IW4uY3JlYXRpdmVzfHwhbi5jcmVhdGl2ZXMubGVuZ3RoKXJldHVybltdO3ZhciByPW4uY3JlYXRpdmVzWzBdLGk9bztmdW5jdGlvbiBhKGUpe3JldHVybiBlWzBdKmVbMV19cmV0dXJuKHQuc3RyRGF0YS5pZnJhbWVTaXplfHx0LnN0ckRhdGEuc2l6ZXMubGVuZ3RoKSYmKGk9dC5zdHJEYXRhLmlmcmFtZVNpemU/dC5zdHJEYXRhLmlmcmFtZVNpemU6dC5zdHJEYXRhLnNpemVzLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBhKHQpPmEoZSk/dDplfSkpLFt7cmVxdWVzdElkOnQuZGF0YS5iaWRJZCx3aWR0aDppWzBdLGhlaWdodDppWzFdLGNwbTpyLmNwbSxjcmVhdGl2ZUlkOnIuY3JlYXRpdmUuY3JlYXRpdmVfa2V5LGRlYWxJZDpyLmNyZWF0aXZlLmRlYWxfaWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzYwLGFkOmZ1bmN0aW9uKGUsdCl7dmFyIG49InN0cl9yZXNwb25zZV8iLmNvbmNhdCh0LmRhdGEuYmlkSWQpLHI9J1xuICAgIDxkaXYgZGF0YS1zdHItbmF0aXZlLWtleT0iJy5jb25jYXQodC5kYXRhLnBsYWNlbWVudF9rZXksJyIgZGF0YS1zdHgtcmVzcG9uc2UtbmFtZT0iJykuY29uY2F0KG4sJyI+XG4gICAgPC9kaXY+XG4gICAgPHNjcmlwdD52YXIgJykuY29uY2F0KG4sJyA9ICInKS5jb25jYXQoZChKU09OLnN0cmluZ2lmeShlKSksJyI8XC9zY3JpcHQ+XG4gICcpO3Quc3RyRGF0YS5za2lwSWZyYW1lQnVzdGluZz9yKz0nPHNjcmlwdCBzcmM9Ii8vbmF0aXZlLnNoYXJldGhyb3VnaC5jb20vYXNzZXRzL3NmcC5qcyI+PFwvc2NyaXB0Pic6cis9IlxuICAgICAgPHNjcmlwdD5cbiAgICAgICAgKCIuY29uY2F0KHMuaXNMb2NrZWRJbkZyYW1lLnRvU3RyaW5nKCksIikoKVxuICAgICAgPFwvc2NyaXB0PlxuICAgICAgPHNjcmlwdD5cbiAgICAgICAgKCIpLmNvbmNhdChzLmhhbmRsZUlmcmFtZS50b1N0cmluZygpLCIpKClcbiAgICAgIDxcL3NjcmlwdD4iKTtyZXR1cm4gcn0obix0KX1dfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtyZXR1cm4gZS5waXhlbEVuYWJsZWQmJjA8dC5sZW5ndGgmJnRbMF0uYm9keSYmdFswXS5ib2R5LmNvb2tpZVN5bmNVcmxzJiZ0WzBdLmJvZHkuY29va2llU3luY1VybHMuZm9yRWFjaChmdW5jdGlvbihlKXtuLnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZX0pfSksbn0sb25UaW1lb3V0OmZ1bmN0aW9uKCl7fSxvbkJpZFdvbjpmdW5jdGlvbigpe30sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24oKXt9fTtmdW5jdGlvbiBkKGUpe3JldHVybiBidG9hKGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoIjB4Iit0KX0pKX1PYmplY3Qoci5yZWdpc3RlckJpZGRlcikoYyl9fSxbNTk3XSk7CnVwYmpzQ2h1bmsoWzk1XSx7NjA1OmZ1bmN0aW9uKGUscixhKXtlLmV4cG9ydHM9YSg2MDYpfSw2MDY6ZnVuY3Rpb24oZSxyLGEpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYS5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGR9KTt2YXIgcz1hKDApLHA9YSgyKSxuPWEoMyksdD1hKDEpLGQ9e2NvZGU6InNtYXJ0YWRzZXJ2ZXIiLGFsaWFzZXM6WyJzbWFydCJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3AuYixwLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUucGFyYW1zJiZlLnBhcmFtcy5zaXRlSWQmJmUucGFyYW1zLnBhZ2VJZCYmZS5wYXJhbXMuZm9ybWF0SWQpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3ZhciByPXtzaXRlaWQ6ZS5wYXJhbXMuc2l0ZUlkLHBhZ2VpZDplLnBhcmFtcy5wYWdlSWQsZm9ybWF0aWQ6ZS5wYXJhbXMuZm9ybWF0SWQsY3VycmVuY3lDb2RlOm4uYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKSxiaWRmbG9vcjplLnBhcmFtcy5iaWRmbG9vcnx8MCx0YXJnZXRpbmc6ZS5wYXJhbXMudGFyZ2V0JiYiIiE9ZS5wYXJhbXMudGFyZ2V0P2UucGFyYW1zLnRhcmdldDp2b2lkIDAsYnVpZDplLnBhcmFtcy5idUlkJiYiIiE9ZS5wYXJhbXMuYnVJZD9lLnBhcmFtcy5idUlkOnZvaWQgMCxhcHBuYW1lOmUucGFyYW1zLmFwcE5hbWUmJiIiIT1lLnBhcmFtcy5hcHBOYW1lP2UucGFyYW1zLmFwcE5hbWU6dm9pZCAwLGNraWQ6ZS5wYXJhbXMuY2tJZHx8MCx0YWdJZDplLmFkVW5pdENvZGUscGFnZURvbWFpbjpzLmdldFRvcFdpbmRvd1VybCgpLHRyYW5zYWN0aW9uSWQ6ZS50cmFuc2FjdGlvbklkLHRpbWVvdXQ6bi5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLGJpZElkOmUuYmlkSWQscHJlYmlkVmVyc2lvbjoiMi40NC44LXByZSJ9LGE9cy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKTtpZihhKXtpZighYXx8Imluc3RyZWFtIiE9PWEuY29udGV4dClyZXR1cm57fTt2YXIgdD1hLnBsYXllclNpemVbMF07ci5pc1ZpZGVvPSEwLHIudmlkZW9EYXRhPXt2aWRlb1Byb3RvY29sOmUucGFyYW1zLnZpZGVvLnByb3RvY29sLHBsYXllcldpZHRoOnRbMF0scGxheWVySGVpZ2h0OnRbMV0sYWRCcmVhazplLnBhcmFtcy52aWRlby5zdGFydERlbGF5fHwwfX1lbHNlIHIuc2l6ZXM9ZS5zaXplcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSk7aSYmaS5nZHByQ29uc2VudCYmKHIuZ2Rwcl9jb25zZW50PWkuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxyLmdkcHI9aS5nZHByQ29uc2VudC5nZHByQXBwbGllcyk7dmFyIGQ9SlNPTi5zdHJpbmdpZnkocik7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOih2b2lkIDAhPT1lLnBhcmFtcy5kb21haW4/ZS5wYXJhbXMuZG9tYWluOiJodHRwczovL3ByZy5zbWFydGFkc2VydmVyLmNvbSIpKyIvcHJlYmlkL3YxIixkYXRhOmR9fSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIGE9W10sdD1lLmJvZHk7dHJ5e2lmKHQpe3ZhciBkPUpTT04ucGFyc2Uoci5kYXRhKSxpPXtyZXF1ZXN0SWQ6ZC5iaWRJZCxjcG06dC5jcG0sd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHQsY3JlYXRpdmVJZDp0LmNyZWF0aXZlSWQsZGVhbElkOnQuZGVhbElkLGN1cnJlbmN5OnQuY3VycmVuY3ksbmV0UmV2ZW51ZTp0LmlzTmV0Q3BtLHR0bDp0LnR0bCxyZWZlcnJlcjpzLmdldFRvcFdpbmRvd1VybCgpfTtkLmlzVmlkZW8/KGkubWVkaWFUeXBlPXAuZCxpLnZhc3RVcmw9dC5hZFVybCxpLnZhc3RYbWw9dC5hZCk6KGkuYWRVcmw9dC5hZFVybCxpLmFkPXQuYWQpLGEucHVzaChpKX19Y2F0Y2goZSl7cy5sb2dFcnJvcigiRXJyb3Igd2hpbGUgcGFyc2luZyBzbWFydCBzZXJ2ZXIgcmVzcG9uc2UiLGUpfXJldHVybiBhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXt2YXIgYT1bXTtyZXR1cm4gZS5pZnJhbWVFbmFibGVkJiYwPHIubGVuZ3RoJiZhLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOnJbMF0uYm9keS5jU3luY1VybH0pLGF9fTtPYmplY3QodC5yZWdpc3RlckJpZGRlcikoZCl9fSxbNjA1XSk7CnVwYmpzQ2h1bmsoWzg5XSx7NjE5OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig2MjApfSw2MjA6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSxyLmQodCwiX2lzSW5ib3VuZHMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSx0Ll9nZXRQbGF0Zm9ybT1tO3ZhciBuPXIoMSksZz1yKDApLGk9cigyKSxjPXIoMykseT1yKDEwKSxvPXIoMzMpO2Z1bmN0aW9uIGgoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkpcmV0dXJuO3ZhciByPVtdLG49ITAsaT0hMSxzPXZvaWQgMDt0cnl7Zm9yKHZhciBjLG89ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShjPW8ubmV4dCgpKS5kb25lKSYmKHIucHVzaChjLnZhbHVlKSwhdHx8ci5sZW5ndGghPT10KTtuPSEwKTt9Y2F0Y2goZSl7aT0hMCxzPWV9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IHN9fXJldHVybiByfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX1mdW5jdGlvbiBhKCl7cmV0dXJuKGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBkKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgdT0ic29ub2JpIixwPU9iamVjdChnLmdlbmVyYXRlVVVJRCkoKSxzPXtjb2RlOnUsc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5iLGkuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIWUucGFyYW1zKXJldHVybiExO2lmKCFlLnBhcmFtcy5hZF91bml0JiYhZS5wYXJhbXMucGxhY2VtZW50X2lkKXJldHVybiExO2lmKCFPYmplY3QoZy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpJiYhT2JqZWN0KGcuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpKXJldHVybiExO2lmKE9iamVjdChnLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikpe2lmKCFPYmplY3QoZy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpJiYhZS5wYXJhbXMuc2l6ZXMpcmV0dXJuITF9ZWxzZSBpZihPYmplY3QoZy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIikpe2lmKCJvdXRzdHJlYW0iPT09T2JqZWN0KGcuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJiFlLnBhcmFtcy5zaXplcylyZXR1cm4hMTtpZigiaW5zdHJlYW0iPT09T2JqZWN0KGcuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJiFPYmplY3QoZy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSlyZXR1cm4hMX1yZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPWUubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2lmKGUucGFyYW1zLmFkX3VuaXQpcmV0dXJuIGUucGFyYW1zLmFkX3VuaXQ7cmV0dXJuIGUucGFyYW1zLnBsYWNlbWVudF9pZH0oZSk7cmV0dXJuL15bXC9dP1tcZF0rW1tcL10uK1tcL10/XT8kLy50ZXN0KHQpPyh0PSIvIj09PXQuY2hhckF0KDApP3Q6Ii8iK3QsZCh7fSwiIi5jb25jYXQodCwifCIpLmNvbmNhdChlLmJpZElkKSwiIi5jb25jYXQoYihlKSkuY29uY2F0KGwoZSkpKSk6L15bMC05YS1mQS1GXXsyMH0kLy50ZXN0KHQpJiYyMD09PXQubGVuZ3RoP2Qoe30sZS5iaWRJZCwiIi5jb25jYXQodCwifCIpLmNvbmNhdChiKGUpKS5jb25jYXQobChlKSkpOnZvaWQgT2JqZWN0KGcubG9nRXJyb3IpKCJUaGUgYWQgdW5pdCBjb2RlIG9yIFNvbm9iaSBQbGFjZW1lbnQgaWQgZm9yIHNsb3QgIi5jb25jYXQoZS5iaWRJZCwiIGlzIGludmFsaWQiKSl9KSxuPXt9O3IuZm9yRWFjaChmdW5jdGlvbihlKXthKG4sZSl9KTt2YXIgaT17a2V5X21ha2VyOkpTT04uc3RyaW5naWZ5KG4pLHJlZjp0LnJlZmVyZXJJbmZvLnJlZmVyZXIsczpPYmplY3QoZy5nZW5lcmF0ZVVVSUQpKCkscHY6cCx2cDptKCksbGliX25hbWU6InByZWJpZCIsbGliX3Y6IjIuNDQuOC1wcmUiLHVzOjB9O2MuYi5nZXRDb25maWcoInVzZXJTeW5jIikmJmMuYi5nZXRDb25maWcoInVzZXJTeW5jIikuc3luY3NQZXJCaWRkZXImJihpLnVzPWMuYi5nZXRDb25maWcoInVzZXJTeW5jIikuc3luY3NQZXJCaWRkZXIpLG8uYS5jYW5CaWRkZXJSZWdpc3RlclN5bmMoImlmcmFtZSIsdSk/aS5pdXM9MTppLml1cz0wLE9iamVjdChnLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5oZmEiKT9pLmhmYT1PYmplY3QoZy5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuaGZhIik6T2JqZWN0KGcuZGVlcEFjY2VzcykoZVswXSwidXNlcklkLnB1YmNpZCIpP2kuaGZhPSJQUkUtIi5jb25jYXQoZVswXS51c2VySWQucHViY2lkKTpPYmplY3QoZy5kZWVwQWNjZXNzKShlWzBdLCJjcnVtYnMucHViY2lkIikmJihpLmhmYT0iUFJFLSIuY29uY2F0KGVbMF0uY3J1bWJzLnB1YmNpZCkpLE9iamVjdChnLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC50ZGlkIikmJihpLnRkaWQ9ZVswXS51c2VySWQudGRpZCksZVswXS5wYXJhbXMucmVmZXJyZXImJihpLnJlZj1lWzBdLnBhcmFtcy5yZWZlcnJlciksdCYmdC5nZHByQ29uc2VudCYmKGkuZ2Rwcj10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPyJ0cnVlIjoiZmFsc2UiLHQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKGkuY29uc2VudF9zdHJpbmc9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSk7dmFyIHM9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXt2YXIgZT13aW5kb3cuRGlnaVRydXN0JiYoYy5iLmdldENvbmZpZygiZGlnaVRydXN0SWQiKXx8d2luZG93LkRpZ2lUcnVzdC5nZXRVc2VyKHttZW1iZXI6dH0pKTtyZXR1cm4gZSYmZS5zdWNjZXNzJiZlLmlkZW50aXR5fHxudWxsfSgpO2lmKCFlfHxlLnByaXZhY3kmJmUucHJpdmFjeS5vcHRvdXQpcmV0dXJuIG51bGw7cmV0dXJuIGV9KCJmaG5TNWRyd21IIik7cmV0dXJuIHMmJihpLmRpZ2lkPXMuaWQsaS5kaWdrZXl2PXMua2V5diksZVswXS5zY2hhaW4mJihpLnNjaGFpbj1KU09OLnN0cmluZ2lmeShlWzBdLnNjaGFpbikpLE9iamVjdChnLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZCIpJiYwPE9iamVjdC5rZXlzKGVbMF0udXNlcklkKS5sZW5ndGgmJihpLnVzZXJpZD1KU09OLnN0cmluZ2lmeShlWzBdLnVzZXJJZCkpLHQmJnQudXNwQ29uc2VudCYmKGkudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLE9iamVjdChnLmlzRW1wdHkpKG4pP251bGw6e21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vYXBleC5nby5zb25vYmkuY29tL3RyaW5pdHkuanNvbiIsd2l0aENyZWRlbnRpYWxzOiEwLGRhdGE6aSxiaWRkZXJSZXF1ZXN0czplfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxsKXt2YXIgZj1lLmJvZHksbT1bXSx2PWwuZGF0YS5yZWY7cmV0dXJuIDA9PT1PYmplY3Qua2V5cyhmLnNsb3RzKS5sZW5ndGh8fE9iamVjdC5rZXlzKGYuc2xvdHMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9Zi5zbG90c1tlXSxyPWUuc3BsaXQoInwiKS5zbGljZSgtMSlbMF0sbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uYmlkSWQ9PT10KXJldHVybiBlW3JdfShsLmJpZGRlclJlcXVlc3RzLHIpLGk9bnVsbDsidmlkZW8iPT09dC5zYmlfY3QmJihpPSJ2aWRlbyIsIm91dHN0cmVhbSI9PT1PYmplY3QoZy5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmKGk9Im91dHN0cmVhbSIpKTt2YXIgcz1qKGksdik7aWYodC5zYmlfYWlkJiZ0LnNiaV9tb3VzZSYmdC5zYmlfc2l6ZSl7dmFyIGM9aCh0LnNiaV9zaXplLnNwbGl0KCJ4IiksMiksbz1jWzBdLGE9dm9pZCAwPT09bz8xOm8sZD1jWzFdLHU9dm9pZCAwPT09ZD8xOmQscD17cmVxdWVzdElkOnIsY3BtOk51bWJlcih0LnNiaV9tb3VzZSksd2lkdGg6TnVtYmVyKGEpLGhlaWdodDpOdW1iZXIodSksYWQ6cyhmLnNiaV9kYyx0LnNiaV9haWQpLHR0bDo1MDAsY3JlYXRpdmVJZDp0LnNiaV9jcmlkfHx0LnNiaV9haWQsYWlkOnQuc2JpX2FpZCxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QifTtpZih0LnNiaV9kb3plciYmKHAuZGVhbElkPXQuc2JpX2RvemVyKSwidmlkZW8iPT09aSlwLm1lZGlhVHlwZT0idmlkZW8iLHAudmFzdFVybD1zKGYuc2JpX2RjLHQuc2JpX2FpZCksZGVsZXRlIHAuYWQsZGVsZXRlIHAud2lkdGgsZGVsZXRlIHAuaGVpZ2h0O2Vsc2UgaWYoIm91dHN0cmVhbSI9PT1pJiZuKXtwLm1lZGlhVHlwZT0idmlkZW8iLHAudmFzdFVybD1zKGYuc2JpX2RjLHQuc2JpX2FpZCkscC5yZW5kZXJlcj1mdW5jdGlvbihlLHQpe3ZhciByPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPXkuYS5pbnN0YWxsKHtpZDp0LmFpZCx1cmw6Imh0dHBzOi8vbXRyeC5nby5zb25vYmkuY29tL3NiaV9vdXRzdHJlYW1fcmVuZGVyZXIuanMiLGNvbmZpZzpyLGxvYWRlZDohMSxhZFVuaXRDb2RlOmV9KTt0cnl7bi5zZXRSZW5kZXIoTyl9Y2F0Y2goZSl7T2JqZWN0KGcubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIG4uc2V0RXZlbnRIYW5kbGVycyh7aW1wcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZy5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSB2aWRlbyBpbXByZXNzaW9uIGV2ZW50Iil9LGxvYWRlZDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoZy5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSB2aWRlbyBsb2FkZWQgZXZlbnQiKX0sZW5kZWQ6ZnVuY3Rpb24oKXtPYmplY3QoZy5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSByZW5kZXJlciB2aWRlbyBldmVudCIpfX0pLG59KG4uYWRVbml0Q29kZSxwLE9iamVjdChnLmRlZXBBY2Nlc3MpKG4sInJlbmRlcmVyLm9wdGlvbnMiKSk7dmFyIGI9T2JqZWN0KGcuZGVlcEFjY2VzcykobiwicGFyYW1zLnNpemVzIik7QXJyYXkuaXNBcnJheShiKSYmQXJyYXkuaXNBcnJheShiWzBdKSYmKGI9YlswXSksYiYmKHAud2lkdGg9YlswXSxwLmhlaWdodD1iWzFdKX1tLnB1c2gocCl9fSksbX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107dHJ5e2UucGl4ZWxFbmFibGVkJiZ0WzBdLmJvZHkuc2JpX3B4LmZvckVhY2goZnVuY3Rpb24oZSl7ci5wdXNoKHt0eXBlOmUudHlwZSx1cmw6ZS51cmx9KX0pfWNhdGNoKGUpe31yZXR1cm4gcn19O2Z1bmN0aW9uIGIoZSl7cmV0dXJuIE9iamVjdChnLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKT8iIjplLnBhcmFtcy5zaXplcz9PYmplY3QoZy5wYXJzZVNpemVzSW5wdXQpKGUucGFyYW1zLnNpemVzKS5qb2luKCIsIik6T2JqZWN0KGcuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKT9PYmplY3QoZy5wYXJzZVNpemVzSW5wdXQpKE9iamVjdChnLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikpLmpvaW4oIiwiKTplLnNpemVzP09iamVjdChnLnBhcnNlU2l6ZXNJbnB1dCkoZS5zaXplcykuam9pbigiLCIpOnZvaWQgMH1mdW5jdGlvbiBsKGUpe3JldHVybiBlLnBhcmFtcy5mbG9vcj8ifGY9Ii5jb25jYXQoZS5wYXJhbXMuZmxvb3IpOiIifXZhciBqPWZ1bmN0aW9uKGkscyl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuInZpZGVvIj09PWl8fCJvdXRzdHJlYW0iPT09aT8ocj10LG49cywiaHR0cHM6Ly8iLmNvbmNhdChlLCJhcGV4LmdvLnNvbm9iaS5jb20vdmFzdC54bWw/dmlkPSIpLmNvbmNhdChyLCImcmVmPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobikpKTonPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iJysiaHR0cHM6Ly8iLmNvbmNhdChlLCJhcGV4LmdvLnNvbm9iaS5jb20vc2JpLmpzP2FpZD0iKS5jb25jYXQodCwiJmFzPW51bGwmcmVmPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocykpKyciPjxcL3NjcmlwdD4nO3ZhciByLG59fTt2YXIgZj1mdW5jdGlvbihlKXt2YXIgcj0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTp3aW5kb3c7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsdD0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7cmV0dXJuIHIuaW5uZXJXaWR0aD49ZSYmci5pbm5lcldpZHRoPHR9fTtmdW5jdGlvbiBtKCl7dmFyIGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOndpbmRvdyx0PWYoZSkscj05OTIsbj03Njg7cmV0dXJuIHQoMCw3NjgpPyJtb2JpbGUiOnQobixyKT8idGFibGV0IjoiZGVza3RvcCJ9ZnVuY3Rpb24gTyhpKXtpLnJlbmRlcmVyLnB1c2goZnVuY3Rpb24oKXt2YXIgZT1oKGkuZ2V0U2l6ZSgpLnNwbGl0KCJ4IiksMiksdD1lWzBdLHI9ZVsxXSxuPW5ldyB3aW5kb3cuU2JpT3V0c3RyZWFtUmVuZGVyZXI7bi5pbml0KHt2YXN0VXJsOmkudmFzdFVybCxoZWlnaHQ6cix3aWR0aDp0fSksbi5zZXRSb290RWxlbWVudChpLmFkVW5pdENvZGUpfSl9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHMpfX0sWzYxOV0pOwp1cGJqc0NodW5rKFs4N10sezYyNzpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNjI4KX0sNjI4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBpfSk7dmFyIGM9dCgwKSx1PXQoOSksbj10KDEpLGE9dCgyKSxpPXtjb2RlOiJzb3ZybiIsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hKCFlLnBhcmFtcy50YWdpZHx8aXNOYU4ocGFyc2VGbG9hdChlLnBhcmFtcy50YWdpZCkpfHwhaXNGaW5pdGUoZS5wYXJhbXMudGFnaWQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3RyeXt2YXIgaSxhLHMsZD1bXTtjLl9lYWNoKGUsZnVuY3Rpb24oZSl7aWYoIXMpe3ZhciByPWMuZGVlcEFjY2VzcyhlLCJ1c2VySWQuZGlnaXRydXN0aWQuZGF0YSIpOyFyfHxyLnByaXZhY3kmJnIucHJpdmFjeS5vcHRvdXR8fChzPXtpZDpyLmlkLGtleXY6ci5rZXl2fSl9ZS5zY2hhaW4mJihhPWF8fGUuc2NoYWluKSxpPWl8fGMuZ2V0QmlkSWRQYXJhbWV0ZXIoIml2IixlLnBhcmFtcyk7dmFyIHQ9ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHxlLnNpemVzLG49KHQ9KHQ9Yy5pc0FycmF5KHQpJiZjLmlzQXJyYXkodFswXSk/dDpbdF0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gYy5pc0FycmF5KGUpfSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57dzpwYXJzZUludChlWzBdLDEwKSxoOnBhcnNlSW50KGVbMV0sMTApfX0pO2QucHVzaCh7aWQ6ZS5iaWRJZCxiYW5uZXI6e2Zvcm1hdDpuLHc6MSxoOjF9LHRhZ2lkOlN0cmluZyhjLmdldEJpZElkUGFyYW1ldGVyKCJ0YWdpZCIsZS5wYXJhbXMpKSxiaWRmbG9vcjpjLmdldEJpZElkUGFyYW1ldGVyKCJiaWRmbG9vciIsZS5wYXJhbXMpfSl9KTt2YXIgdD1yLnJlZmVyZXJJbmZvLnJlZmVyZXIsbj1PYmplY3QodS5jKSh0KS5ob3N0bmFtZSxvPXtpZDpjLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxpbXA6ZCxzaXRlOntwYWdlOnQsZG9tYWluOm59fTthJiYoby5zb3VyY2U9e2V4dDp7c2NoYWluOmF9fSksci5nZHByQ29uc2VudCYmKGMuZGVlcFNldFZhbHVlKG8sInJlZ3MuZXh0LmdkcHIiLCtyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxjLmRlZXBTZXRWYWx1ZShvLCJ1c2VyLmV4dC5jb25zZW50IixyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxyLnVzcENvbnNlbnQmJmMuZGVlcFNldFZhbHVlKG8sInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCkscyYmYy5kZWVwU2V0VmFsdWUobywidXNlci5leHQuZGlnaXRydXN0Iix7aWQ6cy5pZCxrZXl2OnMua2V5dn0pO3ZhciBwPSJodHRwczovL2FwLmxpaml0LmNvbS9ydGIvYmlkP3NyYz1wcmViaWRfcHJlYmlkXzIuNDQuOC1wcmUiO3JldHVybiBpJiYocCs9IiZpdj0iLmNvbmNhdChpKSkse21ldGhvZDoiUE9TVCIsdXJsOnAsZGF0YTpKU09OLnN0cmluZ2lmeShvKSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiJ9fX1jYXRjaChlKXtjb25zb2xlLmxvZygiZXJyb3IgaW4gYnVpbGQ6IiksY29uc29sZS5sb2coZSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgcj1lLmJvZHksdD1yLmlkLG49ci5zZWF0YmlkO3RyeXt2YXIgaT1bXTtyZXR1cm4gdCYmbiYmMDxuLmxlbmd0aCYmblswXS5iaWQmJjA8blswXS5iaWQubGVuZ3RoJiZuWzBdLmJpZC5tYXAoZnVuY3Rpb24oZSl7aS5wdXNoKHtyZXF1ZXN0SWQ6ZS5pbXBpZCxjcG06cGFyc2VGbG9hdChlLnByaWNlKSx3aWR0aDpwYXJzZUludChlLncpLGhlaWdodDpwYXJzZUludChlLmgpLGNyZWF0aXZlSWQ6ZS5jcmlkfHxlLmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLG1lZGlhVHlwZTphLmIsYWQ6ZGVjb2RlVVJJQ29tcG9uZW50KCIiLmNvbmNhdChlLmFkbSwnPGltZyBzcmM9IicpLmNvbmNhdChlLm51cmwsJyI+JykpLHR0bDo2MH0pfSksaX1jYXRjaChlKXtjb25zb2xlLmxvZygiZXJyb3IgaW4gaW50ZXJwcmV0OiIpLGNvbnNvbGUubG9nKGUpfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LG4pe3RyeXt2YXIgaT1bXTtpZihyJiYwIT09ci5sZW5ndGgpe2lmKGUuaWZyYW1lRW5hYmxlZCl7dmFyIGE9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGMuZGVlcEFjY2VzcyhlLCJib2R5LmV4dC5paWQiKX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ib2R5LmV4dC5paWR9KSxzPVtdO3QmJnQuZ2RwckFwcGxpZXMmJiJzdHJpbmciPT10eXBlb2YgdC5jb25zZW50U3RyaW5nJiZzLnB1c2goWyJnZHByX2NvbnNlbnQiLHQuY29uc2VudFN0cmluZ10pLG4mJnMucHVzaChbInVzX3ByaXZhY3kiLG5dKSxhWzBdJiYocy5wdXNoKFsiaW5mb3JtZXIiLGFbMF1dKSxpLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2FwLmxpaml0LmNvbS9iZWFjb24/IitzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCI9Iil9KS5qb2luKCImIil9KSl9ZS5waXhlbEVuYWJsZWQmJnIuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBjLmRlZXBBY2Nlc3MoZSwiYm9keS5leHQuc3luYy5waXhlbHMiKX0pLnJlZHVjZShmdW5jdGlvbihlLHIpe3JldHVybiBlLmNvbmNhdChyLmJvZHkuZXh0LnN5bmMucGl4ZWxzKX0sW10pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS51cmx9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBpLnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZX0pfSl9cmV0dXJuIGl9Y2F0Y2goZSl7cmV0dXJuW119fX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKGkpfX0sWzYyN10pOwp1cGJqc0NodW5rKFs4MF0sezY0MzpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNjQ0KX0sNjQ0OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBvfSk7dmFyIGE9dCgxKSxzPXQoMCksbj0xMixkPTExLGk9MCxwPTIyLG89e2NvZGU6InRlYWRzIixzdXBwb3J0ZWRNZWRpYVR5cGVzOlsidmlkZW8iLCJiYW5uZXIiXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgcj0hMTtpZih2b2lkIDAhPT1lLnBhcmFtcyl7dmFyIHQ9ZihzLmdldFZhbHVlKGUucGFyYW1zLCJwbGFjZW1lbnRJZCIpKSxhPWYocy5nZXRWYWx1ZShlLnBhcmFtcywicGFnZUlkIikpO3I9dCYmYX1yZXR1cm4gcnx8cy5sb2dFcnJvcigiVGVhZHMgcGxhY2VtZW50SWQgYW5kIHBhZ2VJZCBwYXJhbWV0ZXJzIGFyZSByZXF1aXJlZC4gQmlkIGFib3J0ZWQuIikscn0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PWUubWFwKHUpLGE9e3JlZmVycmVyOmZ1bmN0aW9uKGUpe3ZhciByPSIiO2UmJmUucmVmZXJlckluZm8mJmUucmVmZXJlckluZm8ucmVmZXJlciYmKHI9ZS5yZWZlcmVySW5mby5yZWZlcmVyKTtyZXR1cm4gcn0ociksZGF0YTp0LGRldmljZVdpZHRoOnNjcmVlbi53aWR0aCxoYl92ZXJzaW9uOiIyLjQ0LjgtcHJlIn07ZVswXS5zY2hhaW4mJihhLnNjaGFpbj1lWzBdLnNjaGFpbik7dmFyIG49ci5nZHByQ29uc2VudDtpZihyJiZuKXt2YXIgcz0iYm9vbGVhbiI9PXR5cGVvZiBuLmdkcHJBcHBsaWVzLGQ9InN0cmluZyI9PXR5cGVvZiBuLmNvbnNlbnRTdHJpbmcsaT1zP2Mobi5nZHByQXBwbGllcyxuLnZlbmRvckRhdGEpOnA7YS5nZHByX2lhYj17Y29uc2VudDpkP24uY29uc2VudFN0cmluZzoiIixzdGF0dXM6aX19cmV0dXJuIHImJnIudXNwQ29uc2VudCYmKGEudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9hLnRlYWRzLnR2L2hiL2JpZC1yZXF1ZXN0IixkYXRhOkpTT04uc3RyaW5naWZ5KGEpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuKGU9ZS5ib2R5KS5yZXNwb25zZXMmJmUucmVzcG9uc2VzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9e2NwbTplLmNwbSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCxjdXJyZW5jeTplLmN1cnJlbmN5LG5ldFJldmVudWU6ITAsdHRsOmUudHRsLGFkOmUuYWQscmVxdWVzdElkOmUuYmlkSWQsY3JlYXRpdmVJZDplLmNyZWF0aXZlSWQscGxhY2VtZW50SWQ6ZS5wbGFjZW1lbnRJZH07dC5wdXNoKHIpfSksdH0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0KXt2YXIgYT17aGJfcHJvdmlkZXI6InByZWJpZCIsaGJfdmVyc2lvbjoiMi40NC44LXByZSJ9O2lmKHQpe3ZhciBuPXtzdGF0dXM6Yyh0LmdkcHJBcHBsaWVzLHQudmVuZG9yRGF0YSksY29uc2VudDp0LmNvbnNlbnRTdHJpbmd9O2EuZ2RwcklhYj1KU09OLnN0cmluZ2lmeShuKX1pZihzLmRlZXBBY2Nlc3MoclswXSwiYm9keS5yZXNwb25zZXMuMC5wbGFjZW1lbnRJZCIpJiYoYS5wbGFjZW1lbnRJZD1yWzBdLmJvZHkucmVzcG9uc2VzWzBdLnBsYWNlbWVudElkKSxlLmlmcmFtZUVuYWJsZWQpcmV0dXJuW3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9zeW5jLnRlYWRzLnR2L2lmcmFtZT8iK3MucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnMoYSl9XX19O2Z1bmN0aW9uIGMoZSxyKXt2YXIgdD1uO3JldHVybiBlPyhyLmhhc0dsb2JhbFNjb3BlfHxyLmhhc0dsb2JhbENvbnNlbnQpJiYodD1kKTp0PWksdH1mdW5jdGlvbiB1KGUpe3ZhciByLHQ9e30sYT1zLmdldFZhbHVlKGUucGFyYW1zLCJwbGFjZW1lbnRJZCIpLG49cy5nZXRWYWx1ZShlLnBhcmFtcywicGFnZUlkIik7cmV0dXJuIHQuc2l6ZXM9KHI9ZSxzLnBhcnNlU2l6ZXNJbnB1dChmdW5jdGlvbihlKXt2YXIgcj1zLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIiksdD1zLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5zaXplcyIpLGE9cy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik7cmV0dXJuIHMuaXNBcnJheShhKXx8cy5pc0FycmF5KHIpfHxzLmlzQXJyYXkodCk/W2EsdCxyXS5yZWR1Y2UoZnVuY3Rpb24ocixlKXtyZXR1cm4gcy5pc0FycmF5KGUpJiYocy5pc0FycmF5KGVbMF0pP2UuZm9yRWFjaChmdW5jdGlvbihlKXtyLnB1c2goZSl9KTpyLnB1c2goZSkpLHJ9LFtdKTplLnNpemVzfShyKSkpLHQuYmlkSWQ9cy5nZXRCaWRJZFBhcmFtZXRlcigiYmlkSWQiLGUpLHQuYmlkZGVyUmVxdWVzdElkPXMuZ2V0QmlkSWRQYXJhbWV0ZXIoImJpZGRlclJlcXVlc3RJZCIsZSksdC5wbGFjZW1lbnRJZD1wYXJzZUludChhLDEwKSx0LnBhZ2VJZD1wYXJzZUludChuLDEwKSx0LmFkVW5pdENvZGU9cy5nZXRCaWRJZFBhcmFtZXRlcigiYWRVbml0Q29kZSIsZSksdC5hdWN0aW9uSWQ9cy5nZXRCaWRJZFBhcmFtZXRlcigiYXVjdGlvbklkIixlKSx0LnRyYW5zYWN0aW9uSWQ9cy5nZXRCaWRJZFBhcmFtZXRlcigidHJhbnNhY3Rpb25JZCIsZSksdH1mdW5jdGlvbiBmKGUpe3JldHVybiAwPHBhcnNlSW50KGUpfU9iamVjdChhLnJlZ2lzdGVyQmlkZGVyKShvKX19LFs2NDNdKTsKdXBianNDaHVuayhbNzNdLHs2NTc6ZnVuY3Rpb24ocixlLHQpe3IuZXhwb3J0cz10KDY1OCl9LDY1ODpmdW5jdGlvbihyLGUsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQoZSwidHJpcGxlbGlmdEFkYXB0ZXJTcGVjIixmdW5jdGlvbigpe3JldHVybiBzfSk7dmFyIG49dCgyKSxpPXQoMSksZD10KDApLGE9dCgzMSk7ZnVuY3Rpb24gdShyKXtyZXR1cm4gZnVuY3Rpb24ocil7aWYoQXJyYXkuaXNBcnJheShyKSl7Zm9yKHZhciBlPTAsdD1uZXcgQXJyYXkoci5sZW5ndGgpO2U8ci5sZW5ndGg7ZSsrKXRbZV09cltlXTtyZXR1cm4gdH19KHIpfHxmdW5jdGlvbihyKXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHIpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKSlyZXR1cm4gQXJyYXkuZnJvbShyKX0ocil8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX12YXIgcD0hMCxvPW51bGwscz17Y29kZToidHJpcGxlbGlmdCIsc3VwcG9ydGVkTWVkaWFUeXBlczpbbi5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihyKXtyZXR1cm4gdm9pZCAwIT09ci5wYXJhbXMuaW52ZW50b3J5Q29kZX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihyLGUpe3ZhciB0PSJodHRwczovL3RseC4zbGlmdC5jb20vaGVhZGVyL2F1Y3Rpb24/IixuPWZ1bmN0aW9uKHIpe3ZhciBlPXt9LHQ9clswXS5zY2hhaW47ZS5pbXA9ci5tYXAoZnVuY3Rpb24ocixlKXtyZXR1cm57aWQ6ZSx0YWdpZDpyLnBhcmFtcy5pbnZlbnRvcnlDb2RlLGZsb29yOnIucGFyYW1zLmZsb29yLGJhbm5lcjp7Zm9ybWF0OnIuc2l6ZXMuZmlsdGVyKGYpLm1hcChmdW5jdGlvbihyKXtyZXR1cm57dzpyWzBdLGg6clsxXX19KX19fSk7dmFyIG49W10uY29uY2F0KHUoZnVuY3Rpb24ocil7cmV0dXJuIGMociwidGRpZCIsImFkc2VydmVyLm9yZyIsIlRESUQiKX0ocikpLHUoZnVuY3Rpb24ocil7cmV0dXJuIGMociwiaWRsX2VudiIsImxpdmVyYW1wLmNvbSIsImlkbCIpfShyKSkpOzA8bi5sZW5ndGgmJihlLnVzZXI9e2V4dDp7ZWlkczpufX0pO3QmJihlLmV4dD17c2NoYWluOnR9KTtyZXR1cm4gZX0ocik7aWYodD1kLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsImxpYiIsInByZWJpZCIpLHQ9ZC50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJ2IiwiMi40NC44LXByZSIpLGUmJmUucmVmZXJlckluZm8pe3ZhciBpPWUucmVmZXJlckluZm8ucmVmZXJlcjt0PWQudHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwicmVmZXJyZXIiLGkpfXJldHVybiBlJiZlLnRpbWVvdXQmJih0PWQudHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwidG1heCIsZS50aW1lb3V0KSksZSYmZS5nZHByQ29uc2VudCYmKHZvaWQgMCE9PWUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihwPWUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMsdD1kLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsImdkcHIiLHAudG9TdHJpbmcoKSkpLHZvaWQgMCE9PWUuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKG89ZS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLHQ9ZC50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJjbXBfY3MiLG8pKSksZSYmZS51c3BDb25zZW50JiYodD1kLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsInVzX3ByaXZhY3kiLGUudXNwQ29uc2VudCkpLHQubGFzdEluZGV4T2YoIiYiKT09PXQubGVuZ3RoLTEmJih0PXQuc3Vic3RyaW5nKDAsdC5sZW5ndGgtMSkpLGQubG9nTWVzc2FnZSgidGxDYWxsIHJlcXVlc3QgYnVpbHQ6ICIrdCkse21ldGhvZDoiUE9TVCIsdXJsOnQsZGF0YTpuLGJpZGRlclJlcXVlc3Q6ZX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKHIsZSl7dmFyIHQ9ZS5iaWRkZXJSZXF1ZXN0O3JldHVybihyLmJvZHkuYmlkc3x8W10pLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gZnVuY3Rpb24ocixlKXt2YXIgdD17fSxuPWUud2lkdGh8fDEsaT1lLmhlaWdodHx8MSx1PWUuZGVhbF9pZHx8IiIsZD1lLmNyaWR8fCIiO2lmKDAhPWUuY3BtJiZlLmFkJiYoKHQ9e3JlcXVlc3RJZDpyLmJpZHNbZS5pbXBfaWRdLmJpZElkLGNwbTplLmNwbSx3aWR0aDpuLGhlaWdodDppLG5ldFJldmVudWU6ITAsYWQ6ZS5hZCxjcmVhdGl2ZUlkOmQsZGVhbElkOnUsY3VycmVuY3k6IlVTRCIsdHRsOjMzfSkuYWQmJi0xPT09dC5hZC5pbmRleE9mKCI8Ym9keSIpJiYodC5hZD0iPGJvZHk+Iit0LmFkKyI8L2JvZHk+IiksdC5hZCkpe3ZhciBwPS8iaW1hZ2VfdXJsIjoiKGh0dHA/czouKj8pIi9nbS5leGVjKHQuYWQpO2lmKHAmJjA8cC5sZW5ndGgpe3ZhciBvPWEuYyhwWzFdKTt0LmFkPXQuYWQucmVwbGFjZShwWzFdLG8pfX1yZXR1cm4gdH0odCxyKX0pfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24ocixlLHQsbil7dmFyIGk9ZnVuY3Rpb24ocil7aWYoIXIpcmV0dXJuO2lmKHIuaWZyYW1lRW5hYmxlZClyZXR1cm4iaWZyYW1lIjtpZihyLnBpeGVsRW5hYmxlZClyZXR1cm4iaW1hZ2UifShyKTtpZihpKXt2YXIgdT0iaHR0cHM6Ly9lYjIuM2xpZnQuY29tL3N5bmM/IjtyZXR1cm4iaW1hZ2UiPT09aSYmKHU9ZC50cnlBcHBlbmRRdWVyeVN0cmluZyh1LCJweCIsMSksdT1kLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHUsInNyYyIsInByZWJpZCIpKSxudWxsIT09byYmKHU9ZC50cnlBcHBlbmRRdWVyeVN0cmluZyh1LCJnZHByIixwKSx1PWQudHJ5QXBwZW5kUXVlcnlTdHJpbmcodSwiY21wX2NzIixvKSksbiYmKHU9ZC50cnlBcHBlbmRRdWVyeVN0cmluZyh1LCJ1c19wcml2YWN5IixuKSksW3t0eXBlOmksdXJsOnV9XX19fTtmdW5jdGlvbiBjKHIsZSx0LG4pe3JldHVybiByLm1hcCgoZD1lLGZ1bmN0aW9uKHIpe3JldHVybiByJiZyLnVzZXJJZCYmci51c2VySWRbZF19KSkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiEhcn0pLm1hcCgoaT10LHU9bixmdW5jdGlvbihyKXtyZXR1cm57c291cmNlOmksdWlkczpbe2lkOnIsZXh0OntydGlQYXJ0bmVyOnV9fV19fSkpO3ZhciBpLHUsZH1mdW5jdGlvbiBmKHIpe3JldHVybiAyPT09ci5sZW5ndGgmJiJudW1iZXIiPT10eXBlb2YgclswXSYmIm51bWJlciI9PXR5cGVvZiByWzFdfU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShzKX19LFs2NTddKTsKdXBianNDaHVuayhbNzJdLHs2NTk6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDY2MCl9LDY2MDpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gdn0pO3ZhciBtPXQoMCkscz10KDEpLG89dCgxMCksYz10KDIpLGY9IkJpZCBmcm9tIHJlc3BvbnNlIGhhcyBubyBhdWlkIHBhcmFtZXRlciAtICIsbD0iQmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGFkbSBwYXJhbWV0ZXIgLSAiLHA9IkFycmF5IG9mIGJpZCBvYmplY3RzIGlzIGVtcHR5IixnPSJDYW4ndCBmaW5kIGluIHJlcXVlc3RlZCBiaWRzIHRoZSBiaWQgd2l0aCBhdWlkIC0gIix1PSJTZWF0YmlkIGFycmF5IGZyb20gcmVzcG9uc2UgaGFzIGVtcHR5IGl0ZW0iLHk9IlJlc3BvbnNlIGlzIGVtcHR5IixiPSJSZXNwb25zZSBoYXMgZW1wdHkgc2VhdGJpZCBhcnJheSIsaD0iU2VhdGJpZCBmcm9tIHJlc3BvbnNlIGhhcyBubyBhcnJheSBvZiBiaWQgb2JqZWN0cyAtICIsdj17Y29kZToidHJ1c3R4IixzdXBwb3J0ZWRNZWRpYVR5cGVzOltjLmIsYy5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLnVpZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBhLG8scD1bXSx1PXt9LGM9e30sZj17fSxsPSJuZXQiOyhlfHxbXSkuZm9yRWFjaChmdW5jdGlvbihlKXsiZ3Jvc3MiPT09ZS5wYXJhbXMucHJpY2VUeXBlJiYobD0iZ3Jvc3MiKSxvPWUuYmlkZGVyUmVxdWVzdElkO3ZhciByPWUucGFyYW1zLnVpZCx0PWUuYWRVbml0Q29kZTtwLnB1c2gocik7dmFyIHM9bS5wYXJzZVNpemVzSW5wdXQoZS5zaXplcyk7aWYoIWEmJiFtLmlzRW1wdHkoZS5wYXJhbXMua2V5d29yZHMpKXt2YXIgbj1tLnRyYW5zZm9ybUJpZGRlclBhcmFtS2V5d29yZHMoZS5wYXJhbXMua2V5d29yZHMpOzA8bi5sZW5ndGgmJm4uZm9yRWFjaChFKSxhPW59Y1tyXXx8KGNbcl09e30pO3ZhciBpPWNbcl07aVt0XT9pW3RdLmJpZHMucHVzaChlKTppW3RdPXthZFVuaXRDb2RlOnQsYmlkczpbZV0scGFyZW50czpbXX07dmFyIGQ9aVt0XTtzLmZvckVhY2goZnVuY3Rpb24oZSl7ZltlXT0hMCx1W3JdfHwodVtyXT17fSksdVtyXVtlXT91W3JdW2VdLnB1c2goZCk6dVtyXVtlXT1bZF0sZC5wYXJlbnRzLnB1c2goe3BhcmVudDp1W3JdLGtleTplLHVpZDpyfSl9KX0pO3ZhciB0PXtwdDpsLGF1aWRzOnAuam9pbigiLCIpLHNpemVzOm0uZ2V0S2V5cyhmKS5qb2luKCIsIikscjpvLHdyYXBwZXJUeXBlOiJQcmViaWRfanMiLHdyYXBwZXJWZXJzaW9uOiIyLjQ0LjgtcHJlIn07cmV0dXJuIGEmJih0LmtleXdvcmRzPUpTT04uc3RyaW5naWZ5KGEpKSxyJiYoci5yZWZlcmVySW5mbyYmci5yZWZlcmVySW5mby5yZWZlcmVyJiYodC51PXIucmVmZXJlckluZm8ucmVmZXJlciksci50aW1lb3V0JiYodC53dGltZW91dD1yLnRpbWVvdXQpLHIuZ2RwckNvbnNlbnQmJihyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJih0LmdkcHJfY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLHQuZ2Rwcl9hcHBsaWVzPSJib29sZWFuIj09dHlwZW9mIHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/TnVtYmVyKHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpOjEpLHIudXNwQ29uc2VudCYmKHQudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpKSx7bWV0aG9kOiJHRVQiLHVybDoiLy9zb2ZpYS50cnVzdHgub3JnL2hiIixkYXRhOm0ucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnModCkucmVwbGFjZSgvXCYkLywiIiksYmlkc01hcDp1fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyLHQpe3ZhciBzPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Om8uYTtlPWUmJmUuYm9keTt2YXIgbixpPVtdLGQ9ci5iaWRzTWFwLGE9ci5kYXRhLnB0O3JldHVybiBlP2Uuc2VhdGJpZCYmIWUuc2VhdGJpZC5sZW5ndGgmJihuPWIpOm49eSwhbiYmZS5zZWF0YmlkJiZlLnNlYXRiaWQuZm9yRWFjaChmdW5jdGlvbihlKXshZnVuY3Rpb24oZSxpLHIsdCxzKXtpZighZSlyZXR1cm47dmFyIG47ZS5hdWlkfHwobj1mK0pTT04uc3RyaW5naWZ5KGUpKTtpZihlLmFkbSl7dmFyIGQ9aVtlLmF1aWRdO2lmKGQpe3ZhciBhPSIiLmNvbmNhdChlLncsIngiKS5jb25jYXQoZS5oKTtpZihkW2FdKXt2YXIgbz1kW2FdWzBdLHA9by5iaWRzLnNoaWZ0KCksdT17cmVxdWVzdElkOnAuYmlkSWQsYmlkZGVyQ29kZTp2LmNvZGUsY3BtOmUucHJpY2Usd2lkdGg6ZS53LGhlaWdodDplLmgsY3JlYXRpdmVJZDplLmF1aWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZToiZ3Jvc3MiIT09cix0dGw6MzYwLGRlYWxJZDplLmRlYWxpZH07InZpZGVvIj09PWUuY29udGVudF90eXBlPyh1LnZhc3RYbWw9ZS5hZG0sdS5tZWRpYVR5cGU9Yy5kLHUuYWRSZXNwb25zZT17Y29udGVudDp1LnZhc3RYbWx9LHAucmVuZGVyZXJ8fHAubWVkaWFUeXBlcyYmcC5tZWRpYVR5cGVzLnZpZGVvJiYib3V0c3RyZWFtIiE9PXAubWVkaWFUeXBlcy52aWRlby5jb250ZXh0fHwodS5yZW5kZXJlcj1mdW5jdGlvbihlLHIsdCl7dmFyIHM9dC5pbnN0YWxsKHtpZDpyLmlkLHVybDpyLnVybCxsb2FkZWQ6ITF9KTt0cnl7cy5zZXRSZW5kZXIodyl9Y2F0Y2goZSl7bS5sb2dXYXJuKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiBzfSgwLHtpZDpwLmJpZElkLHVybDoiLy9hY2RuLmFkbnhzLmNvbS92aWRlby9vdXRzdHJlYW0vQU5PdXRzdHJlYW1WaWRlby5qcyJ9LHMpKSk6KHUuYWQ9ZS5hZG0sdS5tZWRpYVR5cGU9Yy5iKSx0LnB1c2godSksby5iaWRzLmxlbmd0aHx8by5wYXJlbnRzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9ZS5wYXJlbnQsdD1lLmtleSxzPWUudWlkLG49clt0XS5pbmRleE9mKG8pOy0xPG4mJnJbdF0uc3BsaWNlKG4sMSksclt0XS5sZW5ndGh8fChkZWxldGUgclt0XSxtLmdldEtleXMocikubGVuZ3RofHxkZWxldGUgaVtzXSl9KX19ZWxzZSBuPWcrZS5hdWlkfWVsc2Ugbj1sK0pTT04uc3RyaW5naWZ5KGUpO24mJm0ubG9nRXJyb3Iobil9KGZ1bmN0aW9uKGUpe2U/ZS5iaWQ/ZS5iaWRbMF18fG0ubG9nRXJyb3IocCk6bS5sb2dFcnJvcihoK0pTT04uc3RyaW5naWZ5KGUpKTptLmxvZ0Vycm9yKHUpO3JldHVybiBlJiZlLmJpZCYmZS5iaWRbMF19KGUpLGQsYSxpLHMpfSksbiYmbS5sb2dFcnJvcihuKSxpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSl7aWYoZS5waXhlbEVuYWJsZWQpcmV0dXJuW3t0eXBlOiJpbWFnZSIsdXJsOiIvL3NvZmlhLnRydXN0eC5vcmcvcHVzaF9zeW5jIn1dfX07ZnVuY3Rpb24gRShlKXt2YXIgcjtyPWUudmFsdWUsbS5pc0FycmF5KHIpJiYwPHIubGVuZ3RoJiYiIj09PWUudmFsdWVbMF0mJmRlbGV0ZSBlLnZhbHVlfWZ1bmN0aW9uIHcoZSl7ZS5yZW5kZXJlci5wdXNoKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3RhcmdldElkOmUuYWRVbml0Q29kZSxhZFJlc3BvbnNlOmUuYWRSZXNwb25zZX0pfSl9T2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKHYpfX0sWzY1OV0pOwp1cGJqc0NodW5rKFs2OV0sezY2NzpmdW5jdGlvbihlLG4sdCl7ZS5leHBvcnRzPXQoNjY4KX0sNjY4OmZ1bmN0aW9uKGUsbix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChuLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBwfSk7dmFyIGQ9dCgwKSxhPXQoMykscz10KDEpLG89IjMuMFYiO2QubG9nTWVzc2FnZSgiSW5pdGlhbGl6aW5nIFVETSBBZGFwdGVyLiBQQkpTIFZlcnNpb246ICIuY29uY2F0KCIyLjQ0LjgtcHJlIiwiIHdpdGggYWRhcHRlciB2ZXJzaW9uOiAiKS5jb25jYXQobywiICBVcGRhdGVkIDIwMTkxMDI4IikpO3ZhciBwPXtjb2RlOiJ1bmRlcmRvZ21lZGlhIixiaWRQYXJhbXM6W10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIG49ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcztyZXR1cm4hIShlLnBhcmFtcyYmZS5wYXJhbXMuc2l0ZUlkJiZuJiYwPG4ubGVuZ3RoKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe3ZhciB0PVtdLHM9MDtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplczt0PWQuZmxhdHRlbih0LGQucGFyc2VTaXplc0lucHV0KG4pKSxzPWUucGFyYW1zLnNpdGVJZH0pO3ZhciBpPXt0aWQ6MSxkdDoxMCxzaWQ6cyxzaXplczp0LmpvaW4oIiwiKX07aWYobiYmbi5nZHByQ29uc2VudCYmKHZvaWQgMCE9PW4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihpLmdkcHJBcHBsaWVzPSEhbi5nZHByQ29uc2VudC5nZHByQXBwbGllcyksbi5nZHByQ29uc2VudC52ZW5kb3JEYXRhJiZuLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHMmJnZvaWQgMCE9PW4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50c1sxNTldJiYoaS5jb25zZW50R2l2ZW49ISFuLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHNbMTU5XSksdm9pZCAwIT09bi5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoaS5jb25zZW50RGF0YT1uLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxuLnVzcENvbnNlbnQmJihpLnVzcENvbnNlbnQ9bi51c3BDb25zZW50KSwhaS5nZHByQXBwbGllc3x8aS5jb25zZW50R2l2ZW4pcmV0dXJue21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vdWRtc2VydmUubmV0L3VkbS9pbWcuZmV0Y2giLGRhdGE6aSxiaWRQYXJhbXM6ZX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsbil7dmFyIHI9W107cmV0dXJuIG4uYmlkUGFyYW1zLmZvckVhY2goZnVuY3Rpb24oaSl7ZS5ib2R5Lm1pZHMuZm9yRWFjaChmdW5jdGlvbihuKXtpZighKDA8bi51c2VDb3VudCkpe24udXNlQ291bnR8fChuLnVzZUNvdW50PTApO3ZhciB0PSEwLGU9aS5tZWRpYVR5cGVzJiZpLm1lZGlhVHlwZXMuYmFubmVyJiZpLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2kubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6aS5zaXplcztpZihkLnBhcnNlU2l6ZXNJbnB1dChlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2U9PT1uLndpZHRoKyJ4IituLmhlaWdodCYmKHQ9ITEpfSksIXQpe3ZhciBzPXtyZXF1ZXN0SWQ6aS5iaWRJZCxiaWRkZXJDb2RlOnAuY29kZSxjcG06cGFyc2VGbG9hdChuLmNwbSksd2lkdGg6bi53aWR0aCxoZWlnaHQ6bi5oZWlnaHQsYWQ6bi5hZF9jb2RlX2h0bWwsY3JlYXRpdmVJZDpuLm1pZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiExLHR0bDphLmIuZ2V0Q29uZmlnKCJfYmlkZGVyVGltZW91dCIpfTtzLmNwbTw9MHx8cy5hZC5sZW5ndGg8PTB8fChuLnVzZUNvdW50Kysscy5hZCs9ZnVuY3Rpb24oZSxuLHQpe3ZhciBzPW4ubm90aWZpY2F0aW9uX3VybDtzKz1vLHMrPSI7Y2I9IitNYXRoLnJhbmRvbSgpLHMrPSI7cXFxPSIrMS9lLmNwbSxzKz0iO2hidD0iK2EuYi5nZXRDb25maWcoIl9iaWRkZXJUaW1lb3V0Iikscys9IjtzdHlsZT1hZGFwdGVyIixzKz0iO3Zpcz0iK2VuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpLHMrPSI7dHJhZmZpY19pbmZvPSIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGZ1bmN0aW9uKCl7Zm9yKHZhciBlLG49e30sdD13aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCI/IikrMSkuc3BsaXQoIiYiKSxzPTA7czx0Lmxlbmd0aDtzKyspKGU9dFtzXS5zcGxpdCgiPSIpKVswXS5tYXRjaCgvXnV0bV8vKSYmKG5bZVswXV09ZVsxXS5zdWJzdHIoMCwxNTApKTtyZXR1cm4gbn0oKSkpLHQucGFyYW1zLnN1YklkJiYocys9IjtzdWJpZD0iK2VuY29kZVVSSUNvbXBvbmVudCh0LnBhcmFtcy5zdWJJZCkpO3JldHVybic8c2NyaXB0IGFzeW5jIHNyYz0iJytzKyciPjxcL3NjcmlwdD4nfShzLG4saSksci5wdXNoKHMpKX19fSl9KSxyfX07T2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKHApfX0sWzY2N10pOwp1cGJqc0NodW5rKFs2NV0sezY3NTpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNjc2KX0sNjc2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzcGVjIixmdW5jdGlvbigpe3JldHVybiByfSk7dmFyIGk9bigxKSxhPW4oMikscj17Y29kZToidXBvIixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zLnNwYWNlfHxpc05hTihwYXJzZUZsb2F0KGUucGFyYW1zLnNwYWNlKSl8fCFpc0Zpbml0ZShlLnBhcmFtcy5zcGFjZSkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5bXTt2YXIgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaCh7bWV0aG9kOiJHRVQiLHVybDoiLy9sbi51cGFwaS5uZXQvZj9zPSIrZS5wYXJhbXMuc3BhY2UrIiZ3PSIrZS5wYXJhbXMud2Vic2l0ZSsiJmQ9IitlLmJpZElkLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6MH0sYmlkUmVxdWVzdDplfSl9KSx0fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuYm9keS5kYXRhWzBdLGk9dC5iaWRSZXF1ZXN0LHI9YXRvYihuLmNvbnRlbnQpLHM9Ii8vbG4udXBhcGkubmV0L3I/dXBvbml0PXRydWUmdD0xJnQ9NiZuPTAmaz0iK24udG9rZW47cmV0dXJuW3tyZXF1ZXN0SWQ6aS5iaWRJZCxjcG06cGFyc2VGbG9hdChuLm9wdGlvbnMuY3BtKSx3aWR0aDpwYXJzZUludChpLnNpemVzWzBdWzBdKSxoZWlnaHQ6cGFyc2VJbnQoaS5zaXplc1swXVsxXSksY3JlYXRpdmVJZDpuLmNyaWR8fDAsZGVhbElkOm4uZGVhbGlkfHwwLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsbWVkaWFUeXBlOmEuYixhZDpyLHR0bDo2ZTQscmVuZGVyUGl4ZWw6c31dfX07T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKHIpfX0sWzY3NV0pOwp1cGJqc0NodW5rKFs0OF0sezcxNTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzE2KX0sNzE2OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJCSURERVJfQ09ERSIsZnVuY3Rpb24oKXtyZXR1cm4gaX0pLHIuZCh0LCJFTkdJTkVfQkFTRV9VUkwiLGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSxyLmQodCwiVVNFUklEIixmdW5jdGlvbigpe3JldHVybiBvfSksci5kKHQsIklNUFJFU1NJT05JRCIsZnVuY3Rpb24oKXtyZXR1cm4gY30pLHIuZCh0LCJSRUZFUkVSIixmdW5jdGlvbigpe3JldHVybiBwfSksci5kKHQsIkNIQVJTRVQiLGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSxyLmQodCwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gdn0pLHQucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe2w9ITF9O3IoMCk7dmFyIGE9cigxKSxuPXIoMik7ZnVuY3Rpb24gcyhlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIGk9InlhbmRleHJ0YiIsZD0iaHR0cHM6Ly9hbi55YW5kZXgucnUvbWV0YS8iLG89ImR1aWQiLGM9ImltcC1pZCIscD0idGFyZ2V0LXJlZiIsdT0iY2hhcnNldCIsZz1bXSxsPSExLGg9WyJodHRwczovL2FuLnlhbmRleC5ydS9tYXB1aWQvYXBwbmV4dXMvIiwiaHR0cHM6Ly9zdGF0cy5tb3MucnUvZ2MveW5kLyIsImh0dHBzOi8vYW4ueWFuZGV4LnJ1L21hcHVpZC9nb29nbGUvIiwiaHR0cHM6Ly9kbWcuZGlnaXRhbHRhcmdldC5ydS8xLzExOS9pL2k/aT0xNTQ3NDY2OTk5IiwiaHR0cHM6Ly95YW5kZXgtZG1wLXN5bmMucnV0YXJnZXQucnUvc3luYyIsImh0dHBzOi8veWFuZGV4LXN5bmMucnV0YXJnZXQucnUvc3luYyIsImh0dHBzOi8veDAxLmFpZGF0YS5pby8wLmdpZj9waWQ9WUFOREVYIiwiaHR0cHM6Ly9zeW5jLjFkbXAuaW8vcGl4ZWwuZ2lmP2NpZD0zY2JjMmVjOC0xNDIxLTQ2NzctODlmZS0yYWM2ZmM1MmEwOWEmcGlkPXcmbz1hdSIsImh0dHBzOi8vcmVkaXJlY3QuZnJvbnRlbmQud2Vib3JhbWEuZnIvcmVkaXJlY3Qvc3RhbmRhcmQ/dXJsPWh0dHBzOi8vYW4ueWFuZGV4LnJ1L21hcHVpZC9kbXB3ZWJvcmFtYS97V0VCT19DSUR9IiwiaHR0cHM6Ly9wcm9maWxlLnNzcC5yYW1ibGVyLnJ1L3N5bmMzLjMwMj9waWQ9MTg4IiwiaHR0cHM6Ly9hbi55YW5kZXgucnUvbWFwdWlkL2Fkb2JlZG1wLyJdLGY9TWF0aC5sb2csYj1NYXRoLkxOMix5PU1hdGguY2x6MzJ8fGZ1bmN0aW9uKGUpe3JldHVybiAzMS1mKGU+Pj4wKS9ifDB9LG09U3RyaW5nLmZyb21DaGFyQ29kZSxfPWF0b2I7YnRvYTtmdW5jdGlvbiB4KGUpe3ZhciB0PWUuY2hhckNvZGVBdCgwKTw8MjQscj15KH50KSxhPTAsbj1lLmxlbmd0aCxzPSIiO2lmKHI8NSYmcjw9bil7Zm9yKHQ9dDw8cj4+PjI0K3IsYT0xO2E8cjsrK2EpdD10PDw2fDYzJmUuY2hhckNvZGVBdChhKTt0PD02NTUzNT9zKz1tKHQpOnQ8PTExMTQxMTE/cys9bSg1NTI5NisoKHQtPTY1NTM2KT4+MTApLDU2MzIwKygxMDIzJnQpKTphPTB9Zm9yKDthPG47KythKXMrPSLvv70iO3JldHVybiBzfXZhciB2PXtjb2RlOmksc3VwcG9ydGVkTWVkaWFUeXBlczpbbi5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbigpe3JldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUpe2cucHVzaChlWzBdKTtmb3IodmFyIHQ9W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgYTthPXcoZVtyXSksdC5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOmQrZVtyXS5wYXJhbXMudGFnSUQsZGF0YTphfSl9cmV0dXJuIHR9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHIsYSxuPVtdLHM9bmV3IFJlZ0V4cCh0LmRhdGEuY2FsbGJhY2srIlxcKCcoLio/KSdcXCkkIiwiZ20iKSxpPWUuYm9keSxkPXMuZXhlYyhpKTt0cnl7dmFyIG8sYyxwLHUsbD1KU09OLnBhcnNlKGRbMV0pO2lmKGwuZGlyZWN0JiYhbC5ydGI/KG89JzxkaXYgaWQ9InlhbmRleF9ydGJfUi1BLScrdC5kYXRhWyJ0YWctaWQiXSsiLSIrdC5kYXRhWyJpbXAtaWQiXSsiXCI+PC9kaXY+PHNjcmlwdD52YXIgcmVzcG9uc2UgPSAnIitpLnJlcGxhY2UoL1wnL2csIlxcJyIpKydcJzt2YXIgcmVhZHlTdGF0ZUdldHRlciA9IFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5fX2xvb2t1cEdldHRlcl9fKCJvbnJlYWR5c3RhdGVjaGFuZ2UiKTt2YXIgcmVhZHlTdGF0ZVNldHRlciA9IFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5fX2xvb2t1cFNldHRlcl9fKCJvbnJlYWR5c3RhdGVjaGFuZ2UiKTtYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXygib25yZWFkeXN0YXRlY2hhbmdlIixmdW5jdGlvbigpe3JldHVybiByZWFkeVN0YXRlR2V0dGVyLmNhbGwodGhpcyk7fSk7WE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLl9fZGVmaW5lU2V0dGVyX18oIm9ucmVhZHlzdGF0ZWNoYW5nZSIsZnVuY3Rpb24oYSl7cmVhZHlTdGF0ZVNldHRlci5jYWxsKHRoaXMsZnVuY3Rpb24oKXtpZih0aGlzLnN0YXR1cyA9PT0gMjAwICYmIHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkge3JlcGxhY2VXaXRoT2xkUmVzcG9uc2UocmVzcG9uc2UsIHRoaXMsIGEpO319KTt9KTt2YXIgcmVwbGFjZVdpdGhPbGRSZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3BvbnNlLCB4aHJPYmplY3QsIHhockNhbGxiYWNrKXt2YXIgbmV3Q2FsbGJhY2sgPSAvWWFbWzAtOV0rXS8uZXhlYyh4aHJPYmplY3QucmVzcG9uc2UpO3ZhciBvbGRDYWxsYmFjayA9IC9ZYVswLTldKy8uZXhlYyhyZXNwb25zZSk7aWYgKCFuZXdDYWxsYmFjayB8fCAhb2xkQ2FsbGJhY2spIHtyZXR1cm47fXJlc3BvbnNlID0gcmVzcG9uc2UucmVwbGFjZShvbGRDYWxsYmFja1swXSxuZXdDYWxsYmFja1swXSk7eGhyT2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18oInJlc3BvbnNlVGV4dCIsZnVuY3Rpb24oKXtyZXR1cm4gcmVzcG9uc2V9KTt4aHJPYmplY3QuX19kZWZpbmVHZXR0ZXJfXygicmVzcG9uc2UiLGZ1bmN0aW9uKCl7cmV0dXJuIHJlc3BvbnNlfSk7eGhyQ2FsbGJhY2suY2FsbCh4aHJPYmplY3QpO307KGZ1bmN0aW9uKHcsIGQsIG4sIHMsIHQpIHt3W25dID0gd1tuXSB8fCBbXTt3W25dLnB1c2goZnVuY3Rpb24oKSB7WWEuQ29udGV4dC5BZHZNYW5hZ2VyLnJlbmRlcih7YmxvY2tJZDogIlItQS0nK3QuZGF0YVsidGFnLWlkIl0rIi0iK3QuZGF0YVsiaW1wLWlkIl0rJyIscmVuZGVyVG86ICJ5YW5kZXhfcnRiX1ItQS0nK3QuZGF0YVsidGFnLWlkIl0rIi0iK3QuZGF0YVsiaW1wLWlkIl0rJyIsYXN5bmM6IHRydWV9KTt9KTt0ID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IilbMF07cyA9IGQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7cy50eXBlID0gInRleHQvamF2YXNjcmlwdCI7cy5zcmMgPSAiLy9hbi55YW5kZXgucnUvc3lzdGVtL2NvbnRleHQuanMiO3MuYXN5bmMgPSB0cnVlO3QucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocywgdCk7fSkodGhpcywgdGhpcy5kb2N1bWVudCwgInlhbmRleENvbnRleHRBc3luY0NhbGxiYWNrcyIpOzxcL3NjcmlwdD4nLGM9MSk6KGM9bC5zZXR0aW5nc1tPYmplY3Qua2V5cyhsLnNldHRpbmdzKVswXV0uYmFubmVySWRzLHI9bC5ydGIuaHRtbC5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSxhfHwiw6/Cu8K/IiE9PXIuc3Vic3RyaW5nKDAsMyl8fChyPXIuc3Vic3RyaW5nKDMpKSxvPV8ocikucmVwbGFjZSgvW1x4YzAtXHhmZl1bXHg4MC1ceGJmXSovZyx4KSxsLnJ0YiYmbC5ydGIuaHRtbDUmJiIiIT09bC5ydGIuYmFzZVBhdGgmJihvPW8ucmVwbGFjZSgiPGhlYWQ+IiwnPGhlYWQ+PGJhc2UgaHJlZj0iJytsLnJ0Yi5iYXNlUGF0aCsnIiAvPicpKSksbC5zZXR0aW5ncyYmbC5zZXR0aW5nc1tPYmplY3Qua2V5cyhsLnNldHRpbmdzKVswXV0udmlld05vdGljZXMpe3U9bC5zZXR0aW5nc1tPYmplY3Qua2V5cyhsLnNldHRpbmdzKVswXV0udmlld05vdGljZXM7Zm9yKHZhciBoPTA7aDx1Lmxlbmd0aDtoKyspbz1vKyc8c2NyaXB0Pm5ldyBJbWFnZSgpLnNyYz0iJyt1W2hdKyciOzxcL3NjcmlwdD4nfWZvcihoPTA7aDxnLmxlbmd0aDtoKyspaWYoZ1toXS5wYXJhbXMudGFnSUQ9PT10LmRhdGFbInRhZy1pZCJdJiZnW2hdLnBhcmFtcy5ibG9ja0lEPT09dC5kYXRhWyJpbXAtaWQiXSYmIWdbaF0uX191c2VkKXtnW2hdLl9fdXNlZD0hMCxwPWdbaF07YnJlYWt9bi5wdXNoKHtyZXF1ZXN0SWQ6cC5iaWRJZCxjcG06LjAxLHdpZHRoOnAuc2l6ZXNbMF1bMF0saGVpZ2h0OnAuc2l6ZXNbMF1bMV0sYWQ6byx0dGw6OTAwLGNyZWF0aXZlSWQ6YyxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QifSl9Y2F0Y2goZSl7fXJldHVybiBufSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIpe2lmKCFsKXtyJiYic3RyaW5nIj09dHlwZW9mIHIuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHIuZ2RwckFwcGxpZXM/Ij9nZHByPSIuY29uY2F0KE51bWJlcihyLmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoci5jb25zZW50U3RyaW5nKToiP2dkcHJfY29uc2VudD0iLmNvbmNhdChyLmNvbnNlbnRTdHJpbmcpKSxsPSEwO2Zvcih2YXIgYT1bXSxuPTA7bjxoLmxlbmd0aDtuKyspYS5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmhbbl19KTtyZXR1cm4gYX19fTtmdW5jdGlvbiB3KGUpe3ZhciB0LHI9ZnVuY3Rpb24oZSl7dmFyIHQ9KCI7ICIrZG9jdW1lbnQuY29va2llKS5zcGxpdCgiOyAiK2UrIj0iKTtpZigyPT10Lmxlbmd0aClyZXR1cm4gdC5wb3AoKS5zcGxpdCgiOyIpLnNoaWZ0KCl9KCJfeW1fdWlkIiksYT0iWWEiK0RhdGUubm93KCk7d2luZG93LllhU2Vzc2lvbklEPXdpbmRvdy5ZYVNlc3Npb25JRHx8KDFlNipNYXRoLnJhbmRvbSgpKS50b0ZpeGVkKDApKyhuZXcgRGF0ZSkudmFsdWVPZigpLnRvU3RyaW5nKCk7dmFyIG49KHModD17fSx1LCJ1dGYtOCIpLHModCwiZ3JhYiIsImRBbz0iKSxzKHQsImVuYWJsZS1mbGF0LWhpZ2hsaWdodCIsMSkscyh0LCJ0ZXN0LXRhZyIsODU3NjE5MDY5NjY1MzApLHModCwiYWQtc2Vzc2lvbi1pZCIsd2luZG93LllhU2Vzc2lvbklEKSxzKHQsInRhcmdldC1pZCIsU3RyaW5nKC0yNTcmTWF0aC5mbG9vcigxZTgrTWF0aC5yYW5kb20oKSooMi0xZTgpKSkpLHModCwicGNvZGUtdmVyc2lvbiIsNzMyNCkscyh0LCJmbGFzaC12ZXIiLDApLHModCwiYXZhaWxhYmxlLXdpZHRoIixkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpLHModCwiY2FsbGJhY2siLGEpLHModCwidGFnLWlkIixlLnBhcmFtcy50YWdJRCkscyh0LGMsZS5wYXJhbXMuYmxvY2tJRCkscyh0LHAsd2luZG93LmxvY2F0aW9uLmhyZWYpLHQpO3JldHVybiByJiYobltvXT13aW5kb3cuYnRvYShyKSksbn1PYmplY3QoYS5yZWdpc3RlckJpZGRlcikodil9fSxbNzE1XSk7CnVwYmpzLnByb2Nlc3NRdWV1ZSgpOw==");eval(a)}catch(b){debugger}k.cpbjs=window.upbjs};this.load=function(){k.cpbjs||(d(),a.invokeEventCallbacks("postset"))}}})(da);var xa={};(function(a){a.postsetProvider=function(a){switch(a){case "prebid":return n}};var u=M.CustomEvents,q,n=function(){q=k.cpbjs;h();try{"function"===typeof window.__cmp&&window.__cmp("getConsentData",null,function(a){if(a&&a.gdprApplies){(a=q.getConfig().consentManagement)&&GDPRConsent.usp&&(a=GDPRConsent.usp);var d={consentManagement:{gdpr:{cmpApi:"iab",
timeout:5E3,allowAuctionWithoutConsent:!0}}};a&&(d.consentManagement.usp=a);q.setConfig(d)}})}catch(d){}try{"function"===typeof window.__uspapi&&window.__uspapi("ping",1,function(a){if(a&&a.ccpaApplies){(a=q.getConfig().consentManagement)&&a.gdpr&&(a=a.gdpr);var d={consentManagement:{usp:{timeout:50}}};a&&(d.consentManagement.gdpr=a);q.setConfig(d)}})}catch(d){}q.onBeforeRequest(function(a){return D.addAcceptableParam(a)});q.aliasBidder("pulsepointLite","pulsepoint");q.aliasBidder("indexExchange",
"ix");q.aliasBidder("my6sense","upo2");q.aliasBidder("lockerdome","upo3");q.setConfig({priceGranularity:"high",userSync:{iframeEnabled:1,syncsPerBidder:25,syncEnabled:1,pixelEnabled:1}});var a=window.pbjs||window.jitaJS;a&&a.bidderSettings&&(q.bidderSettings=a.bidderSettings);u.fireEvent("addIndexExchangeWrappers")&&f();u.fireEvent("prebidDoneInit",{cpbjs:q})},h=function(){k.whitelistedFrame?q.setUpCookieFrame(k.whitelistedFrame):u.addEventListener("whitelistedFrameLoaded",function(){q.setUpCookieFrame(k.whitelistedFrame)})},
f=function(){var a={aol:"ix_aol_om",appnexus:"ix_apnx_om",beachfront:"ix_bft_cpm",colossusssp:"ix_clss_cpm",consumable:"ix_cnsm_cpm",conversant:"ix_conv_cpm",criteo:"ix_cdb_om",districtm:"ix_dism_om",districtmDMX:"ix_dis_cpm",emx_digital:"ix_brt_cpm",gumgum:"ix_gum_cpm",improvedigital:"ix_imdi_cpm",justpremium:"ix_justp_cpm",kargo:"ix_karg_om",lockerdome:"ix_lkdm_cpm",onedisplay:"ix_oath_cpm",onemobile:"ix_oath_cpm",openx:"ix_ox_om",optimera:"ix_opti_cpm",piximedia:"ix_pix_cpm",pubmatic:"ix_pubm_om",
pulsepoint:"ix_pp_om",pxyz:"ix_pxyz_cpm",quantcast:"ix_qua_cpm",rubicon:"ix_rubi_om",sharethrough:"ix_shth_cpm",sonobi:"ix_sbi_om",sovrn:"ix_sovrn_om",triplelift:"ix_tpl_cpm",trustx:"ix_trstx_cpm",indexExchange:"IOM",ix:"IOM",undertone:"ix_undr_cpm"},d=function(a){return(100*parseFloat(a)).toFixed()},f;for(f in a)q.bidderSettings[f]={adserverTargeting:[{key:a[f],val:function(a){var b=q.getConfig().priceGranularity;return"auto"===b?a.size+"_"+d(a.pbAg):"dense"===b?a.size+"_"+d(a.pbDg):"low"===b?a.size+
"_"+d(a.pbLg):"medium"===b?a.size+"_"+d(a.pbMg):"high"!==b&&"custom"===b?a.size+"_"+d(a.pbCg):a.size+"_"+d(a.pbHg)}}]}}})(xa);var J={};(function(t){var u=M.CustomEvents,q=function(f){function e(a){window.setTimeout(function(){a&&"none"==window.getComputedStyle(a).display&&a.style.removeProperty("display")},1E3)}function d(a,b){var d=u.fireEvent("blacklistAdStatement");if((!d||!d.forAll&&!d[b])&&(a=a.querySelector(".ahover")||a.querySelector('[id^="google_ads_iframe_"]'))&&!a.querySelector(".upo-label")){a.style.left||
a.style.top||a.style.right||a.style.bottom||a.style.setProperty("position","relative");a.style.setProperty("display","inline-block");a.style.setProperty("width","fit-content","important");var e=g();e.className="upo-label";a.appendChild(e);window.setTimeout(function(){e.style.opacity="1"},2E3)}}function g(){var a=document.createElement("div");a.setAttribute("style","text-align:left;padding:0px;margin:0px;position:absolute;top:0;left:0;z-index:10000;transition:opacity 1s ease-out;opacity:0;");a.innerHTML=
'<a title="Powered by Blockthrough" href="https://blockthrough.com" target="_blank" style="display:block;background:rgba(255, 255, 255, 0.7);height:fit-content;width:fit-content;top:0;left:0;color:#444;font-size:10px;font-weight:bold;font-family:sans-serif;line-height:normal;text-decoration:none;margin:0px;padding:6px;border-radius:0 0 5px 0;">&#65;&#68;</a>';return a}var b=!1,y=new D.SubscriptionLayer;this.auctionId=U.stringRange(8,9);this.unit=f.unit;this.state=q.States.UNOFFERED;this.lastUpdate=
this.creationTime=new Date;this.bids=[];this.subscribeForEvent=function(a,b){y.subscribeForEvent(a,b)};this.cancelAuction=function(){b=!0};this.getWinningBid=function(){for(var a=void 0,b=void 0,d=0;d<this.bids.length;d++){var e=this.bids[d];(!a||e.cpm>a.cpm)&&e.complianceStatus==k.consts.complianceStatus.COMPLIANT&&(a=e);if(!b||e.cpm>b.cpm)b=e}return b&&b!=a&&v(b)?b:a};this.addBids=function(a){if(a)for(var b=0;b<a.length;b++)this.bids.push(a[b])};var l=function(b){a.addClass("up-hide",b.element);
a.removeClass("up-show",b.element)},C=function(b,d){a.addClass("up-show",b.element);a.removeClass("up-hide",b.element)};this.getComplianceBids=function(){for(var a=[],b=0;b<this.bids.length;b++){var d=this.bids[b];d.complianceStatus==k.consts.complianceStatus.COMPLIANT&&a.push(d)}return a};this.renderWinningBid=function(){var a=this.getWinningBid();this.renderBid(a)};var r=function(a,b){for(var d=0;d<a.bids.length;d++){var e=a.bids[d];e!=b&&e.cancelBid()}};this.renderBid=function(a){try{if(u.fireEvent("renderBidInElementStarted",
{element:this.unit&&this.unit.element}),this.state=q.States.DONE,p(),r(this,a),this.unit.element&&(document.documentElement||document.body).contains(this.unit.element))if(!a||b)this.unit.currentBid||l(this.unit),y.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1});else{var f=u.fireEvent("guardElementWebsiteHook",{element:this.unit.element});f&&(f.elementGuarder=!1);this.unit.element.elementGuarder=!1;this.unit.cleanup();ca(this.unit.element);C(this.unit,a);this.unit.element._adData_=
T.bidDecoder(a);a.onRenderedEvent(function(){d(this.unit.element,this.unit.space.name);try{var b=this.unit.element;b.classList.contains("up-show")||b.classList.add("up-show");e(b);e(b.parentElement);e(b.parentElement.parentElement)}catch(W){h.errorf(null,"auction: bid.onRenderedEvent: ensureElementVisibility: %o",W)}y.invokeEventCallbacks("auctionRendered",a);this.unit.rendered(a);k.SharedObject.getItem("renderedUnits")||k.SharedObject.setItem("renderedUnits",[]);k.SharedObject.getItem("renderedUnits").push(this.unit)}.bind(this));
var g=v(a),f={};a.type==n.Types.PREBID&&(f.placement={parentElement:this.unit.element});g?(a.onRenderedEvent(function(){this.renderStaticAd(this.bid,this.element)}.bind({bid:a,renderStaticAd:x,element:this.unit.element})),a.renderStaticBid(f)):a.renderBid(f);this.unit.element.elementGuarder=!0;t(a);y.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!0})}else y.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1})}catch(E){h.errorf(null,"renderBid err:%o",E)}};var t=function(a){a=
a.additionalBidsToRender;for(var b=0;b<a.length;b++)a[b].renderBid()},p=function(){if(!document.getElementById("UponitHideShow")){var a=document.createElement("style");a.id="UponitHideShow";a.type="text/css";a.textContent=".up-hide { display: none !important; } .up-show { margin: 0px auto; }";(document.head||document.body||document.documentElement).appendChild(a)}},v=function(a){return u.fireEvent("forceCompliant")&&a.complianceStatus==k.consts.complianceStatus.INCOMPLIANT},x=function(a,b){b.style.setProperty("background-image",
'url("'+("//mrb.upapi.net/fc?h="+a.contentIdHash+"&upapi=true")+'")',"important");b.style.setProperty("background-repeat","no-repeat","important")},ca=function(a){a.style.removeProperty("background-image");a.style.removeProperty("background-repeat")}};q.States={UNOFFERED:0,DISPATCHED:1,DONE:3};t.Auction=q;var n=function(a,e,d,g,b,k,l,h,q){this.bidId=U.stringRange(16,24);this.ad=a.ad;this.adId=a.adId;this.adUrl=a.adUrl;this.bidderId=a.bidderId;this.bidder=a.bidder;this.bidderCode=a.bidderCode;this.contentIdHash=
a.contentIdHash;this.currency=a.currency;this.creativeId=a.creativeId;this.c=a.c;this.cpm=a.cpm;this.complianceStatus=a.complianceStatus||0;this.height=a.height;this.timeToRespond=a.timeToRespond;this.size=a.size;this.width=a.width;this.rawBid=e;this.type=d;this.status=n.Status.LIVE;this.renderBid=b;this.renderStaticBid=k;this.cancelBid=function(){this.status=n.Status.CANCELED;l&&l()};this.getGPTTargeting=function(a){return g&&g.call(this,a)};this.onRenderedEvent=h;this.makeEntryForTestCompliance=
q;this.additionalBidsToRender=[]};n.Types={EMPTY:0,PREBID:1,RTK:2,ADX:3,DFP_PREBID:4,ADSENSE:5,DIRECT:6,SMART_AS:7};n.Status={LIVE:0,CANCELED:1};t.Bid=n;var h=r.new();h.setPrefix("models: ");h.setLevel(r.DEBUG);t.Slot=function(f){this.unit=f.unit;this.auctionsList=[];this.slotName=this.unit.space.name;this.renderBid=function(b){var e=d(this.auctionsList);if(e){var f=b&&a.find(e.bids,function(a){return a.bidId==b.bidId});try{e.subscribeForEvent("renderBidDone",function(a){a.successfulyRenderedBid?
u.fireEvent("onAuctionEnded",{auction:e,bid:f}):u.fireEvent("onAuctionEnded",{auction:e})}),e.renderBid(f),e.subscribeForEvent("auctionRendered",function(){u.fireEvent("onAuctionRendered",{auction:e,bid:f});ba.onVisible(e.unit.element,function(){u.fireEvent("onAdViewed",{auction:e,bid:f})})})}catch(C){}}};this.getBids=function(){var a=d(this.auctionsList);if(a)return e(a.bids)};this.getLastAuctionBids=function(){var a=g(this.auctionsList);if(a)return e(a.bids)};var e=function(b){return a.map(b,function(a){return{bidId:a.bidId,
adId:a.adId,bidder:a.bidder,cpm:a.cpm,height:a.height,width:a.width,size:a.size,complianceStatus:a.complianceStatus}})},d=function(b){return a.find(b,function(a){return a.state!=q.States.DONE})},g=function(b){b=b.reverse();return a.find(b,function(a){return a.state==q.States.DONE})}};t.Space=function(a){this.id=a.id;this.name=a.name;this.staging=a.staging;this.selector={position:a.selector.position,value:a.selector.value};this.sizes=a.sizes;this.preBiddingSettings={enabled:!1};if(a.preBiddingSettings&&
(this.preBiddingSettings={enabled:a.preBiddingSettings.enabled,biddingSettings:{}},a.preBiddingSettings.enabled&&a.preBiddingSettings.biddingSettings))for(var e in a.preBiddingSettings.biddingSettings)if(a.preBiddingSettings.biddingSettings.hasOwnProperty(e)){var d=a.preBiddingSettings.biddingSettings[e];this.preBiddingSettings.biddingSettings[e]=[];for(var f=0;f<d.length;f++){var b=d[f];b.id&&b.name&&b.testCompliance&&b.params&&this.preBiddingSettings.biddingSettings[e].push({id:b.id,name:b.name,
testCompliance:b.testCompliance,params:b.params})}}this.postBiddingSettings={enabled:!1};if(a.postBiddingSettings&&a.postBiddingSettings.enabled)for(this.postBiddingSettings={adxId:a.postBiddingSettings.adxId,directId:a.postBiddingSettings.directId,enabled:a.postBiddingSettings.enabled,type:a.postBiddingSettings.type,order:[]},f=0;f<a.postBiddingSettings.order.length;f++)e=a.postBiddingSettings.order[f],this.postBiddingSettings.order.push({params:{keyValues:e.params.keyValues||{},queryParams:e.params.queryParams||
{}},adx:{bidderID:e.adx.bidderID,testCompliance:e.adx.testCompliance},direct:{bidderID:e.direct.bidderID,testCompliance:e.direct.testCompliance}})};t.Unit=function(a){this.unitID=U.stringRange(16,24);this.element=a.element;this.space=a.space;this.currentBid;this.countOfDispatches=0;this.lastInvokeTime;this.cleanup=function(){for(var a=this.element.children,f=[],b=0;b<a.length;b++)f.push(e(a[b]));for(b=0;b<f.length;b++)f[b]()};this.rendered=function(a){this.currentBid=a};var e=function(a){return function(){a&&
a.parentNode&&a.parentNode.removeChild(a)}}}})(J);var ya={};(function(t){var u=r.new();u.setPrefix("testCompliance: ");u.setLevel(r.DEBUG);var q=!1;try{q=window.location.href&&0<=window.location.href.indexOf("bt_tc=false")}catch(h){u.errorf(null,"testComplianceDisabled: ",h)}u.debugf(null,"test Compliance disabled? ",q);var n=M.CustomEvents;t.testBidsCompliance=function(h){var f={},e={},d=k.SharedObject.getItem("websiteID"),g={};a.forEach(h,function(a){var b=a.auction;a=a.bids;g[b.auctionId]=g[b.auctionId]||
{};for(var l=0;l<a.length;l++){var h=a[l];if(q)g[b.auctionId][h.bidId]={bid:h,result:{status:k.consts.complianceStatus.COMPLIANT}},u.debugf(null,"compliance is disabled for the current bid: ",h);else{a:{var p=b,v=h;try{if(900<=parseInt(v.width)&&200<=parseInt(v.height)&&600>parseInt(v.height)){var y=p.unit.element;if(y&&900<=ba.calculateElementOffset(y).top){var r=!1;break a}}}catch(w){}r=[{width:728,height:201},{width:120,height:601}];for(p=0;p<r.length;p++){var z=r[p];if(v.width>=z.width&&v.height>=
z.height){r=!0;break a}}r=void 0}if(r)g[b.auctionId][h.bidId]={bid:h,result:{status:k.consts.complianceStatus.INCOMPLIANT}};else if(h.complianceStatus!=k.consts.complianceStatus.UNKNOWN)g[b.auctionId][h.bidId]={bid:h,result:{status:h.complianceStatus}};else if(v=h.ad,p=h.type,-1<v.indexOf("video-box")?0:(-1<v.indexOf(".rhbodyurl")||v.indexOf("rh-image")||-1<v.indexOf("rh-title")||-1<v.indexOf(".rhbutton"))&&-1<v.indexOf(".rhurl")||-1<v.indexOf(".image-link")&&(-1<v.indexOf("call-to-action-link")||
-1<v.indexOf(".attribution"))||-1<v.indexOf(".rhprice")&&-1<v.indexOf(".rhsaleprice")&&-1<v.indexOf("gstatic.com/shopping")||-1<v.indexOf(".grid-link-container")&&-1<v.indexOf(".grid-link")||-1<v.indexOf(".rhsimpleprice")&&-1<v.indexOf(".rh-box-image")&&-1<v.indexOf("gstatic.com/shopping")||-1<v.indexOf(".product-image")&&-1<v.indexOf(".product-container")&&-1<v.indexOf("gstatic.com/shopping")||-1<v.indexOf("logoMCImageWidth")&&-1===v.indexOf("-webkit-animation")||-1<v.indexOf("productBannerSlot")&&
-1<v.indexOf("logoBackColorDerived")||-1<v.indexOf("googletag.pubads().definePassback(")&&p==J.Bid.Types.ADX||-1<v.indexOf("js/adsbygoogle.js")&&(-1<v.indexOf('data-ad-format="link"')||v.indexOf('data-ad-type="text"')))g[b.auctionId][h.bidId]={bid:h,result:{status:k.consts.complianceStatus.COMPLIANT}};else{a:{switch(h.bidderCode){case "adyoulike":case "ntv":case "upo":case "upo2":case "upo3":case "upo4":case "upo5":case "upo6":case "my6sense":case "lockerdome":case "sharethrough":v=!0;break a}v=!1}if(v)g[b.auctionId][h.bidId]=
{bid:h,result:{status:k.consts.complianceStatus.COMPLIANT}};else if(v=h,v="triplelift"===v.bidderCode&&v.ad&&-1<v.ad.indexOf("tl_auction_response")&&-1<v.ad.indexOf("advertiser_name")&&-1<v.ad.indexOf("heading")&&-1===v.ad.indexOf("VAST version")&&-1===v.ad.indexOf("vast_xml")?!0:void 0,v)g[b.auctionId][h.bidId]={bid:h,result:{status:k.consts.complianceStatus.COMPLIANT}};else if(v=n.fireEvent("customComplianceCheck",{bid:T.bidDecoder(h)}))g[b.auctionId][h.bidId]={bid:h,result:{status:v}};else{g[b.auctionId][h.bidId]=
{bid:h,result:{status:void 0}};v=h.makeEntryForTestCompliance();v.auctionID=b.auctionId;v.spaceExternalID=b.unit.space.id;v.websiteID=d;v.cpm=h.cpm;p=v;if(p.markup&&-1<p.markup.indexOf("://secure.ace.advertising.com/"))try{var t="https://secure.ace.advertising.com/site="+p.markup.split("Site: '")[1].split("'")[0]+"/size="+p.markup.split("Size: '")[1].split("'")[0]+"/rip="+p.markup.split("/rip=")[1].split("/")[0];t&&(p.markup='\x3c!-- "'+t+'"--\x3e'+p.markup)}catch(w){}p.markup&&!p.url&&-1===p.markup.indexOf("<body")&&
(p.markup="<body>"+p.markup+"</body>");p=U.stringRange(5,8);f[p]=v;e[p]=h}}}}});if(0>=Object.keys(f).length){for(var b in g)if(g.hasOwnProperty(b)){h=g[b];for(var y in h)h.hasOwnProperty(y)&&(g[b][y]=h[y].result)}return a.CPromise.resolve(g)}return S.Home.testCompliance(f).then(function(a){var b;for(b in a)if(a.hasOwnProperty(b)){var d=f[b].auctionID;var l=g[d][e[b].bidId];l.result.status=a[b].status;l.result.bidContentIdHash=a[b].id}for(d in g)if(g.hasOwnProperty(d)){a=g[d];for(var k in a)a.hasOwnProperty(k)&&
(g[d][k]=a[k].result)}return g})}})(ya);var Da={};(function(k){var u=r.new();u.setPrefix("postbidding: ");u.setLevel(r.INFO);var q=new function(){var f=!1,e=new D.SubscriptionLayer,d=function(){f||(f=!0,h.subscribeForEvent("refresh",function(a){e.invokeEventCallbacks("refresh",a)}),h.subscribeForEvent("bidReceived",function(a){e.invokeEventCallbacks("bidReceived",a)}))};this.subscribeForEvent=function(a,b){e.subscribeForEvent(a,b)};this.dispatch=function(e,b){d();var f=[];a.forEach(e,function(a){f.push({asAdUnit:a,
promise:void 0})});for(var g={},k=0;k<e.length;k++){var n=e[k];g[n.type]=g[n.type]||[];g[n.type].push(n)}for(var r in g)if(r=parseInt(r),g.hasOwnProperty(r)){var p=g[r];e=b&&b[r];a:{switch(r){case q.Types.DFP:e=h.dispatch(p,e);break a}e=void 0}a.forEach(e,function(b,d){var e=p[d];a.find(f,function(a){return a.asAdUnit==e}).promise=b})}return a.map(f,function(a){return a.promise})}};q.Types={UNKNOWN:0,DFP:1,SMART_AS:2};k.AdServer=q;u=r.new();u.setPrefix("dfpAdapter: ");u.setLevel(r.DEBUG);var n=M.CustomEvents,
h=new function(){var f=!1,e={},d={},g={},b=[],k=[],l=new D.SubscriptionLayer,h={_type_:0,_expandable_:1,_afc_expandable_:2,_snippet_:4,_height_:5,_width_:6,_empty_:7,_is_afc_:8,_fluid_:9,_persistent_for_stream_:10,_use_safe_frame_:11,_use_sandbox_:12,_cookies_:13,_creative_ids_:14,_adgroup2_ids_:15,_advertiser_ids_:16,_campaign_ids_:17,_yield_group_ids_:18,_company_ids_:19,_creative_template_ids_:21,_host_page_libraries_:22,_is_3pas_:25,_a_exps_:26,_resources_:27,_margin_render_:28,_pvtoken_:32,_qqid_:33,
_breakglass_mode_:35,_generate_slot_:39,_rereq_:43,_ntis_:44,_safe_frame_uid_:46};this.init=function(){if(!f&&(f=!0,ta(),!document.getElementById("up-gpt-stylesheet"))){var a=document.createElement("style");a.id="up-gpt-stylesheet";a.type="text/css";a.textContent=".up-gpt-static { opacity: 0.001 !important; }";(document.head||document.body||document.documentElement).appendChild(a)}};this.dispatch=function(c,b){try{this.init();var f=[];n.fireEvent("onBeforeDfpRefreshDispatch");a.forEach(c,function(c){var b=
new a.CDefer;f.push(b.promise);e[c.slotElementId]={asAdUnit:c,deferred:b};b=new a.CDefer;d[c.slotElementId]=b});window.googletag.cmd.push(function(){try{u.debugf(null,"onAdsRequestPrepareStarted");var b=window.googletag.pubads().getSlots(),d=[];a.forEach(b,function(b){a.forEach(c,function(a,c){c=b.getSlotElementId();if(c===a.slotElementId){d.push(b);var e=U.stringRange(16,24);g[e]=c;b.setTargeting("uponitSlotIterationId",e);n.fireEvent("preTargetingSetting",{dfpSlot:b});c=a.params.keyValuesParams.toRemove;
for(e=0;e<c.length;e++)b.clearTargeting(c[e]);b.__up_display||(b.__up_display=!0,window.googletag.display(a.slotElementId));c=a.params.keyValuesParams.toAdd;for(var f in c)c.hasOwnProperty(f)&&b.setTargeting(f,c[f]);if(window.uponit&&window.uponit.modifiers&&window.uponit.modifiers.dfpTargeting&&0<window.uponit.modifiers.dfpTargeting.length)try{var m=window.uponit.modifiers.dfpTargeting;for(f=0;f<m.length;f++){var k=b.getTargetingMap();c={};for(var l in k)c[l]=k[l];e=null;!a||void 0==a.floorPrice&&
null==a.floorPrice||(e=a.floorPrice);var h=m[f](c,b,e);if(h)for(l in h)k[l]&&k[l]===h[l]||b.setTargeting(l,h[l])}}catch(La){}b.setForceSafeFrame(!0);b.setCollapseEmptyDiv(!1)}})});u.debugf(null,"onAdsRequestSlotsPrepare - slots: %o",p(d));q(d);if(n.fireEvent("forceNotSingleRequestRefresh"))for(b=0;b<d.length;b++){var e=d[b];window.googletag.pubads().refresh([e],void 0,!0)}else window.googletag.pubads().refresh(d,void 0,!0)}catch(Ja){}});return f}catch(Ba){r.criticalf("google cmd function failed: %o",
Ba)}};var q=function(c){a.forEach(c,function(a){a.setTargeting("upstdfp",!0)})},x=function(a){var c=[];try{for(var b=0;b<a.length;b++){var d=a[b];"fluid"===d?c.push(d):c.push([d.getWidth(),d.getHeight()])}}catch(la){u.errorf(null,"getNormalizedDfpSizes errored - %o",la)}return c},p=function(a){var c=[];try{for(var b=0;b<a.length;b++){var d=a[b];c.push({elementId:d.getSlotElementId(),dfpAdUnitPath:d.getAdUnitPath(),sizes:x(d.getSizes()),targetingMap:d.getTargetingMap()})}}catch(la){u.errorf(null,"getNormalizedDFPAdSlots errored - %o",
la)}return c},v=function(c){a.forEach(c,function(a){a.clearTargeting("upstdfp")})},L=function(c,b){if(-1<b.indexOf("fluid")){var d=a.map(b,function(a){return"fluid"!=a&&a.getWidth()});b=a.map(b,function(a){return"fluid"!=a&&a.getHeight()});d=a.filter(d,function(a){return void 0!=a});b=a.filter(b,function(a){return void 0!=a});d=a.reduce(d,function(a,c){return Math.max(a,c)});b=a.reduce(b,function(a,c){return Math.max(a,c)});return!(c._width_<=d&&c._height_<=b)}d=c._width_;c=c._height_;for(var e=0;e<
b.length;e++){var f=b[e];if(f.getWidth()==d&&f.getHeight()==c)return!1}return!0},ca=function(a){return a?/\.(renderAd|renderAdNew)\(document,(\s+)?['"][a-zA-Z0-9\-_]+['"]/gm.test(a)||/apstag\.renderImp\(document,/gm.test(a)||/"hb_adid":[\s\r\n\t]{0,9}?\["[a-z-A-Z0-9\-_]+"\]/gm.test(a)||/ucTagData\.ad[Ii]d(:?\s+)?=(:?\s+)?['"]([a-zA-Z0-9\-_]+)['"]/gm.test(a)||-1<a.indexOf("districtm_adslot = ")||n.fireEvent("isPrebidResponse",{str:a})?!0:!1:!1},z=function(a,c,b,d){a&&a._html_&&-1<a._html_.indexOf("googletag.pubads().definePassback(")&&
(a._html_=a._html_.replace(").setTargeting('",").setTargeting('up_recovery','true').setTargeting('"),a._html_=a._html_.replace(').setTargeting("',').setTargeting("up_recovery","true").setTargeting("'));a&&a._html_&&-1===a._html_.indexOf("ca-pub-15988")&&(a._html_=a._html_.replace("data-ad-slot=",'data-ad-type="text" data-ad-slot=').replace("data-ad-client\\x3d","data-ad-type\\x3d\\x22text\\x22 data-ad-client\\x3d").replace('google_ad_client = "ca-pub','google_ad_type = "text";google_ad_client = "ca-pub'));
(c=n.fireEvent("dfpResponseCustomReplace",{googleReponse:a,googleFrame:d,googleSlot:c}))&&(a=c);a&&0===a._height_&&0===a._width_&&d&&d.parentElement&&(a._height_=parseInt(window.getComputedStyle(d.parentElement).height),a._width_=parseInt(window.getComputedStyle(d.parentElement).width));if((!a._height_||!a._width_)&&0<b.length)for(d=0;d<b.length;d++)if(c=b[d],"fluid"!=c&&120<=c.getWidth()){a._width_=parseInt(c.getWidth());a._height_=parseInt(c.getHeight());break}},B=function(a){var c=a._html_;return a._empty_?
J.Bid.Types.EMPTY:ca(c)?J.Bid.Types.DFP_PREBID:a._is_afc_?J.Bid.Types.ADX:-1<c.indexOf("js/adsbygoogle.js")||-1<c.indexOf("pagead/show_ads.js")?J.Bid.Types.ADSENSE:J.Bid.Types.DIRECT},w=function(a,c){switch(a){case J.Bid.Types.ADSENSE:case J.Bid.Types.ADX:return c.adxBidderId;case J.Bid.Types.DIRECT:return c.directBidderId}},E=function(a,c){b.push(c);a._html_=n.fireEvent("CustomPrebidHTMLModification",a._html_)||a._html_.replace("w.parent","window").replace(/pbjs/gm,"upbjs").replace(/renderAd/gm,
"renderAdNew")},W=function(a){var c=a.getSlotElementId(),c=D.escapeSelector("#"+c),b=b||document.querySelector(c+' [id^="google_ads_iframe_"]');return b=n.fireEvent("customInnerContainer",{googleSlot:a})||b},Q=function(c,b,f){try{if(c){for(var g={},m=[],h=0;h<c.length;h++){var G=c[h].response,A=c[h].slot;if(A){var p=b[h],aa=A.getSlotElementId(),Q;for(Q in G)if(G.hasOwnProperty(Q)){var q=G[Q];n.fireEvent("bidReceivedDfp",{slot:A,bid:q});var K=new a.CDefer;g[aa]=K;m.push(K.promise);var ia=e[aa],v=W(A);
z(q,A,p,v);if(N(q,A,p))g[aa].resolve({injectToDom:!1}),ia.deferred.resolve({auctionId:ia.asAdUnit.auctionId,bids:[]});else{ca(q._html_)&&E(q,aa);var r=B(q),y=n.fireEvent("forceCompliant")||!1,t=q._html_,u=w(r,ia.asAdUnit.params);a:{try{if(y&&r==J.Bid.Types.DIRECT&&q._adgroup2_ids_&&q._adgroup2_ids_[0]&&q._creative_ids_&&q._creative_ids_[0]){var Y=q._adgroup2_ids_[0].toString()+"_"+q._creative_ids_[0].toString();break a}}catch(za){}Y=void 0}var ua=new J.Bid({ad:t,adId:null,bidder:"gad",bidderId:u,
bidderCode:"gad",creativeId:Y,width:q._width_,height:q._height_,cpm:ia.asAdUnit.floorPrice+.01},q.originalResponse,r,void 0,function(c){return function(){var b=g[c];this.onRenderedEvent(function(){var b=document.getElementById(c).querySelector('div[id^="google_ads_"]');a.removeClass("up-gpt-static",b)});"unresolved"==b.fate&&b.resolve({injectToDom:!0})}}(aa),function(c){return function(){var b=g[c];this.onRenderedEvent(function(){var b=document.getElementById(c).querySelector('div[id^="google_ads_"]');
a.addClass("up-gpt-static",b)});"unresolved"==b.fate&&b.resolve({injectToDom:!0})}}(aa),function(a){return function(){var c=g[a];"unresolved"==c.fate&&c.resolve({injectToDom:!1})}}(aa),function(a){return function(c){d[a].promise.then(function(){c()})}}(aa),function(){return f(this)});ia.deferred.resolve({auctionId:ia.asAdUnit.auctionId,bids:[ua]});l.invokeEventCallbacks("bidReceived",{auctionId:ia.asAdUnit.auctionId,bid:ua})}}}else m.push(a.CPromise.resolve({injectToDom:!1}))}return a.CPromise.all(m).then(function(a){try{for(var c=
[],b=0;b<this.uponitGoogletagResponeses.length;b++){var d=this.uponitGoogletagResponeses[b].response,e=Object.keys(d)[0],f=this.uponitGoogletagResponeses[b].slot,g=f&&f.getSlotElementId();a[b]&&!a[b].injectToDom&&(g&&k.push(g),d[e]._html_="",d[e]._empty_=!0,d[e]._width_=1,d[e]._height_=1);c.push(d)}return c}catch(Na){}}.bind({uponitGoogletagResponeses:c,deferredsPromises:m}))}}catch(za){}},K=function(a){return{bidderExternalID:a.bidderId,url:a.adUrl,domain:window.location.host,hint:{provider:a.type==
J.Bid.Types.DIRECT?"dfp_direct":a.bidderCode,uid:a.creativeId},width:parseInt(a.width),height:parseInt(a.height)}},A=function(a){var c=K(a);c.markup=a.ad.replace(/\\(n|r|\\)/g,function(a,c){return"n"==c?"\n":"r"==c?"\r":"\\"});return c},N=function(a,c,b){if(!a||a&&!a._html_)return!0;var d=m([c]),e=a._empty_;var f=a._html_;f=-1<f.indexOf("google-native-video")||-1<f.indexOf("imasdk.googleapis.com/formats/outstream")||-1<f.indexOf("video-in-display")||-1<f.indexOf("vix.eu.criteo.net/concat")||-1<f.indexOf(".video-container")&&
(-1<f.indexOf("video-box")||-1<f.indexOf("googlevideo.com"))||-1<f.indexOf("product-video")&&-1<f.indexOf("googlevideo.com")||-1<f.indexOf("twoOfTwoVertical")&&-1<f.indexOf("animation-container")||-1<f.indexOf("animation:text2Frames")&&-1<f.indexOf("-webkit-animation")?!0:!1;b="text"==d.ad_type&&!ca(a._html_)&&L(a,b);a=D.isUnacceptable("#"+c.getSlotElementId(),{width:a._width_,height:a._height_});return e||f||b||a},c=function(a,c){a=a.replace(/[\[\]]/g,"\\$&");return(a=(new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)")).exec(c))?
a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},G=function(a,c){return(a=(new RegExp("(^|[&])"+a+"(=([^&#]*)|&|#|$)")).exec(c))?a[3]?decodeURIComponent(a[3].replace(/\+/g," ")):"":null},m=function(a){try{for(var c={},b=0;b<a.length;b++){var d=e[a[b].getSlotElementId()].asAdUnit;if(d&&d.params&&d.params.queryParams)for(var f in d.params.queryParams)d.params.queryParams.hasOwnProperty(f)&&(c[f]=d.params.queryParams[f])}return c}catch(Ca){}},Y=function(a,c){a=a.split("\n");for(var b=[],d=0;d<
a.length;d++){var e=a[d];if(0===d%2&&""!=e){try{var f=window.JSON.parse(e)}catch(ga){}var e=f[Object.keys(f)[0]],g={};if(3==c){try{for(var m in h)if(h.hasOwnProperty(m)){var k=h[m];"undefined"!==typeof e[k]&&null!==e[k]&&(g[m]=1==e[k]?!0:0==e[k]?!1:e[k])}}catch(ga){}f[Object.keys(f)[0]]=g}b.push(f)}else if(0!==d%2){var g=b[b.length-1],l=Object.keys(g)[0];g[l]._html_=e}}1==b.length&&(b=b[0]);return b},oa=function(a){var c={};a:if(0!==a.indexOf("{"))var b=1;else{try{var d=JSON.parse(a.split("\n")[0]);
b=Array.isArray(d[Object.keys(d)[0]])?3:2;break a}catch(la){}b=0}switch(b){case 1:a=a.substring(a.indexOf("(")+1,a.lastIndexOf(")")).replace(/\\x/g,"\\u00");try{c.data=window.JSON.parse(a),c.type=1}catch(la){}break;case 2:c.data=Y(a,2);c.type=2;break;case 3:c.data=Y(a,3),c.type=3}c.isArray=Array.isArray(c.data);c.isArray||(c.data=[c.data]);return c},pa=function(c,b){var d=[];a.forEach(c,function(c){var b={},e=Object.keys(c)[0],f=c[e];b[e]={originalResponse:c,_html_:qa(f),_empty_:f._empty_,_width_:f._width_,
_height_:f._height_,_is_afc_:f._is_afc_,_adgroup2_ids_:f._adgroup2_ids_&&0<f._adgroup2_ids_.length&&a.map(f._adgroup2_ids_,function(a){return a}),_creative_ids_:f._creative_ids_&&0<f._creative_ids_.length&&a.map(f._creative_ids_,function(a){return a})};d.push(b)});return d},qa=function(a){return a._enc_&&a._enc_._html_?atob(a._enc_._html_):a._html_},F=function(a,c){c.__defineGetter__("responseText",function(){return a});c.__defineGetter__("response",function(){return a});c.__defineGetter__("status",
function(){return 200});c.__defineGetter__("readyState",function(){return 4})},H=function(a){if(a=/googletag.impl.pubads.callbackProxy(\d+)/gm.exec(a))return a[1]},I=function(c,b,d,e,f){return new a.CPromise(function(g,m){try{var k=pa(c,b),l=a.map(k,function(a,c){if(-1<d.indexOf(c))return b[c]}),h=a.map(k,function(a,c){return{slot:l[c],response:a}});Q(h,e,f).then(function(c){try{a.forEach(c,function(a){var c=Object.keys(a)[0],b=a[c].originalResponse[c];a=a[c];b._enc_&&b._enc_._html_?b.enc._html_=
btoa(a._html_):b._html_=a._html_;b._empty_=a._empty_;b._width_=a._width_;b._height_=a._height_});var b=a.map(c,function(a){return a[Object.keys(a)[0]].originalResponse});a.forEach(b,function(a){var c=Object.keys(a)[0];a[c]._use_safe_frame_=!0});g(b)}catch(Ka){}})}catch(ga){}})},M=function(a,c){if(c=m(c))for(var b in c)if(c.hasOwnProperty(b)){var d=c[b];0>a.indexOf("?")?a=a+"?"+b+"="+d:0>a.indexOf("&"+b+"=")&&0>a.indexOf("?"+b+"=")&&(a=a+"&"+b+"="+d)}return a},P=function(a){var b=[],d=c("scp",a);d||
(d=c("prev_scp",a));if(d){a=d.split("|");for(d=0;d<a.length;d++){var e=G("uponitSlotIterationId",a[d]);g[e]&&b.push(g[e])}return b}},T=function(a){for(var c=[],b=window.googletag.pubads().getSlots(),d=0;d<b.length;d++)for(var e=b[d],f=0;f<a.length;f++){var g=a[f];e.getSlotElementId()==g&&c.push(e)}return c},S=function(a){return function(c){switch(a){case 1:var b=K(c);b.markup=c.ad;return b;case 2:case 3:return A(c)}}},R=function(c,b,d,e){u.debugf(null,"onAdsServerResponse - slots: %o, relevantIndexes: %o",
p(b),d);return new a.CPromise(function(a,f){try{var g=oa(c.responseText),m=g.data,k=g.type,l=g.isArray,G=S(k);I(m,b,d,e,G).then(function(b){l||(b=b[0]);a:{switch(k){case 1:var d="",e=H(c.responseText);try{d=JSON.stringify(b)}catch(Ea){}b="googletag.impl.pubads.callbackProxy"+e+"("+d+")";break a;case 2:case 3:d="";l||(b=[b]);for(var f=0;f<b.length;f++){var g=b[f],m=g[Object.keys(g)[0]],G=m._html_;delete m._html_;if(3==k){var w=[];try{for(e in h)h.hasOwnProperty(e)&&(w[h[e]]=1==m[e]?1:0==m[e]?0:m[e]);
g[Object.keys(g)[0]]=w}catch(Ea){}}try{d=d+JSON.stringify(g)+"\n"+G+"\n"}catch(Ea){}}b=d;break a}b=void 0}F(b,c);a()})}catch(ha){r.criticalf(null,"handleReponsesFromXHR errored: %o",ha)}})},V=function(a){var b=[],d=["21063911","21063048","21063670","21063817","21063671"],e=c("eid",a);if(!e)return a;for(var e=e.split(","),f=0;f<e.length;f++){var g=e[f];0>d.indexOf(g)&&b.push(g)}return a=a.replace(/&eid=[^&]+&/g,"&eid="+encodeURIComponent(b.join(","))+"&")},ba=function(b){var d=c("sz",b);d||(d=c("prev_iu_szs",
b));if(d)return b=d.split(","),b=a.map(b,function(a){return a.split("|")}),b=a.map(b,function(c,b){return a.map(c,function(a){a=a.split("x");return{width:parseInt(a[0]),height:parseInt(a[1])}})})},da=function(c){return a.map(c,function(a){var c={getWidth:function(){return a.width},getHeight:function(){return a.height}};320==a.width&&50==a.height&&(c="fluid");return c})},ka=function(c,b,d){try{if(c){if(-1<c.indexOf("&sz="))var e="sz";else if(-1<c.indexOf("&prev_iu_szs="))e="prev_iu_szs";else return;
var f=ba(c);if(f){var g=a.filter(f,function(a,c){return-1<d.indexOf(c)});modifiedSizesPerSlot=[];modifiedSizesGoogletagFormat=[];var m=n.fireEvent("removeSizesDfpConfig");if(m)var k=m.forAll||[],g=a.map(g,function(d,e){e=b[e].getSlotElementId();var f=(m[e]||[]).concat(k),f=a.map(f,function(a){return"fluid"==a?(c=c.replace(/fluid=(.*?)&/g,""),{width:320,height:50}):a});return a.filter(d,function(c){return!a.find(f,function(a){return a.width==c.width&&a.height==c.height})})});a.forEach(g,function(c,
d){d=b[d].getSlotElementId();c=D.sizesReplacer("#"+d,c);c=a.filter(c,function(a){return!!a});modifiedSizesPerSlot.push(c);c=da(c);modifiedSizesGoogletagFormat.push(c)});var l=0,h=a.map(f,function(a,c){if(0>d.indexOf(c))return a;a=modifiedSizesPerSlot[l];l++;return a});var G=a.map(h,function(c){return a.map(c,function(a){return a.width+"x"+a.height})});G=a.map(G,function(a){return a.join("|")});G=G.join(",");c=c.replace(new RegExp("&"+e+"=[^&]+&","g"),"&"+e+"="+encodeURIComponent(G)+"&");return{url:c,
modifiedSizes:modifiedSizesGoogletagFormat}}}}catch(ha){return{url:c,modifiedSizes:a.map(b,function(a){return a.getSizes()})}}},ea=function(a){var b=[],d=c("scp",a);d||(d=c("prev_scp",a));if(d){a=c("csp",a);if(a){var e=G("upstdfp",a);u.debugf(null,"onCommonSlotTargetDetected - upstdfp: %o",e)}d=d.split("|");for(a=0;a<d.length;a++){var f=d[a];(e||G("upstdfp",f))&&b.push(a)}return b}},Z=function(){t.Hooks.addEventListener(t.Hooks.Types.XHR_OPEN_PRE,function(a){try{var c=a.data;if(Aa(c[1])){var b=P(c[1]),
d=T(b),e=ea(c[1]);v(d);c[1]=D.addAcceptableParam(c[1]);c[1]=M(c[1],d);sizeReplacmentObj=ka(c[1],d,e);c[1]=sizeReplacmentObj.url;var f=sizeReplacmentObj.modifiedSizes;c[1]=V(c[1]);n.fireEvent("onBeforeDfpAdsRequest",{url:c[1]});u.debugf(null,"onDfpAdsRequest - url: %s, slots: %o, relevantIndexes: %o",c[1],p(d),e);var g=null,m=null,k=this,l=!1;this.onload=function(){try{g&&!l&&(l=!0,R(k,d,e,f).then(function(){g.call(k)}))}catch(ga){}};this.onreadystatechange=function(a){try{m&&!l&&4===this.readyState&&
(200===this.status?(l=!0,R(k,d,e,f).then(function(){m.call(k,a)})):u.criticalf(null,"onDfpAdsRequestError, status: %s, responseText: %s",this.status,this.responseText))}catch(ha){u.criticalf(null,"onReadyStateChangeError, err %o",ha)}};this.__defineGetter__("onload",function(){return g});this.__defineSetter__("onload",function(a){return g=a});this.__defineGetter__("onreadystatechange",function(){return m});this.__defineSetter__("onreadystatechange",function(a){return m=a})}}catch(ga){}});t.Hooks.addEventListener(t.Hooks.Types.INSERT_BEFORE_PRE,
function(a){a=a.data;if(Aa(a[0].src)){var c=P(a[0].src),b=T(c),d=ea(a[0].src);v(b);a[0].src=D.addAcceptableParam(a[0].src);a[0].src=M(a[0].src,b);sizeReplacmentObj=ka(a[0].src,b,d);a[0].src=sizeReplacmentObj.url;var e=sizeReplacmentObj.modifiedSizes;a[0].src=V(a[0].src);n.fireEvent("onBeforeDfpAdsRequest",{url:a[0].src});if(a=H(a[0].src)){var f=window.googletag.impl.pubads["callbackProxy"+a];window.googletag.impl.pubads["callbackProxy"+a]=function(a){var c=Array.isArray(a);c||(a=[a]);var g=S(1);I(a,
b,d,e,g).then(function(b){c||(a=b[0]);f(a)})}}}})},Aa=function(a){try{return a&&-1<a.indexOf("doubleclick.net/gampad/ads")&&-1<a.indexOf("upstdfp")}catch(ua){debugger}};this.subscribeForEvent=function(a,c){l.subscribeForEvent(a,c)};var ma=function(){top.googletag.pubads().addEventListener("slotRenderEnded",function(a){var c=a.slot;a=c.getSlotElementId();c=W(c);if(0<=k.indexOf(a))k.splice(k.indexOf(a),1);else{var e=d[a];e&&"unresolved"==e.fate&&e.resolve();if(-1<b.indexOf(a)){b.splice(b.indexOf(a),
1);try{c.style.width="1px",c.style.height="1px",c.querySelector("iframe").width="1",c.querySelector("iframe").height="1"}catch(Ba){}}}})},sa=function(){var a=window.googletag.pubads().refresh;window.googletag.pubads().refresh=function(c,b,d){u.debugf(null,"onGoogleTagRefreshInvoked - info: %o",{slots:p(c),settings:b,isRefreshInvokedByUs:d});if(d)return c?a(c,b):a();c||(c=window.googletag.pubads().getSlots());b=[];for(d=0;d<c.length;d++){var e=c[d].getSlotElementId();e&&b.push(e)}l.invokeEventCallbacks("refresh",
b)}},ta=function(){var a="push";window.googletag.cmd.unshift&&(a="unshift");window.googletag.cmd[a](function(){n.fireEvent("shouldNotWrapGoogleTagRefresh")||sa();ma();Z(top)})}};k.DfpAdapter=h})(Da);var Fa={};(function(t){var u=r.new();u.setPrefix("prebidding: ");u.setLevel(r.INFO);var q=new function(){var d=!1,e=new D.SubscriptionLayer,b=function(){d&&(d=!1);d=!0;h.subscribeForEvent("refresh",function(a){e.invokeEventCallbacks("refresh",a)});h.subscribeForEvent("bidReceived",function(a){e.invokeEventCallbacks("bidReceived",
a)})};this.subscribeForEvent=function(a,b){e.subscribeForEvent(a,b)};this.dispatch=function(d,e){b();var f=[],g={};a.forEach(d,function(a){f.push({hbAdUnit:a,promises:[]});var b=a.biddingSettings;for(d in b){var d=parseInt(d);if(b.hasOwnProperty(d)){var e=b[d];e&&0<e.length&&(g[d]=g[d]||[],g[d].push({biddersSettings:e,auctionId:a.auctionId,spaceName:a.spaceName,sizes:a.sizes,selector:a.selector}))}}});for(var k in g)if(k=parseInt(k),g.hasOwnProperty(k)){var l=g[k];d=e&&e[k];a:{switch(k){case q.Types.PREBID:d=
h.dispatch(l,d);break a}d=void 0}a.forEach(d,function(b,d){a.find(f,function(a){return a.hbAdUnit.auctionId==l[d].auctionId}).promises.push(b)})}return a.map(f,function(b){return a.CPromise.all(b.promises).then(function(d){d=a.map(d,function(a){return a.bids});return{auctionId:b.hbAdUnit.auctionId,bids:a.flat(d)}})})}};q.Types={UNKNOWN:0,PREBID:1,RTK:2};t.HB=q;var n=M.CustomEvents,h=new function(){var d=!1,g={},b={},h=new D.SubscriptionLayer;this.subscribeForEvent=function(a,b){h.subscribeForEvent(a,
b)};this.dispatch=function(b){try{d||(d=!0,g=k.cpbjs,F(),n.fireEvent("wrapPrebidRequestBids")&&B(),W());var e={};a.forEach(b,function(c){e[c.spaceName]={hbAdUnit:c,deferred:new a.CDefer}});var f=t(b),w=n.fireEvent("prebidTimeout")||3E3;l();g.requestBids({timeout:w,adUnits:f,bidsBackHandler:function(c){try{for(var b in e)if(e.hasOwnProperty(b)){var d=e[b],f=d.hbAdUnit,g=c[b],k=[];g&&(k=v(g,d.hbAdUnit));d.deferred.resolve({auctionId:f.auctionId,bids:k});a.forEach(k,function(a){h.invokeEventCallbacks("bidReceived",
{auctionId:f.auctionId,bid:a})})}}catch(Ia){}}});b=[];for(var c in e)e.hasOwnProperty(c)&&b.push(e[c].deferred.promise);return b}catch(G){}};var l=function(){if(g.bidderSettings&&g.bidderSettings.standard&&g.bidderSettings.standard.adserverTargeting){var b=!!a.find(g.bidderSettings.standard.adserverTargeting,function(a){return"hb_pb_org"==a.key}),d=!!a.find(g.bidderSettings.standard.adserverTargeting,function(a){return"hb_pb"==a.key});!b&&d&&g.bidderSettings.standard.adserverTargeting.push({key:"hb_pb_org",
val:function(a){var b=g.getConfig().priceGranularity;return"auto"===b?a.pbAg:"dense"===b?a.pbDg:"low"===b?a.pbLg:"medium"===b?a.pbMg:"high"!==b&&"custom"===b?a.pbCg:a.pbHg}})}},q=function(a){var b=a.split("x");if(2!==b.length)throw Error();a=parseInt(b[0]);b=parseInt(b[1]);if(isNaN(a)||isNaN(b))throw Error();return{width:a,height:b}},r=function(b){for(var d=[],e=0;e<b.sizes.length;e++){var f=q(b.sizes[e]);d.push({width:f.width,height:f.height})}b=D.sizesReplacer(b.selector,d);b=a.filter(b,function(a){return!!a});
return b=a.map(b,function(a){return[a.width,a.height]})},t=function(b){return a.map(b,function(b){var d=r(b),e=[];a.forEach(b.biddersSettings,function(a){e.push({bidder:a.name,params:a.params})});return{code:b.spaceName,bids:e,sizes:d,mediaTypes:{banner:{sizes:d}}}})},p=function(a,b){if(a.ad&&-1<a.ad.indexOf(atob("c2VydmluZy1zeXMuY29t"))&&-1<a.ad.indexOf(atob("QnVyc3RpbmdQaXBlL2FkU2VydmVyLmJz"))){var d=atob("PHNjcmlwdD53aW5kb3cuZWJDZmcgPSB7fTt3aW5kb3cuZWJDZmdfXyA9IHt9O3dpbmRvdy5fX2RlZmluZUdldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5lYkNmZ19fO30pO3dpbmRvdy5fX2RlZmluZVNldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7YS5hZEh0bWxQYXRoPScnO3JldHVybiB3aW5kb3cuZWJDZmdfXz1hO30pOzwvc2NyaXB0Pg==");
-1<a.ad.indexOf("<body>")?a.ad=a.ad.replace("<body>",d):a.ad=d+a.ad}if("amazonAAX"===a.bidder)try{var e=JSON.parse(a.adTargeting);e.amzniid=a.adId;for(var c in e)a.adserverTargeting[c]=e[c];a.ad=a.adHtml;try{delete a.adserverTargeting.hb_pb}catch(G){}delete a.adUrl}catch(G){}a.bidder&&"smartadserver"===a.bidder&&(a.bidder="smart");if(a.bidder&&("triplelift"===a.bidder&&-1<a.ad.indexOf("render_options_bm")||"sharethrough"===a.bidder)){e=a;b=r(b);for(a=c=0;a<b.length;a++)d=b[a][0],d>c&&(c=d);e.width=
c}},v=function(d,e){return a.map(d.bids,function(d){d.bidderId=x(d,e);p(d,e);b[d.adId]=new a.CDefer;return new J.Bid({ad:d.ad,adId:d.adId,adUrl:d.adUrl,bidderId:d.bidderId,bidder:d.bidder,bidderCode:d.bidderCode,currency:d.currency,creativeId:"komoona"===d.bidder||"criteo"===d.bidder||"consumable"===d.bidder?null:d.c?String(d.c):d.adid&&"0"!=d.adid?String(d.adid):d.crid&&"0"!=d.crid?String(d.crid):d.creativeId&&"0"!=d.creativeId?String(d.creativeId):d.creative_id&&"0"!=d.creative_id?String(d.creative_id):
null,cpm:d.cpm,complianceStatus:0,height:d.height,timeToRespond:d.timeToRespond,size:d.size,width:d.width},d,J.Bid.Types.PREBID,function(b){b=0<b.complianceBidsInAuction.length?a.map(b.complianceBidsInAuction,function(a){return a.rawBid&&a.rawBid}):void 0;var c=d.adUnitCode;b=g.getAdserverTargeting(c,b)[c];""==b.hb_pb&&b.hb_pb_org&&(b.hb_pb=b.hb_pb_org);return b=n.fireEvent("customAdserverTargeting",{adServerTargeting:b})||b},function(b){try{z(this);var c=b.placement;this.onRenderedEvent(function(){var b=
c.parentElement.querySelector(".ahover");a.removeClass("up-pb-static",b)});w(c,this)}catch(G){}},function(b){z(this);var c=b.placement;this.onRenderedEvent(function(){var b=c.parentElement.querySelector(".ahover");a.addClass("up-pb-static",b)});w(c,this)},void 0,function(a){this.renderedDeferred.promise.then(function(){a()})}.bind({renderedDeferred:b[d.adId]}),function(){var a={bidderExternalID:this.bidderId,markup:this.ad,url:this.adUrl,domain:window.location.host,hint:{provider:this.bidderCode,
uid:this.creativeId},width:parseInt(this.width),height:parseInt(this.height)};if("152media"===this.bidderCode||"brealtime"===this.bidderCode||"districtm"===this.bidderCode||"defymedia"===this.bidderCode||"appnexusAst"===this.bidderCode)a.provider="appnexus";"ix"===this.bidderCode&&(a.provider="indexExchange");"underdogmedia"===this.bidderCode&&(a.hintID=a.hintID+"_"+this.width+"_"+this.height);"gumgum"===this.bidderCode&&this.creative&&(a.markup=this.creative);if("komoona"===this.bidderCode)try{var c=
0,b=JSON.parse(unescape(this.ad.split('"creative_data":"')[1].split('","')[0])),d;for(d in b.hdbd_data.hbbids){var e=b.hdbd_data.hbbids[d];e.cpm>c&&(c=e.cpm,a.markup=e.creative_data.creative)}}catch(oa){}this.ad&&-1<this.ad.indexOf("https://googleads.g.doubleclick.net/pagead/adfetch?client=ca-pub-")&&(a.url="https://googleads.g.doubleclick.net/pagead/adfetch"+this.ad.split("https://googleads.g.doubleclick.net/pagead/adfetch")[1].split("&rfl=")[0],a.markup="");return a})})},x=function(b,d){return a.find(d.biddersSettings,
function(a){return a.name==b.bidderCode}).id},F=function(){g.onEvent("bidWon",function(a){b[a.adId].resolve()})},z=function(a){(a=a.rawBid)&&a.bidder&&(n.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsRender",payload:{detail:a}}),n.fireEvent("FirePublisherEvent",{eventName:"uponitRender",payload:{detail:a}}))},B=function(){var a=window.pbjs||window.jitaJS;if(a&&a.requestBids){var b=a.requestBids;a.requestBids=function(a){for(var d=[],c=a&&a.adUnits,e=0;e<c.length;e++)d.push(c[e].code);h.invokeEventCallbacks("refresh",
d);if(!n.fireEvent("skipOriginalRequestBidsFunction"))return b.apply(this,arguments)}}},w=function(a,b){var d=E(),l=d.container,c=d.iframe,h=function(){try{c.removeEventListener("load",h);var a=k.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame;c.style.setProperty("visibility","");a||(c.contentWindow.document.documentElement.innerHTML="<html><body></body></html>");var d=!a&&c.contentWindow.document,l=V.browser();"sharethrough"===b.bidder&&window.setTimeout(function(){for(var a=document.querySelectorAll(".str-thumbnail"),
c=0;c<a.length;c++){var b=a[c].style.backgroundImage;!b||-1!==b.indexOf("upapi")||-1!==b.indexOf("criteo.net")||-1!==b.indexOf("imgix.net")&&-1!==b.indexOf(".gif")?-1<b.indexOf("imgix.net")&&-1<b.indexOf(".gif")&&(-1<b.indexOf("?")?a[c].style.backgroundImage=b.replace('")','&adunit=true")'):a[c].style.backgroundImage=b.replace('")','?adunit=true")')):-1<b.indexOf("?")?a[c].style.backgroundImage=b.replace('")','&upapi=true")'):a[c].style.backgroundImage=b.replace('")','?upapi=true")')}},3E3);"edge"===
l&&(b.rawBid.ad=b.rawBid.ad.replace(/\.html[\?#]/,".html?upapi=true&"),b.rawBid.ad=b.rawBid.ad.replace(/\.html%23/,".html%23upapi=true%26"),window.setTimeout(function(){if(a)c.contentWindow.postMessage({type:"eval",code:"try { var styleSheets = document.styleSheets; for (var i = 0; i < styleSheets.length; i++) { if (styleSheets[i].cssText && styleSheets[i].cssText.indexOf(\"a[href^='http://ads2.williamhill.com/redirect.aspx?']\") > -1) { styleSheets[i].cssText = ''; } } } catch (e) { }"},"*");else try{for(var b=
d.styleSheets,e=0;e<b.length;e++)b[e].cssText&&-1<b[e].cssText.indexOf("a[href^='http://ads2.williamhill.com/redirect.aspx?']")&&(b[e].cssText="")}catch(Ia){}},3E3));window.setTimeout(function(){var m="edge"===l||"ie"===l;if(!m)if(a)c.contentWindow.postMessage({type:"eval",code:e},"*");else try{c.contentWindow.eval(atob(f))}catch(qa){}g.renderAd(d,b.adId,!m,c);if(m)if(a)c.contentWindow.postMessage({type:"eval",code:e},"*");else try{c.contentWindow.eval(atob(f))}catch(qa){}},0);c.style.width=b.width+
"px";c.style.height=b.height+"px"}catch(pa){u.errorf(null,"renderBid - %o",pa)}};c.addEventListener("load",h);c.style.setProperty("visibility","hidden");a.parentElement.firstElementChild?a.parentElement.insertBefore(l,a.parentElement.firstElementChild.nextSibling):a.parentElement.appendChild(l)},E=function(){var a=document.createElement("div");a.className="ahover";var b=T.createSafeFrame();b.src=k.upoSettings.whitelistedFrameSettings.url;b.style.width="1px";b.style.height="1px";b.style.border="0px";
b.setAttribute("marginwidth","0");b.setAttribute("marginheight","0");b.scrolling="no";a.appendChild(b);return{container:a,iframe:b}},W=function(){if(!document.getElementById("up-pb-stylesheet")){var a=document.createElement("style");a.id="up-pb-stylesheet";a.type="text/css";a.textContent=".up-pb-static { opacity: 0.001 !important; }";(document.head||document.body||document.documentElement).appendChild(a)}}},f="dmFyIF8weGE4YmU9WyJceDYzXHg2OFx4NjlceDZDXHg2NFx4NzJceDY1XHg2RSIsIlx4NkNceDY1XHg2RVx4NjdceDc0XHg2OCIsIlx4NDlceDQ2XHg1Mlx4NDFceDREXHg0NSIsIlx4NzRceDYxXHg2N1x4NEVceDYxXHg2RFx4NjUiLCJceDY5XHg2RVx4NzNceDY1XHg3Mlx4NzRceDQyXHg2NVx4NjZceDZGXHg3Mlx4NjUiLCJceDc3XHg3Mlx4NjlceDc0XHg2NSIsIlx4NkRceDYxXHg3NFx4NjNceDY4IiwiXHg3Mlx4NjVceDcwXHg2Q1x4NjFceDYzXHg2NSIsIlx4NzNceDYzXHg3Mlx4NjlceDcwXHg3NCIsIlx4NzRceDc5XHg3MFx4NjVceDNBXHgyMFx4MjdceDQ4XHg1NFx4NERceDRDXHgzNVx4MjciLCJceDc0XHg3OVx4NzBceDY1XHgzQVx4MjBceDI3XHg0OVx4NERceDQxXHg0N1x4NDVceDI3IiwiXHg2NVx4NjJceDQzXHg2Nlx4NjciLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTNceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDQ4XHg3NFx4NkRceDZDXHg1MFx4NjFceDc0XHg2OCIsIlx4NEZceDYyXHg2QVx4NjVceDYzXHg3NCIsIlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTBceDcyXHg2Rlx4NzBceDY1XHg3Mlx4NzRceDc5IiwiXHg1Rlx4NUZceDVGIiwiXHg3MFx4NjFceDY3XHg2NVx4NTZceDY5XHg3M1x4NjlceDYyXHg2Q1x4NjUiLCJceDZGXHg2Mlx4NkFceDY1XHg2M1x4NzQiLCJceDY4XHg2MVx4NzNceDRGXHg3N1x4NkVceDUwXHg3Mlx4NkZceDcwXHg2NVx4NzJceDc0XHg3OSIsIlx4NzNceDc1XHg3MFx4NzBceDZGXHg3Mlx4NzRceDY1XHg2NFx4NDJceDcyXHg2Rlx4NzdceDczXHg2NVx4NzIiLCJceDYyXHg2MVx4NkVceDZFXHg2NVx4NzJceDQxXHg2NFx4NDhceDc0XHg2RFx4NkNceDU0XHg2NVx4NzhceDc0IiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzIiLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NDdceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDVGXHg1RiIsIlx4NjlceDZFXHg2NFx4NjVceDc4XHg0Rlx4NjYiLCJceDczXHg3NFx4NzJceDY5XHg2RVx4NjciLCJceDZBXHg2MVx4NzZceDYxXHg3M1x4NjNceDcyXHg2OVx4NzBceDc0XHgzQVx4MjciLCJceDY0XHg2Rlx4NjNceDc1XHg2RFx4NjVceDZFXHg3NCIsIlx4NjNceDcyXHg2NVx4NjFceDc0XHg2NVx4NDVceDZDXHg2NVx4NkRceDY1XHg2RVx4NzQiLCJceDczXHg3NFx4NzlceDZDXHg2NSIsIlx4NjhceDY1XHg2MVx4NjQiLCJceDYyXHg2Rlx4NjRceDc5IiwiXHg2NFx4NkZceDYzXHg3NVx4NkRceDY1XHg2RVx4NzRceDQ1XHg2Q1x4NjVceDZEXHg2NVx4NkVceDc0IiwiXHg2MVx4NzBceDcwXHg2NVx4NkVceDY0XHg0M1x4NjhceDY5XHg2Q1x4NjQiLCJceDczXHg3NFx4NzlceDZDXHg2NVx4NTNceDY4XHg2NVx4NjVceDc0XHg3MyIsIlx4NjlceDZFXHg3M1x4NjVceDcyXHg3NFx4NTJceDc1XHg2Q1x4NjUiLCJceDY5XHg2RFx4NjdceDVCXHg2M1x4NkNceDYxXHg3M1x4NzNceDVFXHgzRFx4MjdceDcwXHg2Q1x4MkRceDZDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDJEXHgyN1x4NURceDdCXHg2NFx4NjlceDczXHg3MFx4NkNceDYxXHg3OVx4M0FceDZFXHg2Rlx4NkVceDY1XHgyMFx4MjFceDY5XHg2RFx4NzBceDZGXHg3Mlx4NzRceDYxXHg2RVx4NzRceDdEIiwiXHg2N1x4NjVceDc0XHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NFx4NDJceDc5XHg0OVx4NjQiLCJceDY5XHg2NVx4NjNceDYzXHg3NFx4NjVceDczXHg3NCIsIlx4NjlceDY2XHg3Mlx4NjFceDZEXHg2NSIsIlx4NjNceDYxXHg2Q1x4NkMiLCJceDYxXHg2NFx4NjRceDQ1XHg3Nlx4NjVceDZFXHg3NFx4NENceDY5XHg3M1x4NzRceDY1XHg2RVx4NjVceDcyIiwiXHg2Q1x4NkZceDYxXHg2NCIsIlx4NjNceDZGXHg2RVx4NzRceDY1XHg2RVx4NzRceDU3XHg2OVx4NkVceDY0XHg2Rlx4NzciLCJceDQ4XHg1NFx4NERceDRDXHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NCIsIlx4NzBceDcyXHg2Rlx4NzRceDZGXHg3NFx4NzlceDcwXHg2NSIsIlx4NzNceDY4XHg2OVx4NjZceDc0IiwiXHg3MFx4NzVceDczXHg2OCIsIlx4NjYiLCJceDMwXHg3OFx4MzIiLCJceDMwXHg3OFx4MzEiLCJceDMwXHg3OFx4MzAiLCJceDMwXHg3OFx4MzYiLCJceDMwXHg3OFx4MzMiLCJceDMwXHg3OFx4MzQiLCJceDMwXHg3OFx4MzUiLCJceDMwXHg3OFx4MzkiLCJceDMwXHg3OFx4MzgiLCJceDMwXHg3OFx4MzciLCJceDY4IiwiXHgzMFx4NzhceDYxIiwiXHgzMFx4NzhceDYyIiwiXHg2MiIsIlx4MzBceDc4XHg2MyIsIlx4NzRceDZGXHg0Q1x4NkZceDc3XHg2NVx4NzJceDQzXHg2MVx4NzNceDY1IiwiXHgzMFx4NzhceDY0IiwiXHgzMFx4NzhceDY2IiwiXHg2MSIsIlx4MzBceDc4XHgzMVx4MzAiLCJceDMwXHg3OFx4NjUiLCJceDY3IiwiXHgzMFx4NzhceDMxXHgzMiIsIlx4MzBceDc4XHgzMVx4MzEiLCJceDMwXHg3OFx4MzFceDM0IiwiXHgzMFx4NzhceDMxXHgzMyIsIlx4MzBceDc4XHgzMVx4MzUiLCJceDMwXHg3OFx4MzFceDM2IiwiXHg2OSIsIlx4MzBceDc4XHgzMVx4MzciLCJceDZBIiwiXHgzMFx4NzhceDMxXHgzOCIsIlx4NzRceDY1XHg3M1x4NzQiLCJceDMwXHg3OFx4MzFceDM5IiwiXHgzMFx4NzhceDMxXHg2MiIsIlx4MzBceDc4XHgzMVx4NjEiLCJceDMwXHg3OFx4MzFceDYzIiwiXHgzMFx4NzhceDMxXHg2NCIsIlx4MzBceDc4XHgzMVx4NjUiLCJceDYzIiwiXHgzMFx4NzhceDMyXHgzMCIsIiIsIlx4MzBceDc4XHgzMVx4NjYiLCJceDMwXHg3OFx4MzJceDMxIiwiXHgzMFx4NzhceDMyXHgzMyIsIlx4MzBceDc4XHgzMlx4MzIiLCJceDMwXHg3OFx4MzJceDM0IiwiXHgzMFx4NzhceDMyXHgzNSIsIlx4MzBceDc4XHgzMlx4MzciLCJceDMwXHg3OFx4MzJceDM2IiwiXHg2OVx4NzMiLCJceDMwXHg3OFx4MzJceDM4IiwiXHgzMFx4NzhceDMyXHgzOSIsIlx4MzBceDc4XHgzMlx4NjIiLCJceDMwXHg3OFx4MzJceDYxIiwiXHgyRVx4NjhceDc0XHg2RFx4NkMiLCJceDMwXHg3OFx4MzJceDYzIiwiXHgzMFx4NzhceDMyXHg2NCIsIlx4MzBceDc4XHgzMlx4NjUiLCJceDI3IiwiXHg2MVx4NzBceDcwXHg2Q1x4NzkiXTt2YXIgYWFhPVtfMHhhOGJlWzBdLF8weGE4YmVbMV0sXzB4YThiZVsyXSxfMHhhOGJlWzNdLF8weGE4YmVbNF0sXzB4YThiZVs1XSxfMHhhOGJlWzZdLF8weGE4YmVbN10sXzB4YThiZVs4XSxfMHhhOGJlWzldLF8weGE4YmVbMTBdLF8weGE4YmVbMTFdLF8weGE4YmVbMTJdLF8weGE4YmVbMTNdLF8weGE4YmVbMTRdLF8weGE4YmVbMTVdLF8weGE4YmVbMTZdLF8weGE4YmVbMTddLF8weGE4YmVbMThdLF8weGE4YmVbMTldLF8weGE4YmVbMjBdLF8weGE4YmVbMjFdLF8weGE4YmVbMjJdLF8weGE4YmVbMjNdLF8weGE4YmVbMjRdLF8weGE4YmVbMjVdLF8weGE4YmVbMjZdLF8weGE4YmVbMjddLF8weGE4YmVbMjhdLF8weGE4YmVbMjldLF8weGE4YmVbMzBdLF8weGE4YmVbMzFdLF8weGE4YmVbMzJdLF8weGE4YmVbMzNdLF8weGE4YmVbMzRdLF8weGE4YmVbMzVdLF8weGE4YmVbMzZdLF8weGE4YmVbMzddLF8weGE4YmVbMzhdLF8weGE4YmVbMzldLF8weGE4YmVbNDBdLF8weGE4YmVbNDFdLF8weGE4YmVbNDJdLF8weGE4YmVbNDNdLF8weGE4YmVbNDRdLF8weGE4YmVbNDVdLF8weGE4YmVbNDZdXTsoZnVuY3Rpb24oXzB4NDNlZXgyLF8weDQzZWV4Myl7dmFyIF8weDQzZWV4ND1mdW5jdGlvbihfMHg0M2VleDUpe3doaWxlKC0tXzB4NDNlZXg1KXtfMHg0M2VleDJbXzB4YThiZVs0OF1dKF8weDQzZWV4MltfMHhhOGJlWzQ3XV0oKSl9fTtfMHg0M2VleDQoKytfMHg0M2VleDMpfShhYWEsMHgxNjUpKTt2YXIgYj1mdW5jdGlvbihfMHg0M2VleDIsXzB4NDNlZXgzKXtfMHg0M2VleDI9IF8weDQzZWV4Mi0gMHgwO3ZhciBfMHg0M2VleDQ9YWFhW18weDQzZWV4Ml07cmV0dXJuIF8weDQzZWV4NH07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gXzB4NDNlZXgyKF8weDQzZWV4Myl7aWYoIV8weDQzZWV4M1tfMHhhOGJlWzQ5XV0pe18weDQzZWV4M1tfMHhhOGJlWzQ5XV09ICAhMHgwO3RyeXt2YXIgXzB4NDNlZXg0PV8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldKGIoXzB4YThiZVs1MF0pKTsoXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtiKF8weGE4YmVbNTRdKV18fCBfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW2IoXzB4YThiZVs1NV0pXXx8IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzU2XSldKVtiKF8weGE4YmVbNTNdKV0oXzB4NDNlZXg0KTtfMHg0M2VleDNbXzB4YThiZVsyOF1dW2IoXzB4YThiZVs1OV0pXVsweDBdW2IoXzB4YThiZVs1OF0pXShiKF8weGE4YmVbNTddKSwweDApfWNhdGNoKGYpe307XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYwXV09IGRvY3VtZW50W2IoXzB4YThiZVs2MV0pXTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbMzhdXT0gZnVuY3Rpb24oXzB4NDNlZXg3KXt0cnl7aWYoYihfMHhhOGJlWzYyXSk9PT0gXzB4NDNlZXg3KXtyZXR1cm4gXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzI5XV0oXzB4YThiZVs2M10pfX1jYXRjaChoKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjBdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleDcpfTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbNjNdXT0gZG9jdW1lbnRbYihfMHhhOGJlWzUxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldPSBmdW5jdGlvbihfMHg0M2VleDgpe3RyeXtpZihiKF8weGE4YmVbNjRdKT09PSBfMHg0M2VleDhbXzB4YThiZVs2NV1dKCkpe3ZhciBfMHg0M2VleDk9XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYzXV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXg4KTtfMHg0M2VleDlbYihfMHhhOGJlWzcwXSldKGIoXzB4YThiZVs2N10pLGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyLHRoaXNbXzB4YThiZVs0NF1dW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tfMHhhOGJlWzQ0XV0sdGhpc1tfMHhhOGJlWzQ0XV0pfWNhdGNoKGspe319KTtyZXR1cm4gXzB4NDNlZXg5fX1jYXRjaChsKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjNdXVtiKF8weGE4YmVbNjZdKV0odGhpcyxfMHg0M2VleDgpfTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW2IoXzB4YThiZVs1M10pXTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNTNdKV09IGZ1bmN0aW9uKF8weDQzZWV4YSl7dmFyIF8weDQzZWV4Yj1fMHg0M2VleDNbXzB4YThiZVs0NV1dW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhhKTt0cnl7Zm9yKHZhciBfMHg0M2VleGM9MHgwO18weDQzZWV4YzwgXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtiKF8weGE4YmVbNzRdKV07XzB4NDNlZXhjKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4YVtfMHhhOGJlWzBdXVtfMHg0M2VleGNdW2IoXzB4YThiZVs3N10pXSYmIChfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXhjXVtfMHhhOGJlWzQ0XV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXSkpfTtfMHhhOGJlWzJdPT09IF8weDQzZWV4YVtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhhW18weGE4YmVbNDRdXXx8IF8weDQzZWV4YVtiKF8weGE4YmVbNzBdKV0oXzB4YThiZVs0M10sZnVuY3Rpb24oKXt0aGlzW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbXzB4YThiZVs0NF1dKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHApe307cmV0dXJuIF8weDQzZWV4Yn07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bXzB4YThiZVs3OF1dPSBfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNzldKV07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bYihfMHhhOGJlWzc5XSldPSBmdW5jdGlvbihfMHg0M2VleGQsXzB4NDNlZXhlKXt2YXIgXzB4NDNlZXhmPV8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW18weGE4YmVbNzhdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleGQsXzB4NDNlZXhlKTt0cnl7Zm9yKHZhciBfMHg0M2VleDEwPTB4MDtfMHg0M2VleDEwPCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW2IoXzB4YThiZVs3NF0pXTtfMHg0M2VleDEwKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVszXV0mJiAoXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW18weDQzZWV4MTBdW2IoXzB4YThiZVs3MF0pXShiKF8weGE4YmVbNjddKSxmdW5jdGlvbigpe3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyO3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tiKF8weGE4YmVbNjldKV0sdGhpc1tiKF8weGE4YmVbNjldKV0pfSksXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dW2IoXzB4YThiZVs2Nl0pXSh0aGlzLF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVs0NF1dKSl9O2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhkW18weGE4YmVbNDRdXXx8IF8weDQzZWV4ZFtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4ZFtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHUpe307cmV0dXJuIF8weDQzZWV4Zn07XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzgwXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzgxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bXzB4YThiZVs1XV09IGZ1bmN0aW9uKF8weDQzZWV4MTEpe3RyeXtpZihfMHg0M2VleDExJiYgL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdL1tfMHhhOGJlWzgyXV0oXzB4NDNlZXgxMSkpe3ZhciBfMHg0M2VleDEyPV8weDQzZWV4MTFbYihfMHhhOGJlWzgzXSldKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDQzZWV4MTM9XzB4NDNlZXgxMlsweDBdW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbNjRdKSxiKF8weGE4YmVbODRdKSk7XzB4NDNlZXgxMT0gXzB4NDNlZXgxMVtiKF8weGE4YmVbODVdKV0oXzB4NDNlZXgxMixfMHg0M2VleDEzKX07XzB4NDNlZXgxMSYmIC0weDE8IF8weDQzZWV4MTFbXzB4YThiZVsyNV1dKGIoXzB4YThiZVs4Nl0pKSYmIChfMHg0M2VleDExPSBfMHg0M2VleDExW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbODZdKSxiKF8weGE4YmVbODddKSkpfWNhdGNoKHkpe307XzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzgwXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXgxMSl9O18weDQzZWV4M1tiKF8weGE4YmVbODhdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbXzB4YThiZVs4OV1dPSB2b2lkKDB4MCk7XzB4NDNlZXgzW18weGE4YmVbMjNdXShfMHhhOGJlWzExXSxmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDNbXzB4YThiZVs4OV1dfSk7XzB4NDNlZXgzW2IoXzB4YThiZVs5Ml0pXShiKF8weGE4YmVbODhdKSxmdW5jdGlvbihfMHg0M2VleDE0KXtfMHg0M2VleDE0W2IoXzB4YThiZVs5MF0pXT0gXzB4YThiZVs5MV07cmV0dXJuIF8weDQzZWV4M1tfMHhhOGJlWzg5XV09IF8weDQzZWV4MTR9KTtfMHg0M2VleDQ9IGZ1bmN0aW9uKF8weDQzZWV4MTUsXzB4NDNlZXgxNil7XzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbOTVdKV0oXzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbNzJdKV0sXzB4NDNlZXgxNSx7J1x4NjdceDY1XHg3NCc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfMHhhOGJlWzE2XSsgXzB4NDNlZXgxNV19LCdceDczXHg2NVx4NzQnOmZ1bmN0aW9uKF8weDQzZWV4MTcpe18weDQzZWV4MTc9IF8weDQzZWV4MTYodGhpcyxfMHg0M2VleDE3KTtfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLF8weDQzZWV4MTUseydceDY3XHg2NVx4NzQnOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYihfMHhhOGJlWzk0XSkrIF8weDQzZWV4MTVdfSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDE4KXtfMHg0M2VleDE4PSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxOCk7dGhpc1tiKF8weGE4YmVbOTRdKSsgXzB4NDNlZXgxNV09IF8weDQzZWV4MTh9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgwfSk7dmFyIF8weDQzZWV4MTk9XzB4NDNlZXgxNztfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLGIoXzB4YThiZVs5NF0pKyBfMHg0M2VleDE1LHsnXHg2N1x4NjVceDc0JzpmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDE5fSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDFhKXtfMHg0M2VleDE5PSBfMHg0M2VleDFhPSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxYSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxfSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxLCdceDYzXHg2Rlx4NkVceDY2XHg2OVx4NjdceDc1XHg3Mlx4NjFceDYyXHg2Q1x4NjUnOiEweDF9KX07XzB4NDNlZXg0KGIoXzB4YThiZVs5Nl0pLGZ1bmN0aW9uKF8weDQzZWV4MWIsXzB4NDNlZXgxYyl7YihfMHhhOGJlWzk3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFiJiYgXzB4NDNlZXgxYltiKF8weGE4YmVbOTldKV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWJbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWN9KTtfMHg0M2VleDQoXzB4YThiZVsxMDBdLGZ1bmN0aW9uKF8weDQzZWV4MWQsXzB4NDNlZXgxZSl7XzB4YThiZVsxOF09PT0gIHR5cGVvZiBfMHg0M2VleDFkJiYgXzB4NDNlZXgxZFtfMHhhOGJlWzE5XV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWRbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWV9KTt2YXIgXzB4NDNlZXgxZj12b2lkKDB4MCk7XzB4NDNlZXg0KGIoXzB4YThiZVsxMDFdKSxmdW5jdGlvbihfMHg0M2VleDIwLF8weDQzZWV4MjEpe3JldHVybiBfMHg0M2VleDFmPSBfMHg0M2VleDIxfSk7XzB4NDNlZXgzW2IoXzB4YThiZVsxMDJdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbYihfMHhhOGJlWzEwNF0pXShfMHhhOGJlWzIyXSxmdW5jdGlvbigpe3JldHVybiB0aGlzW2IoXzB4YThiZVsxMDNdKV19KTtfMHg0M2VleDNbYihfMHhhOGJlWzkyXSldKF8weGE4YmVbMjJdLGZ1bmN0aW9uKF8weDQzZWV4MjIpe3RoaXNbYihfMHhhOGJlWzEwM10pXT0gZnVuY3Rpb24oKXt2YXIgXzB4NDNlZXgyMz1hcmd1bWVudHM7LTB4MTwgXzB4NDNlZXgyM1sweDNdW2IoXzB4YThiZVsxMDZdKV0oXzB4YThiZVsxMDVdKSAmJiBiKF8weGE4YmVbMTA3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFmICYmIChfMHg0M2VleDIzWzB4M109IGIoXzB4YThiZVsxMDhdKSsgXzB4NDNlZXgxZltiKF8weGE4YmVbODVdKV0oLycvZyxfMHhhOGJlWzc4XSkrIF8weGE4YmVbMTA5XSk7XzB4NDNlZXgyMltfMHhhOGJlWzExMF1dKHRoaXMsXzB4NDNlZXgyMyl9O3JldHVybiBfMHg0M2VleDIyfSl9fV8weDQzZWV4Mih3aW5kb3cpfSgpKQ==",
e="try { eval(atob('"+f+"')) } catch (err) {}"})(Fa);var ea={};(function(r){var t=new function(){var q=Fa.HB,n=Da.AdServer,h=new D.SubscriptionLayer,f=M.CustomEvents;this.subscribeForEvent=function(a,d){h.subscribeForEvent(a,d)};var e=function(b){return a.filter(b,function(a){return.01<=a.cpm})};this.dispatchHB=function(b,d){try{var g={},k=[],h=[];a.forEach(b,function(b){var d=new a.CDefer;g[b.auctionId]=d;k.push(d.promise);var e=b.unit.space.preBiddingSettings;e&&e.enabled?h.push(b):d.resolve({auctionId:b.auctionId,
bids:[]})});var n=a.map(h,function(a){return{auctionId:a.auctionId,biddingSettings:a.unit.space.preBiddingSettings.biddingSettings,spaceName:a.unit.space.name,sizes:a.unit.space.sizes,selector:a.unit.space.selector.value}}),p=q.dispatch(n,d);a.CPromise.all(p).then(function(b){try{for(var d=[],k=0;k<b.length;k++){var l=b[k],n=l.auctionId,w=a.find(h,function(a){return a.auctionId==n}),p=l.bids,p=f.fireEvent("passZeroCpmBidsFilter")?p:e(p),q=f.fireEvent("filterPrebidBids");if(q)var r=a.map(p,function(a){return{bid:a,
rawBid:a.rawBid}}),p=q(r);l.bids=p;d.push({auction:w,bids:p})}ya.testBidsCompliance(d).then(function(d){for(var e in d)if(d.hasOwnProperty(e)){var f=d[e],c=a.find(b,function(a){return a.auctionId==e}),k=c.bids,m;for(m in f)if(f.hasOwnProperty(m)){var l=f[m],h=a.find(k,function(a){return a.bidId==m});h.contentIdHash=l.bidContentIdHash;h.complianceStatus=l.status}g[e].resolve(c)}})}catch(K){}});return k}catch(v){}};this.dispatchAS=function(b,e){try{var f={},g=[],k=[];a.forEach(b,function(b){var d=new a.CDefer;
f[b.auctionId]=d;g.push(d.promise);var e=b.unit.space.postBiddingSettings;e&&e.enabled?k.push(b):d.resolve({auctionId:b.auctionId,bids:[]})});var h=d(k,e,0);a.forEach(h,function(a){a.then(function(a){f[a.auctionId].resolve(a)})});return g}catch(p){}};var d=function(b,e,l){try{var h={},q=[];a.forEach(b,function(b){var d=new a.CDefer;q.push(d.promise);h[b.auctionId]={auction:b,deferred:d}});var r=[];a.forEach(b,function(a){a.unit.space.postBiddingSettings.order[l]?r.push(a):h[a.auctionId].deferred.resolve({auctionId:a.auctionId,
bids:[]})});if(r){var p=a.map(r,function(b){var d=b.unit.space.postBiddingSettings,e=b.getWinningBid(),e=e?e.cpm:0,k=b.auctionId;a:{switch(b.unit.space.postBiddingSettings.type){case n.Types.DFP:var h=d.order[l];var p={},q=b.getWinningBid(),r=b.getComplianceBids(),t="true false undefined 152media 33across a4g aardvark adblade adbund adbutler adform adkernel adkerneladn admedia admixer adocean adsparc adspirit adsupply adtelligent adxcg adyoulike aerserv andbeyond aol appnexusAst appnexus arteebee atomx amazon amazonAAX audienceNetwork automatad beachfront betweendigital bidfluence brainy brealtime bridgewell brightcom buysellads c1x carambola clickonometrics clickforce colossus connectad consumable contentIgnite conversant cox cpx criteo defymedia dgads districtmDMX districtm engagebdr emxdigital emx_digital e-planning essens fairtrade featureForward fidelityMedia freewheel-ssp fyber gamoshi gamma getintent gourmetAds gumgum gxone imonomy improvedigital IndexExchange indexExchange ix inneractive innity inskin insticator invibes iqm justpremium kargo komoona kumma lifestreet lkqd lockerdome madvertise marsmedia matomy media.net medianet mobfox my6sense mytarget nginad upo upo1 upo2 upo3 upo4 upo5 upo6 upo7 upo8 upo9 upo10 oneplanetonly onetag openx optimatic optimera orbitsoft peak226 piximedia platform.io playgroundXyz polluxNetwork polymorph prebidServer pubgears pubmatic pulsepoint pulsepointLite quantcast quantum readpeak realvu rhythmone rockyou roxot rtbdemandBidder rtbdemandadk rtbhouse rubicon rxrtb sara sekindoum serverbid sharethrough smart smartyads somoAudience sonobi soloway sovrn spotx springserve stickyadstv tapsense teads thoughtleadr tremor trionInteractive triplelift trustx twenga ucfunnel underdogmedia undertone unruly vertamedia vertoz vi vidazoo vis.x vuble weborama wideorbit widespace xaxis xendiz yieldbot yieldlab yieldmo yieldone".split(" "),
A={up_bidder:!0};q&&q.bidder&&-1<t.indexOf(q.bidder)?A.up_bidder=q.bidder:q&&q.bidder&&0>t.indexOf(q.bidder)&&f.fireEvent("sendLog",{eventName:"upBidder_unknownBidder",payload:{bidder:q.bidder,bidderCode:q.bidderCode}});t=window.location.hostname;0===t.indexOf("www.")&&(t=t.replace("www.",""));var u=t,u=u.match(/(co\.il|co\.uk|org\.il)/)?u.replace("www.","").split(".").splice(-3).join("."):u.replace("www.","").split(".").splice(-2).join(".");A.up_recovery="true";var c=V.browser(),G=V.device(),m=V.platform();
A.up_browser=c;A.up_device=G;A.up_platform=m;A.up_domain=t;A.up_website=u;q=q?q.getGPTTargeting({complianceBidsInAuction:r}):{};A=a.objectAssign({},A||{},q,h.keyValues||{});q=g[b.unit.unitID]?Object.keys(g[b.unit.unitID]):[];g[b.unit.unitID]=A;p.keyValuesParams={toAdd:A,toRemove:q};p.queryParams=h.params.queryParams||{};p.adxBidderId=h.adx.bidderID;p.adxShouldTestCompliance=h.adx.testCompliance;p.directBidderId=h.direct.bidderID;p.directShouldTestCompliance=h.direct.testCompliance;h=p;break a}h=void 0}return{auctionId:k,
params:h,slotElementId:b.unit.element.getAttribute("id"),floorPrice:e,type:d.type}}),t=n.dispatch(p,e);a.forEach(t,function(b){b.then(function(b){try{var f=b.auctionId,g=b.bids[0],w=a.find(r,function(a){return a.auctionId==f});if(g){var n=a.find(p,function(a){return a.auctionId==f});g.type==J.Bid.Types.DFP_PREBID?(g.complianceStatus=k.consts.complianceStatus.COMPLIANT,h[f].deferred.resolve(b)):g.type!=J.Bid.Types.ADX||n.params.adxShouldTestCompliance?g.type!=J.Bid.Types.DIRECT||n.params.directShouldTestCompliance?
ya.testBidsCompliance([{auction:w,bids:[g]}]).then(function(a){g.contentIdHash=a[f][g.bidId].bidContentIdHash;g.complianceStatus=a[f][g.bidId].status;e.forceCompliantEnabled&&g.type==J.Bid.Types.DIRECT&&g.complianceStatus==k.consts.complianceStatus.INCOMPLIANT?h[f].deferred.resolve(b):g.complianceStatus!=k.consts.complianceStatus.COMPLIANT?(g.cancelBid(),d([w],e,l+1)[0].then(function(a){h[f].deferred.resolve(a)})):h[f].deferred.resolve(b)}).catch(function(a){g.cancelBid();d([w],e,l+1)[0].then(function(a){h[f].deferred.resolve(a)})}):
(g.complianceStatus=k.consts.complianceStatus.COMPLIANT,h[f].deferred.resolve(b)):(g.complianceStatus=k.consts.complianceStatus.COMPLIANT,h[f].deferred.resolve(b))}else h[f].deferred.resolve(b)}catch(W){}})});return q}}catch(L){}},g={};(function(){n.subscribeForEvent("bidReceived",function(a){h.invokeEventCallbacks("bidReceived",a)});n.subscribeForEvent("refresh",function(a){h.invokeEventCallbacks("refresh",a)});q.subscribeForEvent("bidReceived",function(a){h.invokeEventCallbacks("bidReceived",a)});
q.subscribeForEvent("refresh",function(a){h.invokeEventCallbacks("refresh",a)})})()};r.dispatch=t})(ea);var Ga={};(function(r){var u=new function(){var q=ea.dispatch,n=M.CustomEvents,h={},f=!1,e=!1,d=function(){q.subscribeForEvent("bidReceived",function(a){a=B([a.bid])[0];g(u.UPONIT_EVENTS.BID_RECEIVED,a)})},g=function(a,b){a=h[a]||[];for(var d=a.length||0,e=0;e<d;e++){var f=a[e];setTimeout(function(){f(b)},0)}};this.UPONIT_EVENTS={BID_RECEIVED:1};this.COMPLIANCE_STATUSES={UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,
ERROR:3,PENDING:4};this.init=function(a){var b=a.prebidConfig,g=a.dfpConfig;a=b&&b.init;var k=g&&g.init;f=b&&b.enabled;e=g&&g.enabled;var b={prebid:f,dfp:e},h;for(h in b)if(b.hasOwnProperty(h)&&b[h]){var g=na.presetProvider(h),n=xa.postsetProvider(h);g&&da.addPresetCallback(h,g);n&&da.addPostsetCallback(h,n)}for(h in b)b.hasOwnProperty(h)&&b[h]&&da.loadThirdParty(h);a&&x(a);k&&D(k);d();l()};var b=function(a){a&&a.adUnit&&a.sizes&&a.slotElementId&&window.googletag.cmd.push(function(){var b=window.googletag.defineSlot(a.adUnit,
a.sizes,a.slotElementId).addService(window.googletag.pubads());if(a.targeting)for(var d in a.targeting)a.targeting.hasOwnProperty(d)&&b.setTargeting(d,a.targeting[d])})},r=function(b){return!!a.find(window.uponit.slots,function(a){return a.unit.space.selector.value==b})},l=function(){t.Hooks.addEventListener(t.Hooks.Types.REMOVE_CHILD_PRE,function(a){a=a.data[0];if(this.elementGuarder||a&&a.elementGuarder)return a});t.Hooks.addEventListener(t.Hooks.Types.HTML_ELEMENT_INNERHTML_PRE,function(a){if("undefined"!==
typeof a.data[0]&&this.elementGuarder&&""===a.data[0])return""});t.Hooks.addEventListener(t.Hooks.Types.HTML_ELEMENT_TEXTCONTENT_PRE,function(a){if("undefined"!==typeof a.data[0]&&this.elementGuarder&&""===a.data[0])return""})};this.defineSlot=function(a,d){var f={};f.id=a.name+"_"+a.sizes+"_"+a.selector;f.name=a.name;f.sizes=a.sizes;f.selector={position:0,value:a.selector};if(a.prebid){f.preBiddingSettings={enabled:!0,biddingSettings:{}};f.preBiddingSettings.biddingSettings[1]=[];for(var g=0;g<a.prebid.bidders.length;g++){var k=
a.prebid.bidders[g];f.preBiddingSettings.biddingSettings[1].push({id:f.id+"_"+k.name+"_"+JSON.stringify(k.params).trim(),name:k.name,testCompliance:!0,params:k.params})}}a.dfp&&(f.postBiddingSettings={adxId:a.name+"_adx",directId:a.name+"_direct",enabled:!0,type:1,order:[{params:{keyValues:a.keyValues},adx:{bidderID:a.name+"_adx",testCompliance:!0},direct:{bidderID:a.name+"_direct",testCompliance:!0}},{params:{queryParams:{ad_type:"text"},keyValues:a.keyValues},adx:{bidderID:a.name+"_adx",testCompliance:!1},
direct:{bidderID:a.name+"_direct",testCompliance:n.fireEvent("forceCompliant")||!1}}]});g=!!document.querySelector(f.selector.value);k=r(f.selector.value);if(g&&!k)return!e||d&&d.dfpSlotAlreadyDefined||b(a.dfp),a=new J.Space(f),d=document.querySelector(a.selector.value),d.alreadyWraped||(t.Hooks.hookFunction(d,"removeChild",t.Hooks.Types.REMOVE_CHILD_PRE,void 0,!0),t.Hooks.hookFunction(d.parentElement,"removeChild",t.Hooks.Types.REMOVE_CHILD_PRE,void 0,!0),t.Hooks.hookPropertySetter(d,"innerHTML",
t.Hooks.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,!0),t.Hooks.hookPropertySetter(d,"textContent",t.Hooks.Types.HTML_ELEMENT_TEXTCONTENT_PRE,void 0,!0),d.alreadyWraped=!0),a=new J.Unit({element:d,space:a}),a=new J.Slot({unit:a}),window.uponit.slots.push(a),a};var x=function(a){n.addEventListener("prebidDoneInit",function(b){var d=(b=b.data)&&b.cpbjs;if(d){b={setConfig:function(a){d.setConfig(a)},aliasBidder:function(a,b){d.aliasBidder(a,b)},enableAnalytics:function(a){d.enableAnalytics(a)},bidderSettings:function(a){d.bidderSettings=
a}};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];b[e]&&b[e].apply(this,f)}}})},D=function(a){window.googletag.cmd.push(function(){window.googletag.pubads().disableInitialLoad()})};this.enableServices=function(){e&&(window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push(function(){window.googletag.enableServices()}))};this.fetchPrebid=function(a){return F(a)};var F=function(b){if(!f)return a.map(b,function(b){return a.CPromise.resolve({slotName:b.unit.space.name,bids:[]})});var d=
z(b);b=q.dispatchHB(d);return a.map(b,function(b){return b.then(function(b){var e=b.auctionId,f=a.find(d,function(a){return a.auctionId==e}),g=b.bids;b=f.unit.space.name;var c=g;n.fireEvent("apiOnlyCompliantBids")&&(c=[],a.forEach(g,function(a){a.complianceStatus==k.consts.complianceStatus.COMPLIANT&&c.push(a)}));f.addBids(c);f=B(c);return{slotName:b,bids:f}})})};this.fetchDFP=function(a){return p(a)};var p=function(b){if(!e)return a.map(b,function(b){return a.CPromise.resolve({slotName:b.unit.space.name,
bids:[]})});var d=z(b);b=q.dispatchAS(d);return a.map(b,function(b){return b.then(function(b){var e=b.auctionId,f=a.find(d,function(a){return a.auctionId==e}),g=b.bids;b=f.unit.space.name;var c=f.getWinningBid();if(g&&0<g.length&&g[0].type==J.Bid.Types.DFP_PREBID)return c&&c.additionalBidsToRender.push(g[0]),{slotName:b,bids:[]};var h=g;n.fireEvent("apiOnlyCompliantBids")&&(h=[],a.forEach(g,function(a){a.complianceStatus==k.consts.complianceStatus.COMPLIANT&&h.push(a)}));f.addBids(h);f=B(h);return{slotName:b,
bids:f}})})};this.renderBid=function(a,b){a.renderBid(b)};var v=function(a){if(!document.hasFocus())return a;for(var b=[],d=0;d<a.length;d++){var e=!1,f=a[d];if(0==f.auctionsList.length)b.push(f);else{var g=f.unit.element;if(g){if("none"===window.getComputedStyle(g).display){var k=g.style.getPropertyValue("display");var c=g.style.getPropertyPriority("display");g.style.setProperty("display","block","important");e=!0}var h=ba.calculateElementOffset(g),m=document.documentElement.scrollLeft||window.scrollX,
l=document.documentElement.scrollTop||window.scrollY,n=window.innerHeight,p=window.innerWidth,q=g.offsetHeight,r=g.offsetWidth,h=h.left>=m&&h.top>=l&&r+h.left<=m+p&&q+h.top<=l+n?!0:(h.left<=m&&h.left+r>m||h.left>=m&&h.left<=m+p)&&(h.top<=l&&h.top+q>l||h.top>=l&&h.top<=l+n)?!0:!1;"hidden"===document.visibilityState&&(h=!1);e&&g.style.setProperty("display",k,c);h||b.push(f)}}}return b};this.fetchAndRender=function(a){return H(a)};var H=function(b){return new a.CPromise(function(d,e){b=b||window.uponit.slots;
b=v(b);e=F(b);a.CPromise.all(e).then(function(e){if(n.fireEvent("fetchASOnlyIfHasHBBids")){b=[];for(var f=0;f<e.length;f++){var g=e[f],h=g.slotName,g=g.bids,c=a.find(window.uponit.slots,function(a){return a.unit.space.name==h});0<g.length?b.push(c):c.renderBid(void 0)}}e=p(b);a.forEach(e,function(b){b.then(function(b){var c=b.slotName;b=a.find(window.uponit.slots,function(a){return a.unit.space.name==c});for(var d=b.getBids(),e,f=0;f<d.length;f++){var g=d[f];(!e||e.cpm<g.cpm)&&g.complianceStatus==
k.consts.complianceStatus.COMPLIANT&&(e=g)}b.renderBid(e)})});a.CPromise.all(e).then(function(){d()})})})};this.addEventListener=function(a,b){h[a]=h[a]||[];h[a].push(b)};var I=function(b){return a.find(b.auctionsList,function(a){return a.state!=J.Auction.States.DONE})},z=function(b){return a.map(b,function(a){var b=I(a);b||(b=new J.Auction({unit:a.unit}),a.auctionsList.push(b),n.fireEvent("onAuctionStarted",{auction:b}));return b})},B=function(b){return a.map(b,function(a){return{bidId:a.bidId,adId:a.adId,
bidder:a.bidder,cpm:a.cpm,height:a.height,width:a.width,size:a.size,complianceStatus:a.complianceStatus}})}};r.api=u})(Ga);var Ha={};(function(x){var u=function(a){var c={},d=a.selector||("#"+a.code).replace(/\./gm,"\\."),e=[],g=a.sizes;g||a.mediaTypes&&a.mediaTypes.banner&&a.mediaTypes.banner.sizes&&(g=a.mediaTypes.banner.sizes);for(var h=0;h<g.length;h++){var k=g[h];e.push(k[0]+"x"+k[1])}c.id=a.id||a.code+"_"+e+"_"+d;c.name=a.code;c.sizes=e;c.selector={position:0,value:d};if(a.bids)for(c.preBiddingSettings=
{enabled:!0,biddingSettings:[]},c.preBiddingSettings.biddingSettings[1]=[],h=0;h<a.bids.length;h++)d=a.bids[h],c.preBiddingSettings.biddingSettings[1].push({id:c.id+"_"+d.bidder+"_"+JSON.stringify(d.params).trim(),testCompliance:!0,name:d.bidder,params:d.params});else c.preBiddingSettings={enabled:!1};c.postBiddingSettings=f?{adxId:c.name+"_adx",directId:c.name+"_direct",enabled:!0,type:1,order:[{params:{},adx:{bidderID:c.name+"_adx",testCompliance:!0},direct:{bidderID:c.name+"_direct",testCompliance:!0}},
{params:{queryParams:{ad_type:"text"}},adx:{bidderID:c.name+"_adx",testCompliance:!1},direct:{bidderID:c.name+"_direct",testCompliance:b.fireEvent("forceCompliant")||!1}}]}:{enabled:!1};return c},q=new function(){var a=M.CustomEvents;this.init=function(){a.addEventListener("onPageView",function(a){l.infof(null,"onPageView: %o",a)});a.addEventListener("onPageFocus",function(a){l.infof(null,"onPageFocus: %o",a)});a.addEventListener("onAuctionGroupStarted",function(a){l.infof(null,"onAuctionGroupStarted: %o",
a)});a.addEventListener("onAuctionGroupEnded",function(a){l.infof(null,"onAuctionGroupEnded: %o",a)});a.addEventListener("onAuctionStarted",function(a){l.infof(null,"onAuctionStarted: %o",a)});a.addEventListener("onAuctionEnded",function(a){l.infof(null,"onAuctionEnded: %o",a)});a.addEventListener("onPrebiddingStarted",function(a){l.infof(null,"onPrebiddingStarted: %o",a)});a.addEventListener("onPrebiddingEnded",function(a){l.infof(null,"onPrebiddingEnded: %o",a)});a.addEventListener("onPostbiddingStarted",
function(a){l.infof(null,"onPostbiddingStarted: %o",a)});a.addEventListener("onPostbiddingEnded",function(a){l.infof(null,"onPostbiddingEnded: %o",a)});a.addEventListener("onAuctionBidResponse",function(a){l.infof(null,"onAuctionBidResponse: %o",a)});a.addEventListener("onNewUnitFound",function(a){l.infof(null,"onNewUnitFound: %o",a)})}};window.__upo_d=window.__upo_d||{};window.__upo_d.v="v2";window.googletag=window.googletag||{};window.googletag.cmd=window.googletag.cmd||[];var n={"hideSelectors":null,"elementDisplay":"block","analyticsID":"","contentEnabled":true,"mobileContentEnabled":true,"dfpEnabled":true,"spaces":{}},
h=n.spaces||{},f="true"==localStorage.getItem("forceGAM")?!0:n.dfpEnabled||!1,e=!1,d="true"==localStorage.getItem("forceMobileContent")?!0:n.mobileContentEnabled,g="true"==localStorage.getItem("forceContent")?!0:n.contentEnabled,b=M.CustomEvents,y;window.__upo_d.configData=n;k.SharedObject.setItem("websiteID","5763266364047360");var l=r.new();l.setPrefix("main: ");l.setLevel(r.INFO);var C=function(){try{var a=r.new();a.setPrefix("hook: ");a.setLevel(r.DEBUG);window.eval.call(window,"(function (CustomEvents, lg) {\n"+
atob("LyoKICAgICMgY2hhbmdlbG9nCgogICAgIyMgNC8yMy8yMDIwCiAgICAqIFtkaW9nb10gLSBhZGRlZCBndWFyZEVsZW1lbnRXZWJzaXRlSG9vayB0byBwcmV2ZW50IGdvb2dsZV9hZCBjb250YWluZXJzIGZyb20gYmVpbmcgY2xlYXJlZAogICAgKiBbZGlvZ29dIC0gdXBkYXRlZCByZW1vdmVTaXplc0RmcENvbmZpZyB0byByZW1vdmUgbm9uLWNvbXBsaWFudCBzaXplcwogICAgKiBbZGlvZ29dIC0gYWRkZWQgb25BdWN0aW9uRW5kZWRXZWJzaXRlSG9vayB0byBoaWRlIHBhcmVudCBlbGVtZW50cyB3aGVuIHVuaXQgaGFzIG5vIGJpZHMKICAgICMjIDUvMDEvMjAyMAogICAgKiBbS2VuZGFsbF0gLSBBZGRlZCBzY2hhaW4gY29uZmlnIGludG8gcHJlYmlkLiBBbHNvIHVwZGF0ZWQgdG8gbGF0ZXN0IHZlcnNpb24gb2YgUHJlYmlkIDIueCAoMi40NC44KQogICAgIyMgNS8wNi8yMDIwCiAgICAqIFtkaW9nb10gLSByZXNldHRpbmcgWE1MSHR0cFJlcXVlc3Qgb2JqIGZvciBpbm5lcnN0cmVuZ3RoLnpvbmUKICAgICogW2Rpb2dvXSAtIGR5bmFtaWNhbGx5IHNjcmFwcGluZyBhZC11bml0cwogICAgKiBbZGlvZ29dIC0gYWRkZWQgb25BdWN0aW9uUmVuZGVyZWRXZWJzaXRlSG9vayBob29rIGZvciBvbnR2dG9uaWdodC5jb20KICAgICogW2Rpb2dvXSAtIHJlbW92ZWQgZ3VtZ3VtIGJpZGRlciBmcm9tIGFkaGVzaW9uL3N0aWNreSBhZC11bml0cwogICAgIyMgNS8yMi8yMDIwCiAgICAqIFtsYXdyZW5jZV0gLSByZW1vdmUgZmxvYXRVcG9MYWJlbCBob29rICYgY3VzdG9tIHVwby1sYWJlbCBzdHlsZSBjb2RlIChpcyBub3cgZ2xvYmFsIGRlZmF1bHQpCiovCgp2YXIgaXNTaXRlID0gZnVuY3Rpb24gKHNpdGUpIHsKICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5kZXhPZihzaXRlKSA+IC0xOwp9CgppZiAoaXNTaXRlKCd1c2NyZWRpdGNhcmRndWlkZS5jb20nKSkgewogICAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnI3VzY3JlZGl0Y2FyZGd1aWRlXzMwMHgyNTBfcmlnaHQyLnVwLXNob3csICN1c2NyZWRpdGNhcmRndWlkZV8zMDB4MjUwX3JpZ2h0My51cC1zaG93LCAjdXNjcmVkaXRjYXJkZ3VpZGVfMzAweDI1MF9SaWdodDEudXAtc2hvdyB7IG1heC13aWR0aDogMzAwcHggIWltcG9ydGFudDsgfSBkaXZbaWQqPSJpbmxpc3QiXS51cC1zaG93IHsgbWFyZ2luOiA0MHB4IGF1dG8gMjBweCAhaW1wb3J0YW50OyB9JzsKICAgIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpOwp9IGVsc2UgaWYgKGlzU2l0ZSgnc3RvY2tjaGFydHMuY29tJykpIHsKICAgIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gJyNzdG9ja2NoYXJ0c183Mjh4OTBfMzIweDUwX0FkaGVzaW9uIC51cG8tbGFiZWwgeyBwb3NpdGlvbjogdW5zZXQgIWltcG9ydGFudDsgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7fSc7CiAgICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTsKfSBlbHNlIGlmIChpc1NpdGUoJ3dvcmxkb21ldGVycy5pbmZvJykpIHsKICAgIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gJy5hZHNieWdvb2dsZSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfSc7CiAgICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTsKfSBlbHNlIGlmIChpc1NpdGUoJ2NvcmRjdXR0ZXJzbmV3cy5jb20nKSkgewogICAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnI2NvcmRjdXR0ZXJuZXdzXzcyOHg5MF8zMjB4NTBfQVRGLnVwLXNob3cgeyBtYXgtd2lkdGg6IGluaGVyaXQgIWltcG9ydGFudDsgfSBkaXZbaWQqPSJEeW5hbWljQWRzIl0udXAtc2hvdyA+IC5haG92ZXIgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDsgfSc7CiAgICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTsKfSBlbHNlIGlmIChpc1NpdGUoJ2JvaW5nYm9pbmcubmV0JykpIHsKICAgIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gJyNib2luZ2JvaW5nXzk3MHg5MF83Mjh4OTBfMzIweDUwX1B1c2hkb3duIHsgbWFyZ2luOiBhdXRvICFpbXBvcnRhbnQ7IH0nOwogICAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cn0gZWxzZSBpZiAoaXNTaXRlKCdwaG90b2dyYXBoeWxpZmUuY29tJykpIHsKICAgIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gJyNQaG90b2dyYXBoeUxpZmVfNzI4eDkwXzMyMHg1MF9EeW5hbWljMS51cC1zaG93IHsgbWF4LXdpZHRoOiBpbmhlcml0ICFpbXBvcnRhbnQ7IH0nOwogICAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cn0gZWxzZSBpZiAoaXNTaXRlKCd0ZW5uaXN3b3JsZHVzYS5vcmcnKSkgewogICAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnZGl2W2lkXj0iYWRfMzAweCJdLnVwLXNob3cgKyBkaXYsIGRpdltpZF49ImFkXzMwMHgiXS51cC1oaWRlICsgZGl2IHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9JzsKICAgIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpOwp9IGVsc2UgaWYgKGlzU2l0ZSgnZXZlbnRodWJzLmNvbScpKSB7CiAgICB2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9ICdkaXZbaWQqPSJEeW5hbWljQWRzIl0udXAtc2hvdyA+IC5haG92ZXIgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDsgfSc7CiAgICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTsKfSBlbHNlIGlmIChpc1NpdGUoJ21lZXRtZS5jb20nKSkgewogICAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnLmFkLXVuaXQ6YmVmb3JlIHsgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7IH0nOwogICAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cn0gZWxzZSBpZiAoaXNTaXRlKCdpbG92ZW15ZG9nc29tdWNoLnR2JykpIHsKICAgIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gJyNpbG92ZW15ZG9nc29tdWNoXzMyMHg1MF90b3AudXAtc2hvdyB+IGRpdi5iYW5uZXJfY29udGFpbmVyIHsgbWFyZ2luLXRvcDogMTIwcHggIWltcG9ydGFudDsgfSc7CiAgICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQuY29uY2F0KCcgI2lsb3ZlbXlkb2dzb211Y2hfMzIweDUwX3RvcC51cC1zaG93IHsgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7IH0nKTsKICAgIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpOwp9IGVsc2UgaWYgKGlzU2l0ZSgncGV0YXBpeGVsLmNvbScpKSB7CiAgICB2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9ICdkaXZbaWQqPSJCVEZfSW5zdHJlYW0iXSB7IG1heC13aWR0aDogaW5oZXJpdCAhaW1wb3J0YW50OyB9JzsKICAgIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpOwp9CgovLyBIaWRlIGVsZW1lbnQgdGhhdCBwYWRzIHN0aWNreSBhZCB1bml0CnZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwpzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnI2ZzLXN0aWNreS1icmFuZGluZy1lbG0sIC51cC1zaG93ID4gLmZzLWJyYW5kaW5nLWVsbSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfSAjc2xvdC1mb290ZXItd3JhcHBlciAuYWhvdmVyIH4gW2lkXj0iZ29vZ2xlX2FkIl0geyBkaXNwbGF5OiBpbmhlcml0ICFpbXBvcnRhbnQ7IH0nOwoKLy8gSGlkZSBnb29nbGUgYWQgY29udGFpbmVyIGlmIHVuaXQgZGlkbid0IGdldCBhIHdpbm5pbmcgYmlkLCBvciBpZiBpdCBnb3QgYSBoYiB3aW5uaW5nIGJpZApzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQuY29uY2F0KCcgLnVwLWhpZGUgW2lkXj0iZ29vZ2xlX2FkIl0sIC5haG92ZXIgKyBbaWRePSJnb29nbGVfYWQiXXsgd2lkdGg6IDFweCAhaW1wb3J0YW50OyBoZWlnaHQ6MXB4ICFpbXBvcnRhbnQ7IGRpc3BsYXk6IGdyaWQgIWltcG9ydGFudDsgfScpOwoKKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cgp2YXIgcGFyc2VBZFVuaXQgPSBmdW5jdGlvbiAoYWRVbml0KSB7CiAgICB2YXIgcGFyc2VkQWRVbml0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhZFVuaXQpKTsgLy8gY2xvbmUgb2JqZWN0CiAgICB2YXIgY29kZVBhcnRzID0gcGFyc2VkQWRVbml0LmNvZGUgJiYgcGFyc2VkQWRVbml0LmNvZGUuc3BsaXQoIi8iKTsKICAgIHBhcnNlZEFkVW5pdC5jb2RlID0gY29kZVBhcnRzW2NvZGVQYXJ0cy5sZW5ndGggLSAxXTsKCiAgICBwYXJzZWRBZFVuaXQuc2VsZWN0b3IgPSAnW2lkPSInICsgcGFyc2VkQWRVbml0LmNvZGUgKyAnIl0nCgogICAgLy8gUmVtb3ZlIDNsaWZ0IG1vYmlsZSBiaWRkZXIgd2hlbiBydW5uaW5nIHRoZSBzY3JpcHQgaW4gYSBkZXNrdG9wIGJyb3dzZXIKICAgIGlmIChwYXJzZWRBZFVuaXQuYmlkcyAmJiAhd2luZG93WyJfX3Vwb19kIl1bImlzTW9iaWxlIl0pIHsKICAgICAgICBwYXJzZWRBZFVuaXQuYmlkcyA9IFtdCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhZFVuaXQuYmlkcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgYmlkU2V0dGluZ3MgPSBhZFVuaXQuYmlkc1tpXTsKICAgICAgICAgICAgaWYgKGJpZFNldHRpbmdzLnBhcmFtcyAmJiBiaWRTZXR0aW5ncy5wYXJhbXMuaW52ZW50b3J5Q29kZSAmJiBiaWRTZXR0aW5ncy5wYXJhbXMuaW52ZW50b3J5Q29kZS5pbmRleE9mKCdtb2JpbGUnKSAhPSAtMSkgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcGFyc2VkQWRVbml0LmJpZHMucHVzaChiaWRTZXR0aW5ncyk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIEJsYWNrIGxpc3QgdW5pdHMgdG8gcmVtb3ZlIGZyb20gYXVjdGlvbnMKICAgIGlmIChpc1NpdGUoJ2JhY2tjaGluYS5jb20nKSAmJiBwYXJzZWRBZFVuaXQuY29kZSA9PSAnYmFja2NoaW5hXzMwMHgyNTBfQVRGX0wnKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgLy8gLy8gW0FNLTQ1Ml0gQUEgVmlvbGF0aW9uIC0gRGlzYWJsZSBkeW5hbWljYWxseSBnZW5lcmF0ZWQgaW4tY29udGVudCBhZCB1bml0cwogICAgaWYgKGlzU2l0ZSgnYmxlZXBpbmdjb21wdXRlci5jb20nKSAmJiBwYXJzZWRBZFVuaXQuY29kZS5pbmRleE9mKCdibGVlcGluZ2NvbXB1dGVyXzcyOHg5MF8zMDB4MjUwX18zMjB4MTAwXzMyMHg1MF9keW5hbWljJykgPiAtMSkgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyBSZW1vdmUgZ3VtZ3VtIGJpZGRlciBmcm9tIGFkaGVzaW9uL3N0aWNreSBhZC11bml0cwogICAgdHJ5IHsKICAgICAgICBpZiAocGFyc2VkQWRVbml0LmNvZGUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnX2FkaGVzaW9uJykgfHwgcGFyc2VkQWRVbml0LmNvZGUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnX3N0aWNreScpKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyc2VkQWRVbml0LmJpZHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmIChwYXJzZWRBZFVuaXQuYmlkc1tpXS5iaWRkZXIgPT0gJ2d1bWd1bScpIHsKICAgICAgICAgICAgICAgICAgICBwYXJzZWRBZFVuaXQuYmlkcy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgbGcuZXJyb3JmKG51bGwsICdlcnJvciByZW1vdmluZyBndW1ndW0gYmlkZGVyOiAlbycsIGUpCiAgICB9CgogICAgcmV0dXJuIHBhcnNlZEFkVW5pdDsKfQoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoImV4dHJhY3RQdWJsaXNoZXJTcGFjZXNTZXR0aW5ncyIsIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgICAgICB2YXIgZXh0cmFjdGlvbkludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZnNwcmViaWQgJiYgZnNwcmViaWQuYWRVbml0cyAmJiBmc3ByZWJpZC5hZFVuaXRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChleHRyYWN0aW9uSW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRVbml0cyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZzcHJlYmlkLmFkVW5pdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZFVuaXQgPSBmc3ByZWJpZC5hZFVuaXRzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnNlZEFkVW5pdCA9IHBhcnNlQWRVbml0KGFkVW5pdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZEFkVW5pdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkVW5pdHMucHVzaChwYXJzZWRBZFVuaXQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkVW5pdHM6IGFkVW5pdHMKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICAgICAgfSwgMzAwKQogICAgICAgIH0KICAgIH0KfSkKCkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCJleHRyYWN0UHVibGlzaGVyU3BhY2VMYXRlckRlZmluZVNsb3QiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHZhciBhZFVuaXRDb2RlID0gZXZlbnQuZGF0YS5uYW1lOwogICAgaWYgKGZzcHJlYmlkICYmIGZzcHJlYmlkLmFkVW5pdHMgJiYgZnNwcmViaWQuYWRVbml0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmc3ByZWJpZC5hZFVuaXRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBhZFVuaXQgPSBmc3ByZWJpZC5hZFVuaXRzW2ldOwogICAgICAgICAgICBpZiAoYWRVbml0LmNvZGUgPT0gYWRVbml0Q29kZSkgewogICAgICAgICAgICAgICAgdmFyIHBhcnNlZEFkVW5pdCA9IHBhcnNlQWRVbml0KGFkVW5pdCk7CiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZEFkVW5pdCkgewogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZEFkVW5pdDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfSk7CgpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcigib25BdWN0aW9uRW5kZWRXZWJzaXRlSG9vayIsIGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIGVsZW1lbnQgPSBldmVudC5kYXRhLmVsZW1lbnQ7CiAgICB2YXIgYmlkID0gZXZlbnQuZGF0YS5iaWQ7CgogICAgLy8gaGlkZSB0aGUgcGFyZW50IGVsZW1lbnQgaWYgd2UgZGlkbid0IGdldCBhIGJpZCBmb3IgdGhlIHVuaXQKICAgIHRyeSB7CiAgICAgICAgaWYgKGlzU2l0ZSgnYmFja2NoaW5hLmNvbScpKSB7CiAgICAgICAgICAgIGlmIChlbGVtZW50LmlkID09PSAnYmFja2NoaW5hX2xlYWRlcmJvYXJkJyAmJiAhYmlkKSB7CiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsICJub25lIiwgImltcG9ydGFudCIpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChpc1NpdGUoJ21lZXRtZS5jb20nKSkgewogICAgICAgICAgICBpZiAoZWxlbWVudC5pZCA9PT0gJ21lZXRtZV83Mjh4OTBfOTcweDkwX0FURicgJiYgIWJpZCkgewogICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCAibm9uZSIsICJpbXBvcnRhbnQiKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBsZy5lcnJvcmYobnVsbCwgJ2ZhaWxlZCB0byBoaWRlIHBhcmVudCBlbGVtZW50ICVvJywgZSk7CiAgICB9Cn0pOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoImd1YXJkRWxlbWVudFdlYnNpdGVIb29rIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmRhdGEuZWxlbWVudDsKICAgIHZhciBhZENvbnRhaW5lcjsKICAgIGlmIChpc1NpdGUoJ21pbmVodXQuY29tJykgfHwgaXNTaXRlKCdtZWV0bWUuY29tJykpIHsKICAgICAgICBhZENvbnRhaW5lciA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignW2lkXj0iZ29vZ2xlX2FkIl0nKTsKICAgIH0KICAgIHJldHVybiBhZENvbnRhaW5lcjsKfSk7CgovLyBGaWx0ZXIgb3V0IDk3MHgyNTAgc2l6ZXMKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoIm1vZGlmeVNwYWNlc09uQmVmb3JlRmV0Y2hpbmciLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHZhciBzcGFjZSA9IGV2ZW50LmRhdGEuc3BhY2U7CiAgICB2YXIgc2l6ZXMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhY2Uuc2l6ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgc2l6ZSA9IHNwYWNlLnNpemVzW2ldOwogICAgICAgIGlmIChzaXplID09ICI5NzB4MjUwIikgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgICAgc2l6ZXMucHVzaChzaXplKTsKICAgIH0KICAgIHNwYWNlLnNpemVzID0gc2l6ZXM7CiAgICByZXR1cm4gc3BhY2U7Cn0pOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoInJlbW92ZVNpemVzRGZwQ29uZmlnIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoaXNTaXRlKCd3b3JsZG9tZXRlcnMuaW5mbycpKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZm9yQWxsOiBbImZsdWlkIiwgewogICAgICAgICAgICAgICAgd2lkdGg6IDk3MCwKICAgICAgICAgICAgICAgIGhlaWdodDogMjUwCiAgICAgICAgICAgIH1dCiAgICAgICAgfQogICAgfSBlbHNlIGlmIChpc1NpdGUoJ21pbmVodXQuY29tJykpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAiZm9yQWxsIjogW3sKICAgICAgICAgICAgICAgIHdpZHRoOiA5NzAsCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDkwCiAgICAgICAgICAgIH1dCiAgICAgICAgfQogICAgfSBlbHNlIGlmIChpc1NpdGUoJ21lZXRtZS5jb20nKSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICJtZWV0bWVfNzI4eDkwXzk3MHg5MF9BVEYiOiBbewogICAgICAgICAgICAgICAgd2lkdGg6IDk3MCwKICAgICAgICAgICAgICAgIGhlaWdodDogOTAKICAgICAgICAgICAgfV0KICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIG51bGw7Cn0pOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoInByZWJpZERvbmVJbml0IiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIgY3BianMgPSBldmVudC5kYXRhLmNwYmpzOwogICAgY3BianMucXVlLnB1c2goZnVuY3Rpb24gKCkgewogICAgICAgIC8vdHJ5IGZpcnN0IHRvIGdldCBmcm9tIGdldENvbmZpZwogICAgICAgIHZhciBzY2hhaW47CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgc2NoYWluID0gZnNwcmViaWQuZ2V0Q29uZmlnKCdzY2hhaW4nKTsKICAgICAgICAgICAgY3BianMuc2V0Q29uZmlnKHsKICAgICAgICAgICAgICAgIHNjaGFpbjogc2NoYWluCiAgICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgLy9zY2hhaW4gc2l0ZSBpZCB0cnkgdG8gZ2V0IGZyb20gZnJlZXN0YXIuZnNkYXRhLnNpdGVJZAogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY3BianMuc2V0Q29uZmlnKHsKICAgICAgICAgICAgICAgICAgICAic2NoYWluIjogewogICAgICAgICAgICAgICAgICAgICAgICAidmFsaWRhdGlvbiI6ICJzdHJpY3QiLAogICAgICAgICAgICAgICAgICAgICAgICAiY29uZmlnIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZlciI6ICIxLjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImNvbXBsZXRlIjogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJub2RlcyI6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFzaSI6ICJmcmVlc3Rhci5pbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNpZCI6IHRvU3RyaW5nKGZyZWVzdGFyLmZzZGF0YS5zaXRlSWQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJocCI6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICB9CiAgICB9KTsKfSk7CgpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcigib25BdWN0aW9uUmVuZGVyZWRXZWJzaXRlSG9vayIsIGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKCFpc1NpdGUoJ29udHZ0b25pZ2h0LmNvbScpKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIHRvIGVuc3VyZSB0aGUgYWQtY29udGFpbmVyIGlzIGNlbnRlciBhbGlnbmVkIHdlIHJlbW92ZSB0aGUgbWF4LXdpZHRoIHByb3BlcnR5IGZyb20gc3BhY2UgdW5pdAogICAgLy8gYW5kIHNldCBhIGhhcmQgd2lkdGggaW4gdGhlIGFkLWNvbnRhaW5lcgogICAgdmFyIGVsZW1lbnQgPSBldmVudC5kYXRhLmVsZW1lbnQ7CiAgICB2YXIgbWF4V2lkdGggPSBlbGVtZW50LnN0eWxlLm1heFdpZHRoOwogICAgZWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbWF4LXdpZHRoJyk7CgogICAgdmFyIGFob3ZlciA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcigiLmFob3ZlciIpOwogICAgdmFyIGdvb2dsZUFkID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbaWRePSJnb29nbGVfYWQiXScpOwogICAgdmFyIGNyZWF0aXZlQ29udGFpbmVyID0gKCFhaG92ZXIgJiYgZ29vZ2xlQWQgPyBnb29nbGVBZCA6IGFob3Zlcik7CiAgICBjcmVhdGl2ZUNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCBtYXhXaWR0aC5yZXBsYWNlKCciJywgJycpKTsKICAgIGNyZWF0aXZlQ29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCdtYXJnaW4nLCAnMHB4IGF1dG8gMHB4IGF1dG8nKTsKfSk7CgovLyBSZXNldCBYTUxIdHRwUmVxdWVzdCBiYWNrIHRvIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpZiBwdWIgaGFzIG92ZXJ3cml0dGVuIGl0CmlmIChpc1NpdGUoJ2lubmVyc3RyZW5ndGguem9uZScpKSB7CiAgICB0cnkgewogICAgICAgIHZhciBuYXRpdmVYTUxIdHRwUmVxdWVzdEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAod2luZG93LlhNTEh0dHBSZXF1ZXN0LnRvU3RyaW5nKCkuaW5kZXhPZignbmF0aXZlIGNvZGUnKSA9PSAtMSkgewogICAgICAgICAgICAgICAgdmFyIGlmciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnIpOwogICAgICAgICAgICAgICAgaWZyLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTsKICAgICAgICAgICAgICAgIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA9IGlmci5jb250ZW50V2luZG93LlhNTEh0dHBSZXF1ZXN0OwogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChuYXRpdmVYTUxIdHRwUmVxdWVzdEludGVydmFsKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIDMwMCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgbGcuZXJyb3JmKG51bGwsICdlcnJvciByZXNldHRpbmcgaWZyYW1lOiAlbycsIGUpCiAgICB9Cn0KCi8vIExhenkgbG9hZCBhZC11bml0cyBkeW5hbWljYWxseSBhZGRlZCB0byBwcmViaWQKLy8gdHJhY2sgbGFzdCBrbm93biBudW1iZXIgb2YgYWQtdW5pdHMKdmFyIHRvdGFsQWRVbml0cyA9IDA7Ci8vIHRyYWNrIG5ldyBhZC11bml0cyB0aGF0IG5lZWQgc28gYmUgc2NyYXBwZWQKdmFyIG5ld1VuaXRzID0gW107Cgp2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICB0cnkgewogICAgICAgIGlmIChmc3ByZWJpZCAmJiBmc3ByZWJpZC5hZFVuaXRzICYmIGZzcHJlYmlkLmFkVW5pdHMubGVuZ3RoICE9IHRvdGFsQWRVbml0cykgewogICAgICAgICAgICB0b3RhbEFkVW5pdHMgPSBmc3ByZWJpZC5hZFVuaXRzLmxlbmd0aDsKCiAgICAgICAgICAgIC8vIGZldGNoIGFsbCBhY3RpdmUgc3BhY2VzCiAgICAgICAgICAgIHZhciBzcGFjZXMgPSBDdXN0b21FdmVudHMuZmlyZUV2ZW50KCJ3ZWJzaXRlSG9va3NHZXRTcGFjZXMiKTsKICAgICAgICAgICAgdmFyIGFjdGl2ZVNwYWNlcyA9IHt9OwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwYWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgYWN0aXZlU3BhY2VzW3NwYWNlc1tpXS5uYW1lXSA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGNoZWNrIHdoaWNoIGFkLXVuaXRzIHVuaXRzIGhhdmVuJ3QgeWV0IGJlZW4gY29udmVydGVkIHRvIHNwYWNlcwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZzcHJlYmlkLmFkVW5pdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHZhciBhZFVuaXQgPSBmc3ByZWJpZC5hZFVuaXRzW2ldOwogICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVNwYWNlc1thZFVuaXQuY29kZV0pIHsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG5ld1VuaXRzLnB1c2goYWRVbml0KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBsZy5lcnJvcmYobnVsbCwgJ3NjcmFwZSBwcmViaWQgYWQtdW5pdHM6ICVvJywgZSk7CiAgICB9Cn0sIDEwMDApOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoImV4dHJhY3RQdWJsaXNoZXJTcGFjZXNMYXRlckRlZmluZWRVbml0cyIsIGZ1bmN0aW9uICgpIHsKICAgIGlmIChuZXdVbml0cy5sZW5ndGggPCAxKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIHBhcnNlIGFsbCBuZXcgYWQtdW5pdHMgc2NyYXBwZWQgZnJvbSBwcmViaWQKICAgIHRyeSB7CiAgICAgICAgdmFyIHBhcnNlZFVuaXRzID0gW107CiAgICAgICAgd2hpbGUgKG5ld1VuaXRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdmFyIGFkVW5pdCA9IG5ld1VuaXRzLnBvcCgpOwogICAgICAgICAgICB2YXIgcGFyc2VkQWRVbml0ID0gcGFyc2VBZFVuaXQoYWRVbml0KTsKICAgICAgICAgICAgaWYgKCFwYXJzZWRBZFVuaXQpIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHBhcnNlZFVuaXRzLnB1c2gocGFyc2VkQWRVbml0KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHBhcnNlZFVuaXRzOwogICAgfSBjYXRjaCAoZSkgewogICAgICAgIGxnLmVycm9yZihudWxsLCAnZXh0cmFjdFB1Ymxpc2hlclNwYWNlc0xhdGVyRGVmaW5lVW5pdHM6ICVvJywgZSk7CiAgICB9Cn0pOw==")+"\n})")(b,a)}catch(G){debugger}},H=function(){P(top);z();b.fireEvent("noWhitelistedFrame")||v();b.fireEvent("clearSpaces")&&(h=[]);return K().then(function(){var c=a.CPromise.resolve();b.fireEvent("addAmazonBidder")&&(c=p());I();return c})},I=function(){var c=a.map(h,function(a){return T.spaceDecoder(a)}),d=b.fireEvent("customSpacesFilter",{spaces:c});d&&(h=a.filter(h,function(b){return a.find(d,function(a){return a.id==b.id})}))},p=function(){return new a.CPromise(function(c,
d){window.googletag.cmd.push(function(){var d=0,e=setInterval(function(){if(10<=d)c(),clearInterval(e);else{var f=window.googletag.pubads().getSlots(),g=window.apstag,m=g&&g._Q&&g._Q[0]&&g._Q[0][1]&&g._Q[0][1][0]&&g._Q[0][1][0].pubID;m&&f?(clearInterval(e),a.forEach(f,function(c){var d=c.getAdUnitPath(),e=c&&a.find(h,function(a){return b.fireEvent("useSlotPath")&&a.name==d?!0:a.name==c.getSlotElementId()});e&&e.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid]&&(a.find(e.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid],
function(a){return"amazonAAX"==a.name})||e.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid].push({id:d+"_amazon_bidder",name:"amazonAAX",testCompliance:!0,params:{pubID:m,adUnitGPTPath:d}}))}),c()):d++}},100)})})},v=function(){"chrome"!=y.browser||b.fireEvent("only3pSafeFrame")||(k.upoSettings.whitelistedFrameSettings.url="about:blank?upapi=true",k.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame=!1);var a=T.createSafeFrame();a.addEventListener("load",function(){k.whitelistedFrame=
a;b.fireEvent("whitelistedFrameLoaded",{whitelistedFrame:a})});a.style.width="0px";a.style.height="0px";a.style.display="none";document.body?document.body.appendChild(a):window.addEventListener("DOMContentLoaded",function(){document.body.appendChild(a)})},L=function(a,b){if(a.grumi){var c=document.createElement("iframe");c.style="display:none;width:1px;height:1px;";c.addEventListener("load",function(){c.done||(a.Node.prototype.appendChild=c.contentWindow.Node.prototype.appendChild,a.HTMLElement.prototype.appendChild=
c.contentWindow.Node.prototype.appendChild,b())});F.onDomLoaded(function(){document.body.appendChild(c);c.contentWindow&&(c.done=!0,a.Node.prototype.appendChild=c.contentWindow.Node.prototype.appendChild,a.HTMLElement.prototype.appendChild=c.contentWindow.Node.prototype.appendChild,b())})}else b()},P=function(a){a&&L(a,function(){try{a.XMLHttpRequest&&t.Hooks.hookFunction(a.XMLHttpRequest.prototype,"open",t.Hooks.Types.XHR_OPEN_PRE,void 0,!0);t.Hooks.hookFunction(a,"fetch",t.Hooks.Types.FETCH_PRE,
void 0,!0);a.HTMLElement&&t.Hooks.hookFunction(a.HTMLElement.prototype,"insertBefore",t.Hooks.Types.INSERT_BEFORE_PRE,void 0,!0);a.HTMLElement&&t.Hooks.hookFunction(a.HTMLElement.prototype,"appendChild",t.Hooks.Types.APPEND_CHILD_PRE,t.Hooks.Types.APPEND_CHILD_POST,!0);a.HTMLImageElement&&t.Hooks.hookFunction(a.HTMLImageElement.prototype,"setAttribute",t.Hooks.Types.IMG_SET_ATTRIBUTE_PRE,void 0,!0);t.Hooks.hookFunction(a,"open",t.Hooks.Types.WIN_OPEN_PRE,void 0,!0);a.HTMLElement&&t.Hooks.hookPropertySetter(a.HTMLElement.prototype,
"innerHTML",void 0,t.Hooks.Types.HTML_ELEMENT_INNERHTML_POST,!0);a.HTMLElement&&t.Hooks.hookFunction(a.HTMLElement.prototype,"hasChildNodes",t.Hooks.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,void 0,!0);for(var b="HTMLScriptElement HTMLElement HTMLVideoElement HTMLAudioElement HTMLHtmlElement HTMLHeadElement HTMLLinkElement HTMLStyleElement HTMLBodyElement HTMLFormElement HTMLSelectElement HTMLOptionElement HTMLInputElement HTMLTextAreaElement HTMLButtonElement HTMLLabelElement HTMLFieldSetElement HTMLLegendElement HTMLUListElement HTMLOListElement HTMLDListElement HTMLDirectoryElement HTMLMenuElement HTMLLIElement HTMLDivElement HTMLParagraphElement HTMLHeadingElement HTMLQuoteElement HTMLPreElement HTMLBRElement HTMLFontElement HTMLHRElement HTMLAnchorElement HTMLImageElement HTMLObjectElement HTMLParamElement HTMLMapElement HTMLModElement HTMLAreaElement HTMLTableElement HTMLTableCaptionElement HTMLTableColElement HTMLTableSectionElement HTMLTableRowElement HTMLTableCellElement HTMLFrameSetElement HTMLFrameElement HTMLIFrameElement".split(" "),
c=0;c<b.length;c++)a[b[c]]&&t.Hooks.hookPropertySetter(a[b[c]].prototype,"src",t.Hooks.Types.HTML_SRC_PROP_PRE,void 0,!0)}catch(Y){}})},z=function(){t.Hooks.addEventListener(t.Hooks.Types.HTML_SRC_PROP_PRE,function(a){a=a.data;"object"===typeof a[0]&&a[0].toString&&(a[0]=a[0].toString());if(D.isWhitelistURL(a[0],this.tagName))a[0]=D.addAcceptableParam(a[0]);else if(D.isSyncUrl(a[0],this.tagName)&&k.whitelistedFrame)return k.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame?(k.whitelistedFrame.postMessage({type:"eval",
code:"new window.Image().src = '"+a[0]+"'"},"*"),a[0]):(new k.whitelistedFrame.contentWindow.Image).src=a[0]});t.Hooks.addEventListener(t.Hooks.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,function(b){try{if(a.hasClass(this,"up-show"))return!1;if(this.childNodes&&0<this.childNodes.length){b=!1;for(var c=0;c<this.children.length;c++)if(a.hasClass(this.children[c],"up-show")){b=!0;break}if(b)return!1}}catch(m){}});t.Hooks.addEventListener(t.Hooks.Types.HTML_ELEMENT_INNERHTML_POST,function(a){if(this&&this.classList&&
"adsbygoogle"===this.classList[0]){a=this.querySelector("iframe");var b=a.contentWindow;"about:blank"!==a.src&&""!==a.src||P(b);var c=b.document.write;b.document.write=function(a){a&&-1<a.indexOf("show_ads_impl.js")&&(a=D.addAcceptableParam(a));c.call(this,a)}}});t.Hooks.addEventListener(t.Hooks.Types.XHR_OPEN_PRE,function(a){a=a.data;D.isWhitelistURL(a[1],"SCRIPT")&&(a[1]=D.addAcceptableParam(a[1]))});t.Hooks.addEventListener(t.Hooks.Types.IMG_SET_ATTRIBUTE_PRE,function(a){a=a.data;if("srcset"===
a[0].toLowerCase()){this.src&&D.isWhitelistURL(this.src,this.tagName)&&(this.src=D.addAcceptableParam(this.src));for(var b=a[1].split(","),c=0;c<b.length;c++){var d=b[c],d=d.trim(),e=d.split(" ")[0],d=d.split(" ")[1]||"";D.isWhitelistURL(e,this.tagName)&&(d=D.addAcceptableParam(e)+" "+d,b[c]=d)}a[1]=b.join(",")}else"src"===a[0].toLowerCase()&&D.isWhitelistURL(a[1],this.tagName)&&(a[1]=D.addAcceptableParam(a[1]))});t.Hooks.addEventListener(t.Hooks.Types.INSERT_BEFORE_PRE,function(a){a=a.data;b.fireEvent("InsertBeforeWebsiteHooksIntercept",
{element:a[0]});-1<["SCRIPT","IFRAME"].indexOf(a[0].tagName)&&a[0].src&&D.isWhitelistURL(a[0].src,a[0].tagName)&&(a[0].src=D.addAcceptableParam(a[0].src));"LINK"===a[0].tagName&&a[0].href&&D.isWhitelistURL(a[0].href,a[0].tagName)&&(a[0].href=D.addAcceptableParam(a[0].href))});t.Hooks.addEventListener(t.Hooks.Types.APPEND_CHILD_PRE,function(a){var b=a.data;if(b[0]&&b[0].src&&0===b[0].src.indexOf("blob:"))a.shouldStop=!0;else{if(b[0].children&&0<b[0].children.length)for(a=0;a<b[0].children.length;a++){var c=
b[0].children[a];c.src&&D.isWhitelistURL(c.src,c.tagName)&&(c.src=D.addAcceptableParam(c.src));if(c.src&&D.isSyncUrl(c.src,c.tagName)&&k.whitelistedFrame)return k.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame?(a="new Image().src = '"+b[0].src+"'",k.whitelistedFrame.postMessage({type:"eval",code:a},"*"),b[0]):k.whitelistedFrame.contentDocument.body.appendChild(b[0])}"LINK"===b[0].tagName&&b[0].href&&D.isWhitelistURL(b[0].href,b[0].tagName)&&(b[0].href=D.addAcceptableParam(b[0].href));-1<
["SCRIPT","IFRAME"].indexOf(b[0].tagName)&&b[0].src&&D.isWhitelistURL(b[0].src,b[0].tagName)&&(b[0].src=D.addAcceptableParam(b[0].src));if(D.isSyncUrl(b[0].src,b[0].tagName)&&k.whitelistedFrame)return k.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame?(a="new Image().src = '"+b[0].src+"'",k.whitelistedFrame.postMessage({type:"eval",code:a},"*"),b[0]):k.whitelistedFrame.contentDocument.body.appendChild(b[0])}});t.Hooks.addEventListener(t.Hooks.Types.APPEND_CHILD_POST,function(a){a=a.data;
"IFRAME"!==a.tagName||"about:blank"!==a.src&&""!==a.src||P(a.contentWindow)});t.Hooks.addEventListener(t.Hooks.Types.WIN_OPEN_PRE,function(a){if(a.data[0]&&(-1<a.data[0].indexOf("clickout.sharethrough.com")||-1<a.data[0].indexOf("3lift.com/pass"))&&k.whitelistedFrame&&!k.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame)return k.whitelistedFrame.contentWindow.open(a.data[0])})},B=function(){return new a.CPromise(function(c,d){var e=!0,f=va.getFlag("restrictionSettings");a.CPromise.all([V.contentRestriction(void 0,
void 0,S.Home.sendLog),V.acceptableAds(S.Home.sendLog)]).then(function(a){a={contentRestriction:a[0],acceptableAds:a[1],fromCache:!1};va.setFlag("restrictionSettings",a,Date.now()+6048E5);e?c(a):a.contentRestriction&&a.acceptableAds||b.addEventListener("stopFlag",function(){return!0});b.fireEvent("getRestrictionSettingsEnded",{contentRestriction:a.contentRestriction,acceptableAds:a.acceptableAds})},function(a){d(a)});f&&f.contentRestriction&&f.acceptableAds&&(e=!1,c({contentRestriction:f.contentRestriction,
acceptableAds:f.acceptableAds,fromCache:!0}))})},w=function(){var a=Ga.api;window.uponit=window.uponit||{que:[]};window.uponit.slots=[];window.uponit.COMPLIANCE_STATUSES=a.COMPLIANCE_STATUSES;window.uponit.defineSlot=a.defineSlot;window.uponit.init=a.init;window.uponit.enableServices=a.enableServices;window.uponit.UPONIT_EVENTS=a.UPONIT_EVENTS;window.uponit.fetchPrebid=a.fetchPrebid;window.uponit.fetchDFP=a.fetchDFP;window.uponit.renderBid=a.renderBid;window.uponit.fetchAndRender=a.fetchAndRender;
window.uponit.addEventListener=a.addEventListener;window.uponit.addModifier=function(a,b){window.uponit.modifiers=window.uponit.modifiers||{};window.uponit.modifiers[a]=window.uponit.modifiers[a]||[];window.uponit.modifiers[a].push(b)};for(a=0;a<window.uponit.que.length;a++){var b=window.uponit.que[a];try{b()}catch(m){}}window.uponit.que.push=function(a){a()}},E=function(a){var c={},d;for(d in a)if(a.hasOwnProperty(d)){var e=a[d],g={};g.id=d;g.name=e.unit;g.staging=e.staging;g.selector={position:e.selector.position,
value:e.selector.value};g.sizes=e.sizes;var h=e.prebids&&0<Object.keys(e.prebids).length;g.preBiddingSettings={enabled:h,biddingSettings:{}};if(h){g.preBiddingSettings.biddingSettings[1]=[];for(var k in e.prebids)e.prebids.hasOwnProperty(k)&&(h=e.prebids[k],g.preBiddingSettings.biddingSettings[1].push({id:k,name:h.bidder,testCompliance:!0,params:h.params}))}g.postBiddingSettings={adxId:e.adx,directId:e.direct,enabled:f&&"0"!=e.adx,type:1,order:[{params:{},adx:{bidderID:e.adx,testCompliance:!0},direct:{bidderID:e.direct,
testCompliance:!0}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:e.adx,testCompliance:!1},direct:{bidderID:e.direct,testCompliance:b.fireEvent("forceCompliant")||!1}}]};c[d]=g}return c},R=function(a){var b=[],c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];d.id=c;d=new J.Space(d);b.push(d)}return b},Q=function(a,d){var c=!1;try{c=!0}catch(Y){}(c&&!window.top.__pvsent||!c&&!window.__pvsent)&&b.fireEvent("onPageView",{websiteID:"5763266364047360",contentRestriction:a,acceptableAds:d})},K=function(){var c=
b.fireEvent("extractPublisherSpacesSettings");if(!c)return a.CPromise.resolve();var d=c.timeout||2E3;return new a.CPromise(function(a,b){c.callback(function(b){b=b.adUnits;for(var c=0;c<b.length;c++){var d=new J.Space(u(b[c]));h.push(d)}a()});setTimeout(function(){a()},d)})};x.init=function(){if(!window.uponitAlreadyLoaded){window.uponitAlreadyLoaded=!0;S.$XHRService.init("backend.upapi.net",{secure:!0});try{q.init(),wa.Verifications.run(),wa.Report.init()}catch(c){}B().then(function(c){var k=c.contentRestriction,
m=c.acceptableAds;l.infof(null,"restrictionSettings: %o",c);Q(k,m);y={browser:V.browser(),device:V.device(),platform:V.platform(),isMobile:V.isMobile()};if((window.__upo_d.isMobile=y.isMobile)&&!d)b.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!1}}),b.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!1}}),l.noticef(null,"halting: mobile");else if(k)if(m)if(window.disableUponit)b.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!1}}),
b.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!1}}),l.noticef(null,"halting: we have been disabled");else if(g){var n={browser:y.browser,device:y.device,platform:y.platform,isMobile:y.isMobile};b.addEventListener("getUserEnvDataWebsiteHooks",function(){return n});window.__upo_d.userEvnData=n;C();try{h=R(E(h)),0>window.location.search.indexOf("?blockthrough_staging=true")&&0>window.location.search.indexOf("&blockthrough_staging=true")&&(h=a.filter(h,function(a){return!a.staging}))}catch(oa){}w();
b.fireEvent("shouldDisableUponit")?l.noticef(null,"halting: we have been disabled by hooks"):(b.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!0}}),b.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!0}}),H().then(function(){var c=a.map(h,function(a){return T.spaceDecoder(a)});e=!!a.find(h,function(a){return a.preBiddingSettings&&a.preBiddingSettings.enabled});var d={spaces:h,settings:{prebid:b.fireEvent("forcePrebidEnabled")||e,dfp:f}};F.onDomLoaded(function(){b.fireEvent("onDomLoaded");
b.fireEvent("onBeforeRecovery",{spaces:c,settings:d.settings});A.invoke(d)})}))}else b.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!1}}),b.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!1}}),l.noticef(null,"halting: content disabled");else b.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!1}}),b.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!1}}),l.noticef(null,"halting: acceptable ads are disabled");
else b.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!1}}),b.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!1}}),l.noticef(null,"halting: no content restriction")})}};var A=new function(){var c=!1,d,e,f={};f[k.consts.refreshType.ALL]=[];f[k.consts.refreshType.VISIBLE]=[];f[k.consts.refreshType.HIDDEN]=[];var g=[],h=[],n=[],p=[],q=!1,r=function(h,m){if(!c){c=!0;d=h||[];e=m||{};q=b.fireEvent("alwaysFilterByGoogletagSlots");L(e);(e.dfp||q)&&E();
x();A();(p=b.fireEvent("movePositionRules")||[],0<p.length)&&T.movePositionService.setMovePositionRules(p);F.onScroll(function(){ja();U(k.consts.refreshType.HIDDEN);y(d)});F.onBlur(function(){U(k.consts.refreshType.HIDDEN)});if(h=b.fireEvent("refreshOnInterval")){var n=h.refreshInterval||2E3;l.infof(null,"going to dispatch refresher on a %o sec(s) interval",n/1E3);var r=function(){U(k.consts.refreshType.VISIBLE)};refreshOnIntervalCallbackID=setInterval(r,n);F.onFocus(function(){refreshOnIntervalCallbackID||
(refreshOnIntervalCallbackID=setInterval(r,n))});F.onBlur(function(){refreshOnIntervalCallbackID&&(clearInterval(refreshOnIntervalCallbackID),refreshOnIntervalCallbackID=null)})}ea.dispatch.subscribeForEvent("refresh",function(b){a.forEach(b,function(b){a.forEach(d,function(a){a&&a.name==b&&(0>f[k.consts.refreshType.HIDDEN].indexOf(a)&&f[k.consts.refreshType.HIDDEN].push(a),U(k.consts.refreshType.HIDDEN))})})});b.addEventListener("refreshByForce",function(b){var c=(b=(b=b.data)&&b.settings)&&b.spacesNames,
e=b&&b.shouldRefreshAllSpaces,f=[],h={filteringSettings:{minTimeBetweenRefreshes:b&&b.minTimeBetweenRefreshes}};b&&b.shouldRefreshFailedSpaces&&a.forEach(g,function(a){f.push(a)});c&&(f=a.filter(d,function(a){return-1<c.indexOf(a.name)}));e&&(f=d);f=a.distict(f);z(f,h).then(function(b){g=a.filter(f,function(a){return 0>b.indexOf(a)})})});b.addEventListener("websiteHooksGetSpaces",function(){return v()});b.fireEvent("scrapeGoogletagSlots")&&window.googletag.cmd.push(function(){var c=window.googletag.pubads().getSlots(),
c=a.map(c,function(a){var c=H(a);b.fireEvent("addAmazonBidder")&&I(c,a.getAdUnitPath());return c});a.forEach(c,function(a){a&&d.push(a)})});(e.dfp||q)&&window.googletag.cmd.push(function(){var b=window.googletag.pubads().getSlots();b&&a.forEach(b,function(a){D(a)})});w()}},w=function(){window.__upo_d.getSpaces=function(){return v()};window.__upo_d.getUnits=function(){var b=N.getAll();return a.map(b,function(a){return T.unitDecoder(a)})};window.__upo_d.getAuctions=function(){return a.map(h,function(a){return T.auctionDecoder(a)})}},
v=function(){return a.map(d,function(a){return T.spaceDecoder(a)})},x=function(){t.Hooks.addEventListener(t.Hooks.Types.REMOVE_CHILD_PRE,function(a){a=a.data[0];if(this.elementGuarder||a&&a.elementGuarder)return a});t.Hooks.addEventListener(t.Hooks.Types.HTML_ELEMENT_INNERHTML_PRE,function(a){if("undefined"!==typeof a.data[0]&&this.elementGuarder&&""===a.data[0])return""});t.Hooks.addEventListener(t.Hooks.Types.HTML_ELEMENT_TEXTCONTENT_PRE,function(a){if("undefined"!==typeof a.data[0]&&this.elementGuarder&&
""===a.data[0])return""});t.Hooks.addEventListener(t.Hooks.Types.SET_ATTRIBUTE_PRE,function(a){var b=a.data[1];"class"===a.data[0]&&0<=this.className.indexOf("up-show")&&0>b.indexOf("up-show")&&(a.data[1]+=" up-show")})},y=function(a){a=O(a);return z(a)},z=function(b,c){b=P(b);return S(b,c).then(function(b){return a.map(b,function(a){return a.space})})},A=function(){var a=v();b.fireEvent("listenToNewSpaces",{spaces:a,callback:function(a){if(a){for(var b=0;b<a.length;b++){var c=a[b];(c=c&&new J.Space(c))&&
d.push(c)}y(d)}}})},B=[],C,D=function(c){var e=c.getSlotElementId(),f=c.getAdUnitPath(),g=K(e);if(!g){if(b.fireEvent("useSlotPath"))g=K(f.split("/")[f.split("/").length-1]);else{var h=v(),k=b.fireEvent("customGetSpace",{spaces:h,divId:e});k&&(g=a.find(d,function(a){return a.name==k.name}))}if(g=g&&JSON.parse(JSON.stringify(g)))g.selector.value="#"+e,d.push(g)}!g&&(e=b.fireEvent("extractPublisherSpaceLaterDefineSlot",{name:e}))&&(g=new J.Space(u(e)),d.push(g));!g&&b.fireEvent("scrapeGoogletagSlots")&&
(g=H(c),d.push(g));g&&0>B.indexOf(g)&&(b.fireEvent("addAmazonBidder")&&I(g,f),B.push(g),clearTimeout(C),C=setTimeout(function(){z(B);B=[]},100))},E=function(){var a="push";window.googletag&&window.googletag.cmd.unshift&&(a="unshift");window.googletag.cmd[a](function(){var a=window.googletag.defineSlot;window.googletag.defineSlot=function(b,c,d){var e=a(b,c,d);setTimeout(function(){e&&D(e)},0);return e};if(b.fireEvent("overrideDefineOutOfPageSlot")){var c=window.googletag.defineOutOfPageSlot;window.googletag.defineOutOfPageSlot=
function(a,b){var d=c(a,b);setTimeout(function(){d&&D(d)},0);return d}}})},H=function(c){if(c&&!b.fireEvent("shouldIgnoreGoogletagSlotScraping",{slot:c})){var d=c.getSlotElementId(),d=d.replace(/\//g,"\\/");c=c.getSizes();c=a.map(c,function(a){if(a.getWidth)return a.getWidth()+"x"+a.getHeight()});if((c=a.filter(c,function(a){return!!a}))&&!(0>=c.length)){var f="adxId_"+d,g="directId_"+d,d={id:d,name:d,staging:!1,selector:{value:"#"+d,position:k.consts.selectorPosition.APPEND_CHILD},sizes:c,preBiddingSettings:{enabled:!0,
biddingSettings:{}},postBiddingSettings:{adxId:f,directId:g,enabled:e.dfp,type:1,order:[{params:{},adx:{bidderID:f,testCompliance:!0},direct:{bidderID:g,testCompliance:!0}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:f,testCompliance:!1},direct:{bidderID:g,testCompliance:b.fireEvent("forceCompliant")||!1}}]}};d.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid]=[];return new J.Space(d)}}},I=function(b,c){if(b&&b.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid]&&
!a.find(b.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid],function(a){return"amazonAAX"==a.name})){var d=window.apstag;(d=d&&d._Q&&d._Q[0]&&d._Q[0][1]&&d._Q[0][1][0]&&d._Q[0][1][0].pubID)&&c&&b.preBiddingSettings.biddingSettings[k.consts.headerBiddingType.prebid].push({id:c+"_amazon_bidder",name:"amazonAAX",testCompliance:!0,params:{pubID:d,adUnitGPTPath:c}})}},K=function(b){return a.find(d,function(a){return a&&a.name===b})},L=function(c){for(var d in c)if(c.hasOwnProperty(d)&&
c[d]){presetsCbs=[];postsetsCbs=[];var e=na.presetProvider(d),f=xa.postsetProvider(d);e&&presetsCbs.push(e);f&&postsetsCbs.push(f);e=b.fireEvent("thirdPartyModulePreset",{type:d});f=b.fireEvent("thirdPartyModulePostset",{type:d});e&&presetsCbs.push(e);f&&postsetsCbs.push(f);a.forEach(presetsCbs,function(a){da.addPresetCallback(d,a)});a.forEach(postsetsCbs,function(a){da.addPostsetCallback(d,a)});da.loadThirdParty(d)}},M=function(c,d){return new a.CPromise(function(f,g){var h=[];a.forEach(c,function(b){!a.find(n,
function(a){return a.unit==b})&&h.push(b)});var m=b.fireEvent("maxAmountOfUnitDispatches");m&&(h=a.filter(h,function(a){return a.countOfDispatches<m}));var p=k.upoSettings.minTimeBetweenRefreshes;g=b.fireEvent("minTimeBetweenRefreshes");isNaN(g)||"number"!=typeof g||(p=g);isNaN(d.minTimeBetweenRefreshes)||"number"!=typeof d.minTimeBetweenRefreshes||(p=d.minTimeBetweenRefreshes);var r=new Date,h=a.filter(h,function(a){if(!a)return!1;var b=!0;if(a.lastInvokeTime){var c=r.getTime()-a.lastInvokeTime.getTime();
c>p?l.infof(null,"refreshing %o",a.space.name):(b=!1,l.infof(null,"waiting %o secs before next refresh for %o",(p-c)/1E3,a.space.name))}return b}),t=a.map(h,function(a){return a.element}),h=a.filter(h,function(a,b){return t.indexOf(a.element)==b});e&&e.dfp||q?window.googletag.cmd.push(function(){var b=window.googletag.pubads().getSlots(),c=[];a.forEach(h,function(d){q||d.space.postBiddingSettings.enabled?a.forEach(b,function(a){a.getSlotElementId()===d.element.getAttribute("id")&&c.push(d)}):c.push(d)});
f(c)}):f(h)})},O=function(b){b=b||[];return a.filter(b,function(a){return!N.getBySpace(a)})};this.invoke=function(a){if(!b.fireEvent("stopFlag")){var c=a.spaces;r(c,a.settings);y(c);var d=1,e=setInterval(function(){15==d&&clearInterval(e);d++;y(c)},100)}};var P=function(c){var d=[];a.forEach(c,function(a){var c=T.getSpaceElement(a);if(c){var e=N.getByElement(c);e||(Q(c),c.elementGuarder=!0,e=new J.Unit({element:c,space:a}),b.fireEvent("onNewUnitFound",e),N.set(e))}e&&e.space==a&&d.push(e)});return d},
Q=function(a){a.alreadyWraped||(t.Hooks.hookFunction(a,"removeChild",t.Hooks.Types.REMOVE_CHILD_PRE,void 0,!0),t.Hooks.hookFunction(a.parentElement,"removeChild",t.Hooks.Types.REMOVE_CHILD_PRE,void 0,!0),t.Hooks.hookPropertySetter(a,"innerHTML",t.Hooks.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,!0),t.Hooks.hookPropertySetter(a,"textContent",t.Hooks.Types.HTML_ELEMENT_TEXTCONTENT_PRE,void 0,!0),t.Hooks.hookFunction(a,"setAttribute",t.Hooks.Types.SET_ATTRIBUTE_PRE,void 0,!0),a.alreadyWraped=!0)},R=function(a){for(var c=
0;c<a.length;c++){var e=a[c],f=T.spaceDecoder(e.space);if(f=b.fireEvent("modifySpacesOnBeforeFetching",{space:f})){f=new J.Space(f);e.space=f;for(var g,e=0;e<d.length;e++)if(d[e].id==f.id){g=e;break}g&&d.splice(g,1,f)}}},S=function(c,d){return new a.CPromise(function(f,g){b.fireEvent("onBeforeInvokeDispatch",{spaces:a.map(c,function(a){return T.spaceDecoder(a.space)})});R(c);g={};d&&(g=d.filteringSettings||{});M(c,g).then(function(c){try{if(f(c),c&&!(0>=c.length)){var d=a.map(c,function(a){return a.space});
T.movePositionService.dispatch(d);var g=a.map(c,function(a){return new J.Auction({unit:a})});b.fireEvent("onAuctionGroupStarted",g);X(g);if(!b.fireEvent("stopFlag")){b.fireEvent("onPrebiddingStarted",g);var h=ea.dispatch.dispatchHB(g);a.CPromise.all(h).then(function(c){b.fireEvent("onPrebiddingEnded",g);for(var d=0;d<c.length;d++){var f=c[d],h=f.auctionId,k=f.bids;a.forEach(g,function(a){a.auctionId==h&&a.addBids(k)})}c={forceCompliantEnabled:b.fireEvent("forceCompliant")||!1};b.fireEvent("stopFlag")||
(c=ea.dispatch.dispatchAS(g,c),a.forEach(c,function(c,d){c.then(function(c){var d=a.find(g,function(a){return a.auctionId==c.auctionId}),f=d.getWinningBid(),h=c.bids;h&&0<h.length?a.forEach(h,function(a){a.type==J.Bid.Types.DFP_PREBID?f&&f.additionalBidsToRender.push(a):d.addBids([a])}):e.dfp&&d.unit.space.postBiddingSettings.enabled&&f&&d.cancelAuction();if(!b.fireEvent("stopFlag")){var k=d.getWinningBid();d.subscribeForEvent("auctionRendered",function(){b.fireEvent("onAuctionRendered",{auction:d,
bid:k});b.fireEvent("onAuctionRenderedWebsiteHook",{space:T.spaceDecoder(d.unit.space),element:d.unit.element,winningBid:T.bidDecoder(k)});ba.onVisible(d.unit.element,function(){b.fireEvent("onAdViewed",{auction:d,bid:k});b.fireEvent("onAdViewedWebsiteHook",{space:T.spaceDecoder(d.unit.space),element:d.unit.element,winningBid:T.bidDecoder(k)})});var a=b.fireEvent("guardElementWebsiteHook",{element:d.unit.element});a&&(Q(a),a.elementGuarder=!0)});d.subscribeForEvent("renderBidDone",function(a){b.fireEvent("onAuctionEnded",
{auction:d,bid:a.successfulyRenderedBid&&k});b.fireEvent("onAuctionEndedWebsiteHook",{element:d.unit.element,bid:a.successfulyRenderedBid&&T.bidDecoder(k)})});d.renderWinningBid();n.splice(n.indexOf(d),1);V(d.unit.space)}})}))})}}}catch(za){l.errorf(null,"recovery: filterUnits %o",za)}})})},V=function(a){var c=b.fireEvent("spaceRefreshSettings",{space:T.spaceDecoder(a)});if(c){var d=T.refreshTypeDecoder(c.type);d==k.consts.refreshType.UNKNOWN?l.errorf(null,"invalid refresh type setting %o",c.type):
(c=c.rate||3E4,0>f[d].indexOf(a)&&f[d].push(a),l.infof(null,"setting up refresh(%s) for space %o in %o secs",d,a.name,c/1E3),setTimeout(function(){U(d)},c))}},W,U=function(b){clearTimeout(W);W=setTimeout(function(){var c=[];switch(b){case k.consts.refreshType.ALL:c=f[b];break;case k.consts.refreshType.VISIBLE:c=ca(f[b]);break;case k.consts.refreshType.HIDDEN:c=ga(f[b]);break;default:c=ga(f[b])}1>c.length?l.infof(null,"nothing to refresh"):(l.infof(null,"dispatch trying to refresh %o spaces out of %o with type %o",
c.length,f[b].length,b),z(c).then(function(d){d=d||[];var e=[];a.forEach(c,function(a){0>d.indexOf(a)&&e.push(a)});l.infof(null,"refreshed %o spaces out of %o",d.length,c.length);f[b]=e}))},1E3)},X=function(c){a.forEach(c,function(a){a.state=J.Auction.States.DISPATCHED;n.push(a);h.push(a);a.unit.countOfDispatches++;a.unit.lastInvokeTime=new Date;b.fireEvent("onAuctionStarted",{auction:a})})},ca=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];ba.isElementVisible(d.selector.value)&&b.push(d)}return b},
ga=function(a){if(!document.hasFocus())return a;for(var b=[],c=0;c<a.length;c++){var d=a[c];ba.isElementVisible(d.selector.value)||b.push(d)}return b},ha,ja=function(){clearTimeout(ha);ha=setTimeout(function(){try{var a=b.fireEvent("extractPublisherSpacesLaterDefinedUnits");if(a)for(var c=0;c<a.length;c++){var e=new J.Space(u(a[c]));d.push(e)}}catch(Ma){}},1E3)}},N=new function(){var a=[];this.set=function(b){a.push(b)};this.getBySpace=function(b){for(var c=0;c<a.length;c++){var d=a[c];if(d.space==
b)return d}};this.getByElement=function(b){for(var c=0;c<a.length;c++){var d=a[c];if(d.element==b)return d}};this.getAll=function(){return a}}})(Ha);Ha.init(x[0])})(arguments);

})({});